(()=>{"use strict";var e,t={9588:(e,t,a)=>{a.d(t,{T5:()=>n,z2:()=>r,ax:()=>i});var n="https://ton-swap-indexer-test.broxus.com/v1",r="https://farming-pool-indexer-test.broxus.com/v1",i=["0:0ee39330eddb680ce731cd6a443c71d9069db06d149a9bec9569d1eb8d04eb37","0:751b6e22687891bdc1706c8d91bf77281237f7453d27dc3106c640ec165a2abf","0:1ad0575f0f98f87a07ec505c39839cb9766c70a11dadbfc171f59b2818759819"]},75794:(e,t,a)=>{var n=a(67294),r=a(73935),i=a(29558),s=a(73727),o=a(5977),l=a(30236),c=a(88549),u=a(877),d=a(67611);const m={OPEN_IN_EXPLORER:"Open in explorer",NAV_LINK_SOON_HINT:" soon",NAV_LINK_TEXT_SWAP:"Swap",NAV_LINK_TEXT_POOLS:"Pools",NAV_LINK_TEXT_TOKENS:"Tokens",NAV_LINK_TEXT_PAIRS:"Pairs",NAV_LINK_TEXT_FARMING:"Farming",NAV_LINK_TEXT_BUILDER:"Builder",WALLET_CONNECTING_POPUP_TITLE:"Connect to a wallet",WALLET_CONNECTING_POPUP_LEAD_WALLET_NAME:"Crystal Wallet",WALLET_CONNECTING_POPUP_LEAD_IN_PROCESS:"Initializing...",WALLET_UPDATING_POPUP_LEAD_IS_OUTDATED:"Extension version is outdated",WALLET_UPDATING_POPUP_NOTE:'<p>Your wallet version is too old. Please update extension at <a href="https://chrome.google.com/webstore/detail/ton-crystal-wallet/cgeeodpfagjceefieflmdfphplkenlfk" target="_blank" rel="nofollow noopener noreferrer">chrome.google.com</a> or local, through chrome://extensions/.</p><p>Reload this page after installing the update.</p>',WALLET_UPDATING_LINK_TEXT:"Update Crystal Wallet",WALLET_INSTALLATION_LINK_TEXT:"Install Crystal Wallet",WALLET_INSTALLATION_NOTE:'<p>At the moment, only Crystal Wallet supports TON Swap.</p><p>If you haven’t installed the extension yet, you can do it at <a href="https://chrome.google.com/webstore/category/extensions" target="_blank" rel="nofollow noopener noreferrer">chrome.google.com</a></p>',WALLET_BALANCE_HINT:"{balance} TON",WALLET_BTN_TEXT_CONNECT:"Connect to a wallet",FOOTER_NAV_HEADER_PRODUCT:"Product",FOOTER_NAV_HEADER_DEFI_PRODUCTS:"DeFi Products",FOOTER_NAV_TON_BRIDGE_LINK_TEXT:"TON Bridge",FOOTER_NAV_TON_SCAN_LINK_TEXT:"TON Scan",FOOTER_NAV_WTON_LINK_TEXT:"WTON",FOOTER_NAV_CRYSTAL_WALLET_LINK_TEXT:"Crystal Wallet",FOOTER_TERMS_OF_USE_LINK_TEXT:"Terms of use",FOOTER_PRIVACY_POLICY_LINK_TEXT:"Privacy policy",FOOTER_COOKIES_TERMS_LINK_TEXT:"Cookies",FOOTER_COPYRIGHTS:'&copy; <a href="https://demetergift.com" target="_blank" rel="noopener noreferrer">Demetergift</a>, {year}',PAGINATION_BEFORE_TEXT:"Page",PAGINATION_PAGE_OF:"of {totalPages}",COPY_CLIPBOARD_SUCCESS:"Copied",SWAP_HEADER_TITLE:"Swap tokens",SWAP_SETTINGS_DROP_TITLE:"Transaction Settings",SWAP_SETTINGS_DROP_NOTE:"Slippage tolerance",SWAP_FIELD_TOKEN_WALLET_BALANCE:"Balance: {balance}",SWAP_FIELD_LABEL_LEFT:"From",SWAP_FIELD_LABEL_RIGHT:"To",SWAP_FIELD_BTN_TEXT_SELECT_TOKEN:"Select a token",SWAP_PRICE_LABEL:"Optimal price",SWAP_PRICE_CROSS_EXCHANGE_AVAILABLE_LABEL:"Cross-exchange available",SWAP_PRICE_CROSS_EXCHANGE_MODE_LABEL:"Get a better price",SWAP_PRICE_DIRECT_EXCHANGE_MODE_LABEL:"Back to direct swap",SWAP_PRICE_CROSS_EXCHANGE_MODE_ONLY_LABEL:"Cross-exchange only",SWAP_PRICE_RESULT:"{value} {leftSymbol}&nbsp;per&nbsp;{rightSymbol}",SWAP_BTN_TEXT_SELECT_A_TOKEN:"Select a token",SWAP_BTN_TEXT_ENTER_AN_AMOUNT:"Enter an amount",SWAP_BTN_TEXT_NOT_ENOUGH_LIQUIDITY:"Not enough liquidity",SWAP_BTN_TEXT_INSUFFICIENT_TOKEN_BALANCE:"Insufficient <s>{symbol}</s> balance",SWAP_BTN_TEXT_ROUTE_DOES_NOT_EXIST:"Route doesn’t exist",SWAP_BTN_TEXT_SUBMIT:"Swap",SWAP_BTN_TEXT_CONFIRM_SUBMIT:"Confirm",SWAP_BTN_TEXT_CONFIRMATION_AWAIT:"Await confirmation...",SWAP_BILL_LABEL_ROUTE:"Route",SWAP_BILL_LABEL_SLIPPAGE:"Slippage tolerance",SWAP_BILL_LABEL_MINIMUM_RECEIVE:"Minimum receive",SWAP_BILL_RESULT_MINIMUM_RECEIVE:"<span>{value}</span> {symbol}",SWAP_BILL_LABEL_PRICE_IMPACT:"Price impact",SWAP_BILL_RESULT_PRICE_IMPACT:"<span>&lt;{value}%</span>",SWAP_BILL_LABEL_FEE:"Liquidity Provider Fee",SWAP_BILL_RESULT_FEE:"<span>{value}</span> {symbol}",SWAP_POPUP_CONFORMATION_TITLE:"Confirm transaction",SWAP_TRANSACTION_RECEIPT_POPUP_TITLE_SUCCESS:"Swap has been completed successfully",SWAP_TRANSACTION_RECEIPT_POPUP_TITLE_FAILURE:"Swap cancelled",SWAP_TRANSACTION_RECEIPT_LEAD_RECEIVED_AMOUNT:"+ <span>{value}</span> {symbol}",SWAP_TRANSACTION_RECEIPT_LINK_TXT_TOKEN_ROOT_CONTRACT:"Token root contract",SWAP_TRANSACTION_RECEIPT_LINK_TXT_TRANSACTION:"Transaction result",SWAP_TRANSACTION_RECEIPT_CANCELLED_NOTE:"<p>The Swap was canceled. Your balance hasn’t changed.</p>",SWAP_TRANSACTION_RECEIPT_CROSS_EXCHANGE_CANCELLED_NOTE:"Due to the slippage is more than {slippage}% of the {leftSymbol}/{rightSymbol} pair, you stayed with {leftSymbol} token.",TOKENS_LIST_POPUP_TITLE:"Select a token",TOKENS_LIST_POPUP_FIELD_SEARCH_PLACEHOLDER:"Enter a token name or address...",TOKENS_LIST_POPUP_NO_RESULTS:"No results found",TOKENS_LIST_POPUP_BTN_TEXT_IMPORT_TOKEN:"Import",TOKENS_LIST_POPUP_IMPORT_TOKEN_TITLE:"Import token",TOKENS_LIST_POPUP_IMPORT_TOKEN_WARNING:"This token doesn’t appear on the active token list(s). Make sure this is the token that you want to trade.",ACCOUNT_CONNECTOR_NOTE:"You need to connect account, before you can continue. Account connection for this wallet occurs only once. You will not need to go through this procedure in the future.",ACCOUNT_CONNECTOR_BUTTON:"Connect account",TOKEN_SELECTOR_PLACEHOLDER:"Token…",REMOVE_LIQUIDITY_FORM_TITLE:"Remove liquidity",REMOVE_LIQUIDITY_FORM_SELECT_PAIR:"Select pair",REMOVE_LIQUIDITY_FORM_WARNING_NO_LP_TITLE:"No liquidity in this pool",REMOVE_LIQUIDITY_FORM_WARNING_NO_LP_TEXT:"<p>It seems you don’t have any liquidity locked in this pool. Make sure you have {symbol} token at your wallet balance.</p><p>If you use LP tokens for farming, make sure to withdraw them from the farm first.</p>",REMOVE_LIQUIDITY_FORM_WARNING_NOT_EXIST_TITLE:"Pool doesn’t exist",REMOVE_LIQUIDITY_FORM_WARNING_NOT_EXIST_TEXT:"You need to create pool, before you can to continue.",REMOVE_LIQUIDITY_FORM_INPUT_AMOUNT:"Input amount of LP tokens to burn",REMOVE_LIQUIDITY_FORM_BALANCE:"Available balance: {value}",REMOVE_LIQUIDITY_FORM_ERROR_TO_BIG:"Available balance: {value}<br />Requested amount is too big",REMOVE_LIQUIDITY_FORM_RECEIVE:"You will receive",REMOVE_LIQUIDITY_FORM_POSITION:"Your position in the pool",REMOVE_LIQUIDITY_FORM_NOW:"Now",REMOVE_LIQUIDITY_FORM_AFTER:"After removal",REMOVE_LIQUIDITY_FORM_SHARE:"Share",REMOVE_LIQUIDITY_FORM_SHARE_VALUE:"{value}%",REMOVE_LIQUIDITY_FORM_CONFIRM:"Confirm",REMOVE_LIQUIDITY_FORM_CONNECT:"Connect to a wallet",REMOVE_LIQUIDITY_FORM_SHARE_NULL:"—",REMOVE_LIQUIDITY_PROCESS_TITLE:"Waiting for confirmation",REMOVE_LIQUIDITY_PROCESS_TEXT:"Burning {amount} {symbol}",REMOVE_LIQUIDITY_PROCESS_HINT:"Confirm this transaction in your wallet.",REMOVE_LIQUIDITY_SUCCESS_TITLE:"Transaction submitted",REMOVE_LIQUIDITY_SUCCESS_BURNED:"Burned, {symbol}",REMOVE_LIQUIDITY_SUCCESS_SUBMIT:"View on TON Scan",REMOVE_LIQUIDITY_SUCCESS_SENT:"Sent, {symbol}",REMOVE_LIQUIDITY_SUCCESS_PLUS:"+{value}",REMOVE_LIQUIDITY_SUCCESS_MINUS:"-{value}",POOLS_LIST_CONNECT_WALLET_TITLE:"Your liquidity positions will appear here.",POOLS_LIST_TITLE:"Pools Overview",POOLS_LIST_HEADER_NEW:"New position",POOLS_LIST_HEADER_REMOVE:"Remove Liquidity",POOLS_LIST_FAV_TITLE:"Favorite pools",POOLS_LIST_FILTER_PLACEHOLDER:"Searching…",POOLS_LIST_TABLE_PAIR:"Pair",POOLS_LIST_TABLE_LP_TOKENS:"LP tokens",POOLS_LIST_TABLE_LEFT_TOKEN:"Left token",POOLS_LIST_TABLE_RIGHT_TOKEN:"Right token",POOLS_LIST_TOTAL_BALANCE_TITLE:"Total balance",POOLS_LIST_TOTAL_BALANCE_AMOUNT:"Amount, {name}",POOLS_LIST_TOTAL_SHARE_TITLE:"Share in Liquidity pool",POOLS_LIST_TOTAL_SHARE:"{value}%",POOLS_LIST_TOTAL_APPORTIONMENT:"Total LP breakdown, tokens",POOLS_LIST_TOTAL_COMMISSION_REWARD:"Total commission reward",POOLS_LIST_BURN_BUTTON:"Burn Liquidity",POOLS_LIST_ADD_BUTTON:"Add liquidity",POOLS_LIST_WALLET_BALANCE:"Wallet balance",POOLS_LIST_AMOUNT:"Amount, {name}",POOLS_LIST_APPORTIONMENT:"LP breakdown, tokens",POOLS_LIST_NOTHING_FOUND:"Nothing found",POOLS_LIST_EMPTY_TABLE:"Favorite pools will be displayed here",POOLS_LIST_EMPTY_TABLE_META:"You can add favorite pools in {link} section",POOLS_LIST_EMPTY_TABLE_META_LINK_TEXT:"Pairs",POOLS_LIST_TOKEN_BALANCE:"{value} {symbol}",POOLS_LIST_USER_BALANCE:"Your balance",POOLS_LIST_LOCKED_FARM:"Locked in farming pools",POOLS_FARMINGS_TITLE:"Farming pools",POOLS_LIST_ITEM_NOT_FOUND:"Pool not found",POOLS_LIST_ITEM_TITLE:"{symbol} Liquidity pool",POOLS_LIST_ITEM_OVERVIEW:"Pools overview",POOL_HEADER_TITLE:"Add Liquidity",POOL_FIELD_TOKEN_WALLET_BALANCE:"Balance: {balance}",POOL_FIELD_LABEL_LEFT:"Left",POOL_FIELD_LABEL_RIGHT:"Right",POOL_FIELD_BTN_TEXT_SELECT_TOKEN:"Select a token",POOL_AUTO_EXCHANGE_TEXT:"<p>Enable auto exchange</p><p>In this case, <b>{leftSymbol}</b> will be automatically exchanged for <b>{rightSymbol}</b> for the missing amount to compensate for the difference.</p>",POOL_STEP_NOTE_LEAD_INIT:"Initializing...",POOL_STEP_NOTE_LEAD_CHECK_ACCOUNT:"Checking account...",POOL_STEP_NOTE_LEAD_CHECK_PAIR:"Checking pool...",POOL_STEP_NOTE_LEAD_CONNECT_ACCOUNT:"Account not connected",POOL_STEP_NOTE_LEAD_CONNECTING_ACCOUNT:"Connecting account...",POOL_STEP_NOTE_LEAD_POOL_NOT_EXIST:"Pool doesn’t exist",POOL_STEP_NOTE_LEAD_POOL_NOT_CONNECTED:"Pool not connected",POOL_STEP_NOTE_LEAD_POOL_CONNECTING:"Pool connecting...",POOL_STEP_NOTE_LEAD_POOL_CREATING:"Creating pool...",POOL_STEP_NOTE_LEAD_AWAIT_TRANSACTION:"Await transaction...",POOL_STEP_NOTE_LEAD_SUPPLYING:"Supplying...",POOL_STEP_NOTE_TEXT_CONNECT_ACCOUNT:"You need to connect account, before you can continue. Account connection for this wallet occurs only once. You will not need to go through this procedure in the future.",POOL_STEP_NOTE_TEXT_CONNECTING_ACCOUNT:"You need to connect account, before you can continue. Account connection for this wallet occurs only once. You will not need to go through this procedure in the future.",POOL_STEP_NOTE_TEXT_SELECT_TOKEN:"You need to select left and right pair token, before you can continue.",POOL_STEP_NOTE_TEXT_CREATE_POOL:"You need to create pool, before you can to continue.",POOL_STEP_NOTE_TEXT_CONNECT_POOL:"You need to connect this pool to your dex account, before you can to continue.",POOL_BTN_TEXT_INIT:"Initializing",POOL_BTN_TEXT_CHECK_ACCOUNT:"Checking...",POOL_BTN_TEXT_CONNECT_ACCOUNT:"Connect account",POOL_BTN_TEXT_CONNECTING_ACCOUNT:"Connecting...",POOL_BTN_TEXT_SELECT_PAIR:"Select tokens",POOL_BTN_TEXT_ENTER_AN_AMOUNT:"Enter an amount",POOL_BTN_TEXT_CHECK_PAIR:"Checking pool...",POOL_BTN_TEXT_CREATE_POOL:"Create pool",POOL_BTN_TEXT_CONNECT_POOL:"Connect pool",POOL_BTN_TEXT_CREATING_POOL:"Creating...",POOL_BTN_TEXT_CONNECTING_POOL:"Connecting...",POOL_BTN_TEXT_DEPOSIT_TOKEN:"Deposit {symbol}",POOL_BTN_TEXT_SUPPLY:"Supply",POOL_BTN_TEXT_SUBMIT:"Submit",POOL_DATA_SUBTITLE_DEX_ACCOUNT:"TON Swap account balance",POOL_DEX_DATA_LABEL_LP_TOKENS:"LP Tokens",POOL_DEX_DATA_LABEL_CURRENT_SHARE:"Current share",POOL_DEX_DATA_RESULT_CURRENT_SHARE:"{value}%",POOL_DEX_DATA_RESULT_CURRENT_SHARE_LEFT:"{value} {symbol}",POOL_DEX_DATA_RESULT_CURRENT_SHARE_RIGHT:"{value} {symbol}",POOL_ROOTS_INFO_LABEL_DEX_ADDRESS:"TON Swap account address",POOL_ROOTS_INFO_LABEL_LP_ROOT:"LP Root address",POOL_ROOTS_INFO_LABEL_PAIR_ROOT:"Pool address",POOL_DATA_SUBTITLE_CURRENT_STATE:"Pool data",POOL_DATA_LABEL_LP_SUPPLY:"LP Supply",POOL_DATA_LABEL_LEFT_PRICE:"{leftSymbol} per {rightSymbol}",POOL_DATA_LABEL_RIGHT_PRICE:"{rightSymbol} per {leftSymbol}",POOL_DATA_LABEL_FEE:"Fee",POOL_DATA_SUBTITLE_AFTER_SUPPLY:"After supply",POOL_DATA_LABEL_SHARE_PERCENT:"Share",POOL_DATA_RESULT_SHARE_PERCENT:"{value}%",POOL_DATA_LABEL_SHARE_CHANGE_PERCENT:"Share change",POOL_DATA_RESULT_SHARE_CHANGE_PERCENT:"+ {value}%",POOL_DATA_LABEL_NEW_LEFT_PRICE:"{leftSymbol} per {rightSymbol}",POOL_DATA_LABEL_NEW_RIGHT_PRICE:"{rightSymbol} per {leftSymbol}",POOL_SUPPLY_RECEIPT_POPUP_TITLE:"Supply receipt",POOL_SUPPLY_RECEIPT_LEAD_SUCCESSFUL_AMOUNT:"+ <span>{value}</span> LP",POOL_SUPPLY_RECEIPT_SUBTITLE_RESULT:"Supply result",POOL_SUPPLY_RECEIPT_DATA_LABEL_SHARE_PERCENT:"Share",POOL_SUPPLY_RECEIPT_DATA_RESULT_SHARE_PERCENT:"{value}%",POOL_SUPPLY_RECEIPT_DATA_LABEL_SHARE_CHANGE_PERCENT:"Share change",POOL_SUPPLY_RECEIPT_DATA_RESULT_SHARE_CHANGE_PERCENT:"+ {value}%",POOL_SUPPLY_RECEIPT_DATA_LABEL_NEW_LEFT_PRICE:"{leftSymbol} per {rightSymbol}",POOL_SUPPLY_RECEIPT_DATA_LABEL_NEW_RIGHT_PRICE:"{rightSymbol} per {leftSymbol}",POOL_SUPPLY_RECEIPT_SUCCESSFUL_NOTE:'<p>Supply completed successfully.</p><p>LP token root <a href="https://ton-explorer.com/accounts/{address}" target="_blank" rel="nofollow noopener noreferrer">contract</a>.</p><p>You can view the result transaction in the <a href="https://ton-explorer.com/transactions/{transactionHash}" target="_blank" rel="nofollow noopener noreferrer">explorer</a>.</p>',POOL_SUPPLY_RECEIPT_LEAD_CANCELLED:"Supply cancelled",POOL_SUPPLY_RECEIPT_CANCELLED_NOTE:"<p>The Supply was canceled. Your balance hasn’t changed.</p>",POOL_SUPPLY_RECEIPT_POPUP_BTN_TEXT_CLOSE:"Close",FARMING_HEADER_TITLE:"Farming",FARMING_HEADER_CREATE_LINK_TEXT:"Create farm pool",FARMING_HEADER_GUIDE_LINK_TEXT:"Guide",FARMING_LIST_HEADER_TOKEN_CELL:"Token",FARMING_LIST_HEADER_TVL_CELL:"TVL",FARMING_LIST_HEADER_APY_CELL:"APY",FARMING_LIST_HEADER_REWARD_CELL:"Reward",FARMING_LIST_HEADER_SHARE_CELL:"Share",FARMING_LIST_HEADER_POOL_CELL:"Pool",FARMING_LIST_POOL_STATUS_EXPIRED:"Expired",FARMING_LIST_POOL_STATUS_ACTIVE:"Active",FARMING_LIST_POOL_STATUS_AWAITING:"Awaiting",FARMING_LIST_POOL_DETAILS_HEADER_TITLE:"Farm pool {symbol}",FARMING_LIST_POOL_DETAILS_HEADER_SUBTITLE:"Pool data",FARMING_LIST_POOL_DETAILS_FARM_BALANCE:"Farm balance, {symbol}",FARMING_LIST_POOL_DETAILS_FARM_SPEED:"Farm speed {symbol}/sec",FARMING_LIST_POOL_DETAILS_REWARD_BALANCE:"Reward balance, {symbol}",FARMING_LIST_POOL_DETAILS_FARM_START:"Farm start",FARMING_LIST_POOL_DETAILS_FARM_END:"Farm end",FARMING_LIST_POOL_DETAILS_VESTING_RATIO:"Vesting ratio, percent",FARMING_LIST_POOL_DETAILS_VESTING_PERIOD:"Vesting period, days",FARMING_LIST_POOL_DETAILS_POOL_ADDRESS:"Pool address",FARMING_LIST_POOL_DETAILS_OWNER_ADDRESS:"Owner address",FARMING_LIST_POOL_DETAILS_FARM_TOKEN_ROOT:"Farm token root",FARMING_LIST_POOL_DETAILS_REWARD_TOKEN:"Reward token root, {symbol}",FARMING_POOL_FORM_WALLET_BALANCE_TEXT:"Your wallet balance {balance} {symbol}",FARMING_POOL_FORM_DEPOSIT_AMOUNT_PLACEHOLDER:"Amount...",FARMING_POOL_FORM_MAX_AMOUNT_DEPOSIT_BTN_TEXT:"Max",FARMING_POOL_FORM_DEPOSIT_BTN_TEXT:"Deposit",FARMING_POOL_FORM_DEPOSITING_BTN_TEXT:"Depositing",FARMING_POOL_FORM_CREATE_PERIOD_START:"Start time, YYYY/MM/DD HH:MM",FARMING_POOL_FORM_CREATE_PERIOD_RPS:"Reward per second, {symbol}...",FARMING_POOL_FORM_SET_END_TIME:"Close time, YYYY/MM/DD HH:MM",FARMING_POOL_FORM_CREATE_PERIOD:"Create period",FARMING_POOL_FORM_CLOSE_POOL:"Close pool",FARMING_POOL_FORM_CLAIM_BTN_TEXT:"Claim",FARMING_POOL_FORM_WITHDRAW_BTN_TEXT:"Withdraw",FARMING_POOL_FORM_DEPOSIT_TOKEN_BTN_TEXT:"Deposit {symbol}",FARMING_POOL_FORM_DEPOSITING_TOKEN_BTN_TEXT:"Depositing {symbol}",FARMING_POOL_FORM_TOKEN_WALLET_BALANCE_TEXT:"Your {symbol} wallet balance: {amount} {symbol}",FARMING_POOL_FORM_ADMIN_TEXT:"You are the pool administrator. You have access to the functions of deposit and withdrawal of unclaimed balance.",FARMING_POOL_FORM_WITHDRAW_UNCLAIMED_BTN_TEXT:"Withdraw all",FARMING_LIST_USER_DETAILS_HEADER_SUBTITLE:"User data",FARMING_LIST_USER_DETAILS_FARM_USER_BALANCE:"Farm balance, {symbol}",FARMING_LIST_USER_DETAILS_FARM_USER_UNCLAIMED_REWARD:"Unclaimed reward, {symbol}",FARMING_LIST_USER_DETAILS_FARM_USER_UNCLAIMED_REWARD_ENTITLED:"Entitled reward, {symbol}",FARMING_LIST_USER_DETAILS_FARM_USER_UNCLAIMED_REWARD_DEBT:"Reward debt, {symbol}",FARMING_LIST_USER_DETAILS_FARM_USER_UNCLAIMED_VESTING_TIME:"Vesting before",FARMING_LIST_USER_DETAILS_FARM_CONTRACT_ADDRESS:"Farm contract address",FARMING_CREATE_HEADER_TITLE:"Create farm pool",FARMING_CREATE_FIELD_FARM_TOKEN_ROOT_LABEL:"Farm token root",FARMING_CREATE_FIELD_FARM_TOKEN_ROOT_HINT:"Address",FARMING_CREATE_FIELD_FARM_START_LABEL:"Farm start",FARMING_CREATE_FIELD_FARM_START_HINT:"YYYY/MM/DD HH:MM",FARMING_CREATE_FIELD_FARM_END_LABEL:"Farm end",FARMING_CREATE_FIELD_FARM_END_HINT:"YYYY/MM/DD HH:MM",FARMING_CREATE_FIELD_FARM_VESTING_RATIO_LABEL:"Vesting ratio",FARMING_CREATE_FIELD_FARM_VESTING_RATIO_HINT:"Ratio, percent",FARMING_CREATE_FIELD_FARM_VESTING_PERIOD_LABEL:"Vesting period",FARMING_CREATE_FIELD_FARM_VESTING_PERIOD_HINT:"Period, seconds",FARMING_CREATE_FIELD_REWARD_TOKEN_ROOT_LABEL:"Reward token root",FARMING_CREATE_FIELD_REWARD_TOKEN_ROOT_HINT:"Address",FARMING_CREATE_FIELD_TOTAL_REWARD_LABEL:"Reward per second",FARMING_CREATE_FIELD_TOTAL_REWARD_HINT:"Reward",FARMING_CREATE_FIELD_TOKEN_TOTAL_REWARD_HINT:"{symbol} per second",FARMING_CREATE_ADD_REWARD_TOKEN_LINK_TEXT:"Add reward token",FARMING_CREATE_POOL_SUBTITLE_PARAMS:"Farm pool params",FARMING_CREATE_POOL_PARAMS_FARM_TOKEN:"Farm token",FARMING_CREATE_POOL_PARAMS_FARM_START_LOCAL:"Start (Local Time)",FARMING_CREATE_POOL_PARAMS_FARM_START_UTC:"Start (UTC)",FARMING_CREATE_POOL_PARAMS_FARM_END_LOCAL:"End (Local Time)",FARMING_CREATE_POOL_PARAMS_FARM_END_UTC:"End (UTC)",FARMING_CREATE_POOL_PARAMS_FARM_PERIOD:"Period length",FARMING_CREATE_POOL_PARAMS_FARM_PERIOD_VALUE:"{days, plural, =0 {0 days} one {# day} other {# days}}",FARMING_CREATE_POOL_PARAMS_REWARD_TOKEN:"Reward token #{index}",FARMING_CREATE_POOL_PARAMS_REWARD_TOKEN_DAY:"Month reward #{index}",FARMING_CREATE_POOL_PARAMS_REWARD_TOKEN_FARM_SPEED:"Farm speed #{index}",FARMING_CREATE_POOL_PARAMS_REWARD_TOKEN_FARM_SPEED_VALUE:"{value} {symbol}/sec",FARMING_CREATE_POOL_PARAMS_REWARD_TOKEN_FARM_DEPOSIT:"Deposit #{index}",FARMING_CREATE_POOL_PARAMS_REWARD_TOKEN_FARM_DEPOSIT_VALUE:"{value} {symbol}",FARMING_CREATE_POOL_VALID_STATE_CREATION_NOTE:"Farm pool creation cost is 7 TON. Gas does not return.",FARMING_CREATE_POOL_VALID_STATE_DEPOSIT_NOTE:"You need to deposit full amount of {tokensDeposits} to pool address before it becomes active.",FARMING_CREATE_BTN_TEXT_SUBMIT:"Create pool",FARMING_LIST_TITLE:"Farming pools",FARMING_LIST_TITLE_ALL:"All pools",FARMING_LIST_TITLE_FAV:"Favorite pools",FARMING_LIST_CREATE_BTN:"Create farm pool",FARMING_TABLE_FARMING_POOL:"Farming pool",FARMING_TABLE_REWARD:"Reward",FARMING_TABLE_TVL:"TVL",FARMING_TABLE_TVL_CHANGE:"TVL change",FARMING_TABLE_APR:"APR",FARMING_TABLE_APR_CHANGE:"APR change",FARMING_TABLE_SHARE:"Share",FARMING_TABLE_YOUR_REWARD:"Your reward",FARMING_TABLE_ENTITLED_REWARD:"Entitled reward",FARMING_TABLE_DATE:"Date",FARMING_TABLE_NOT_FOUND:"No farming pools found",FARMING_TABLE_REWARDS_TITLE:"Reward tokens",FARMING_TABLE_APR_VALUE:"{value}%",FARMING_TABLE_SHARE_VALUE:"{value}%",FARMING_TABLE_NULL:"N/A",FARMING_DATE_WAITING:"Starts {date}",FARMING_DATE_ACTIVE:"Ends {date}",FARMING_DATE_INFINITE:"Started",FARMING_DATE_ENDED:"Ended",FARMING_PAIR_WAITING_TOOLTIP:"<h4>Waiting for the start of farming</h4><p>The farming period has not yet begun in<br />this pool.</p>",FARMING_PAIR_PUBLIC_TOOLTIP:"<h4>Your farming pool is visible to everyone</h4>",FARMING_PAIR_PRIVATE_TOOLTIP:"<h4>Only you see your farming pool</h4><p>Deposit the reward amount to the pool<br />balance to make it publicly visible</p>",FARMING_PAIR_WARNING_TOOLTIP:"<h4>Warning!</h4><p>Low reward balance, we do not<br />recommend investing in this pool</p>",FARMING_FILTER_FORM_BUTTON:"Filter",FARMING_FILTER_FORM_INPUT:"Search...",FARMING_ITEM_BREADCRUMB_LIST:"All farming pools",FARMING_ITEM_BREADCRUMB_ITEM:"{symbol} farming pool",FARMING_ITEM_NOT_FOUND:"Farming pool not found",FARMING_ITEM_TITLE:"{symbol} farming pool",FARMING_ITEM_APR:"{value}%",FARMING_ITEM_BALANCE_TITLE:"Farming balance",FARMING_ITEM_MANAGEMENT_TITLE:"Pool management",FARMING_ITEM_USER_INFO_TITLE:"My farming performance",FARMING_ITEM_BASE_INFO_TITLE:"Farming pool statistics",FARMING_ITEM_DETAILS_TITLE:"Details",FARMING_ITEM_SPEED_TITLE:"Farming speed changes",FARMING_ITEM_TRANSACTIONS_TITLE:"Transactions",FARMING_MESSAGE_GET_LP_TITLE:"You don’t have the required LP tokens. Get them now to start farming at {apr}% APR",FARMING_MESSAGE_GET_LP_ACCEPTS:"This pool accepts {symbol} tokens.",FARMING_MESSAGE_GET_LP_DEPOSIT:"Deposit your {left} and {right} to the liquidity pool and get LP tokens to start farming.",FARMING_MESSAGE_GET_LP_GUIDE:"See guide",FARMING_MESSAGE_GET_LP_GET:"Get LP tokens",FARMING_MESSAGE_FARM_ENDED_TITLE:"Farm pool ended. We recommend to withdraw all you LP and reward tokens.",FARMING_MESSAGE_LOW_BALANCE_TITLE:"The farming pool reward balance is too low. We don’t recommend investing in this pool now. Check the pool later.",FARMING_MESSAGE_ADMIN_LOW_BALANCE_TITLE:"This farm pool is checked as danger one. Deposit reward tokens to the farming pool balance",FARMING_MESSAGE_ADMIN_LOW_BALANCE_TEXT:"Top up your farming pool balance otherwise the holders won’t able to get their own rewards.",FARMING_MESSAGE_ADMIN_LOW_BALANCE_BTN:"Deposit reward tokens",FARMING_MESSAGE_ADMIN_NULL_BALANCE_TITLE:"Insufficient balance",FARMING_MESSAGE_ADMIN_NULL_BALANCE_TEXT:"Your farm is accumulating debt due to the low balance of reward tokens.<br />Top up the farm balance to pay the debt or close the pool to prevent deficit growth.",FARMING_MESSAGE_ADMIN_NULL_BALANCE_BTN:"Deposit reward tokens",FARMING_BALANCE_DEPOSIT_TITLE:"Deposit",FARMING_BALANCE_DEPOSIT_TEXT:"Deposit your LP tokens to start farming",FARMING_BALANCE_DEPOSIT_ACTION:"Deposit",FARMING_BALANCE_DEPOSIT_BALANCE:"Your wallet balance: {value} {symbol}",FARMING_BALANCE_WITHDRAW_TITLE:"Withdraw",FARMING_BALANCE_WITHDRAW_CLAIM_TAB:"Claim reward",FARMING_BALANCE_WITHDRAW_WITHDRAW_TAB:"Withdraw LP tokens",FARMING_BALANCE_WITHDRAW_ACTION_CLAIM:"Claim",FARMING_BALANCE_WITHDRAW_ACTION_WITHDRAW:"Withdraw",FARMING_BALANCE_WITHDRAW_BALANCE:"Your farming balance: {value} {symbol}",FARMING_BALANCE_TOKEN:"{amount} {symbol}",FARMING_ADMIN_DEPOSIT_REQUIRED_BALANCE:"Deposited: <b>{amount} {symbol}</b> / {required} {symbol}",FARMING_ADMIN_DEPOSIT_BALANCE:"Deposited: {amount} {symbol}",FARMING_ADMIN_DEPOSIT_TITLE:"Deposit reward tokens",FARMING_ADMIN_DEPOSIT_TEXT:"Tokens that will be rewarded to LP token holders.",FARMING_ADMIN_DEPOSIT_WARNING_TITLE:"Amount of deposited reward tokens is not enough",FARMING_ADMIN_DEPOSIT_WARNING_TEXT:"Only you see this farming pool. Deposit reward tokens to this farming pool to launch farming and make it public for all.",FARMING_ADMIN_DEPOSIT_ACTION:"Deposit",FARMING_ADMIN_DEPOSIT_HINT:"Your wallet balance: {amount} {symbol}",FARMING_ADMIN_WITHDRAW_TITLE:"Withdraw reward tokens",FARMING_ADMIN_WITHDRAW_TEXT:"You will be able to withdraw unused part of reward tokens after vesting and lock periods are over",FARMING_ADMIN_WITHDRAW_BTN:"Withdraw",FARMING_ADMIN_WITHDRAW_TOKENS_TITLE:"Available balance",FARMING_CONFIG_TITLE:"Farm configuration",FARMING_CONFIG_TAB_SPEED:"Speed",FARMING_CONFIG_TAB_END_TIME:"Danger zone",FARMING_CONFIG_REWARD_AMOUNT_LABEL:"Reward amount, {symbol}/sec",FARMING_CONFIG_REWARD_AMOUNT_PLACEHOLDER:"Amount...",FARMING_CONFIG_START_LABEL:"Farming start",FARMING_CONFIG_DATE_PLACEHOLDER:"YYYY.MM.DD",FARMING_CONFIG_TIME_PLACEHOLDER:"HH:MM",FARMING_CONFIG_SAVE_CHANGES:"Save changes",FARMING_CONFIG_END_LABEL:"Farming end",FARMING_CONFIG_CLOSE_POOL:"Close pool",FARMING_CONFIG_CONFIRMATION_TITLE:"Are you sure?",FARMING_CONFIG_CONFIRMATION_TEXT:"⚠️ Farm pool closing is irreversible. Do this with caution.",FARMING_CONFIG_CONFIRMATION_YES:"Yes, close pool",FARMING_CONFIG_CONFIRMATION_NO:"No, cancel",FARMING_BASE_INFO_TVL:"TVL",FARMING_BASE_INFO_TOKENS:"LP breakdown, tokens",FARMING_BASE_INFO_LP_TOKENS:"LP token, {symbol}",FARMING_BASE_INFO_APR:"APR",FARMING_BASE_INFO_APR_VALUE:"{value}%",FARMING_BASE_INFO_REWARD:"Remaining reward balance",FARMING_BASE_INFO_SPEED:"Farming speed, sec",FARMING_BASE_INFO_NULL:"N/A",FARMING_USER_INFO_FARMING_BALANCE:"Farming balance",FARMING_USER_INFO_TOKENS:"LP breakdown, tokens",FARMING_USER_INFO_LP_TOKENS:"LP token, {symbol}",FARMING_USER_INFO_ENTITLED_TITLE:"Entitled reward",FARMING_USER_INFO_UNCLAIMED_TITLE:"Unclaimed reward",FARMING_USER_INFO_DEBT_TITLE:"Farm debt",FARMING_USER_INFO_SHARE:"Share in farming pool",FARMING_USER_INFO_SHARE_VALUE:"{value}%",FARMING_USER_INFO_NULL:"N/A",FARMING_USER_INFO_HISTORY_BALANCE:"History balance",FARMING_USER_INFO_HISTORY_TOKENS:"History LP breakdown, tokens",FARMING_USER_INFO_VESTING_TIME:"Vesting end date, UTC",FARMING_USER_INFO_TOTAL_REWARD:"Reward balance",FARMING_USER_INFO_HISTORY_LAST_UPD:"Last update, UTC",FARMING_ADDRESSES_TITLE:"Addresses",FARMING_ADDRESSES_POOL:"Farming pool contract address",FARMING_ADDRESSES_OWNER:"Owner address",FARMING_ADDRESSES_USER:"My farming address",FARMING_ADDRESSES_TOKEN_ROOT:"Farming token root",FARMING_ADDRESSES_TOKEN:"Reward token root, {symbol}",FARMING_VESTING_TITLE:"Vesting",FARMING_VESTING_RATIO_TITLE:"Vesting ratio",FARMING_VESTING_RATIO_VALUE:"{value}%",FARMING_VESTING_RATIO_HINT:"Vesting ratio refers to the percentage of remuneration that will be sent to vesting",FARMING_VESTING_PERIOD_TITLE:"Vesting period",FARMING_VESTING_PERIOD_VALUE:"{days, plural, =0 {0 days} one {# day} other {# days}}",FARMING_VESTING_PERIOD_HINT:"Vesting period is the time frame in which vesting will take place",FARMING_VESTING_VESTING_UNTIL:"Vesting end date, UTC",FARMING_VESTING_VESTING_HINT:"Vesting end date is the date by which all remuneration will be received",FARMING_VESTING_NULL:"—",FARMING_CHART_TAB_TVL:"TVL",FARMING_CHART_TAB_APR:"APR",FARMING_CHART_TIMEFRAME_H1:"1H",FARMING_CHART_TIMEFRAME_D1:"1D",FARMING_CHART_NO_DATA:"No data for the graph",FARMING_FILTER_TITLE:"Filter",FARMING_FILTER_PAIR:"Pair",FARMING_FILTER_STATES:"Pool states",FARMING_FILTER_AWAITING:"Awaiting start",FARMING_FILTER_ACTIVE:"Active",FARMING_FILTER_UNACTIVE:"Unactive",FARMING_FILTER_MY_FARMING:"My farming",FARMING_FILTER_WITH_MY_FARMING:"With my farming",FARMING_FILTER_WITHOUT_MY_FARMING:"Without my farming",FARMING_FILTER_POOL_BALANCE:"Pool balance",FARMING_FILTER_WITH_LOW_BALANCE:"With low balance",FARMING_FILTER_TVL:"TVL, $",FARMING_FILTER_FROM:"From",FARMING_FILTER_TO:"To",FARMING_FILTER_APY:"APY, %",FARMING_FILTER_CLEAR:"Clear",FARMING_FILTER_APPLY:"Apply",FARMING_SPEED_TITLE:"Farming speed, sec",FARMING_SPEED_START_TITLE:"Start, UTC",FARMING_SPEED_END_TITLE:"End, UTC",FARMING_TRANSACTIONS_TAB_ALL:"All",FARMING_TRANSACTIONS_TAB_CLAIMS:"Claims",FARMING_TRANSACTIONS_TAB_DEPOSITS:"Deposits",FARMING_TRANSACTIONS_TAB_WITHDRAW:"Withdraws",FARMING_TRANSACTIONS_TAB_REWARD:"Reward deposits",FARMING_TRANSACTIONS_COL_TYPE:"Transaction",FARMING_TRANSACTIONS_COL_VALUE:"Total value",FARMING_TRANSACTIONS_COL_ACCOUNT:"Account",FARMING_TRANSACTIONS_COL_TIME:"Time",FARMING_TRANSACTIONS_COL_TOKEN:"Token",FARMING_TRANSACTIONS_COL_LEFT:"Left token",FARMING_TRANSACTIONS_COL_RIGHT:"Right token",FARMING_TRANSACTIONS_COL_LP:"LP token",FARMING_TRANSACTIONS_TYPE_CLAIM:"Claim",FARMING_TRANSACTIONS_TYPE_DEPOSIT:"Deposit",FARMING_TRANSACTIONS_TYPE_WITHDRAW:"Withdraw",FARMING_TRANSACTIONS_TYPE_REWARD:"Reward deposit",FARMING_TOKEN:"{amount} {symbol}",AMOUNT_INPUT_MAX:"Max",AMOUNT_INPUT_PLACEHOLDER:"Amount...",CURRENCIES_HEADER_TITLE:"All tokens",CURRENCIES_WATCHLIST_HEADER_TITLE:"My tokens watchlist",CURRENCIES_LIST_HEADER_NAME_CELL:"Name",CURRENCIES_LIST_HEADER_PRICE_CELL:"Price",CURRENCIES_LIST_HEADER_PRICE_CHANGE_CELL:"Price change",CURRENCIES_LIST_HEADER_VOLUME24_CELL:"Volume 24H",CURRENCIES_LIST_HEADER_TVL_CELL:"TVL",CURRENCY_BREADCRUMB_ROOT:"Tokens",CURRENCY_ADD_LIQUIDITY_BTN_TEXT:"Add Liquidity",CURRENCY_TRADE_BTN_TEXT:"Trade",CURRENCY_STATS_TVL_TERM:"TVL",CURRENCY_STATS_VOLUME24_TERM:"24h Trading Volume",CURRENCY_STATS_VOLUME7_TERM:"7d Trading Volume",CURRENCY_STATS_TRANSACTIONS24_TERM:"24h Transactions",CURRENCY_GRAPH_TAB_PRICES:"Prices",CURRENCY_GRAPH_TAB_VOLUME:"Volume",CURRENCY_GRAPH_TAB_TVL:"TVL",CURRENCY_PAIRS_LIST_HEADER_TITLE:"Pairs",CURRENCY_TRANSACTIONS_LIST_HEADER_TITLE:"Transactions",PAIRS_HEADER_TITLE:"All pairs",PAIRS_LIST_HEADER_PAIR_CELL:"Pair",PAIRS_LIST_HEADER_VOLUME24_CELL:"Volume 24H",PAIRS_LIST_HEADER_VOLUME7_CELL:"Volume 7D",PAIRS_LIST_HEADER_TVL_CELL:"TVL",PAIR_BREADCRUMB_ROOT:"Pairs",PAIR_TOKEN_PRICE:"1 {symbolLeft} = {amount} {symbolRight}",PAIR_ADD_LIQUIDITY_BTN_TEXT:"Add Liquidity",PAIR_TRADE_BTN_TEXT:"Trade",PAIR_STATS_TTL_TERM:"Total Tokens Locked",PAIR_STATS_TVL_TERM:"TVL",PAIR_STATS_VOLUME24_TERM:"24h Trading Volume",PAIR_STATS_FEES24_TERM:"24h Fees",PAIR_GRAPH_TAB_VOLUME:"Volume",PAIR_GRAPH_TAB_TVL:"Liquidity",PAIR_TRANSACTIONS_LIST_HEADER_TITLE:"Transactions",BUILDER_HEADER_TITLE:"Builder",BUILDER_HEADER_CREATE_LINK_TEXT:"Create new token",BUILDER_LIST_HEADER_NAME_CELL:"Name",BUILDER_LIST_HEADER_SYMBOL_CELL:"Symbol",BUILDER_LIST_HEADER_DECIMALS_CELL:"Decimals",BUILDER_LIST_HEADER_TOTAL_SUPPLY_CELL:"Total supply",BUILDER_LIST_HEADER_TOTAL_ROOT_CELL:"Root",BUILDER_CREATE_HEADER_TITLE:"Create token",BUILDER_CREATE_FIELD_LABEL_NAME:"Name",BUILDER_CREATE_FIELD_LABEL_SYMBOL:"Symbol",BUILDER_CREATE_FIELD_LABEL_DECIMALS:"Decimals",BUILDER_CREATE_FIELD_PLACEHOLDER_NAME:"Name your token",BUILDER_CREATE_FIELD_PLACEHOLDER_SYMBOL:"Add token symbol",BUILDER_CREATE_FIELD_PLACEHOLDER_DECIMALS:"Set token decimals",BUILDER_CREATE_BTN_TEXT_SUBMIT:"Build",BUILDER_CREATE_BTN_TEXT_ENTER_ALL_DATA:"Enter all data",BUILDER_CREATE_TRANSACTION_RECEIPT_POPUP_TITLE:"Token receipt",BUILDER_CREATE_TRANSACTION_RECEIPT_TOKEN_DEPLOYED:"Token deployed",BUILDER_CREATE_TRANSACTION_RECEIPT_SUCCESSFUL_NOTE:'<p>Token {name} deployed successfully.</p><p>{symbol} token root <a href="https://ton-explorer.com/accounts/{address}" target="_blank" rel="nofollow noopener noreferrer">contract</a>.</p><p>You can view the result transaction in the <a href="https://ton-explorer.com/transactions/{transactionHash}" target="_blank" rel="nofollow noopener noreferrer">explorer</a>.</p>',BUILDER_CREATE_TRANSACTION_RECEIPT_TOKEN_NOT_DEPLOYED:"Token not deployed",BUILDER_CREATE_TRANSACTION_RECEIPT_BTN_TEXT_CLOSE:"Close",BUILDER_SEARCH_FIELD_PLACEHOLDER:"Filtering...",BUILDER_MESSAGE_TOKEN_NOT_FOUND:"Token not found",BUILDER_MESSAGE_NO_TOKEN:"You don’t have any token",BUILDER_BUTTON_CREATE_TOKEN:"Create new one",BUILDER_MANAGE_TOKEN_HEADER_TITLE:"Manage token",BUILDER_MANAGE_TOKEN_DESCRIPTION_TEXT:"Description",BUILDER_MANAGE_TOKEN_ACTIONS_TEXT:"Actions",BUILDER_MANAGE_TOKEN_CIRCULATING_SUPPLY_TITLE:"Manage circulating supply",BUILDER_MANAGE_TOKEN_MINT_NAME:"Mint",BUILDER_MANAGE_TOKEN_MINT_DESCRIPTION:"Issue additional tokens to a specific address",BUILDER_MANAGE_TOKEN_BURN_NAME:"Burn",BUILDER_MANAGE_TOKEN_BURN_DESCRIPTION:"Destroy tokens at a specific address",BUILDER_MANAGE_TOKEN_MINT_BTN_TEXT:"Mint",BUILDER_MANAGE_TOKEN_DANGER_ZONE_TITLE:"Danger zone",BUILDER_MANAGE_TOKEN_TRANSFER_OWNERSHIP_NAME:"Transfer ownership",BUILDER_MANAGE_TOKEN_TRANSFER_OWNERSHIP_DESCRIPTION:"Set a new token owner",BUILDER_MANAGE_TOKEN_TRANSFER_OWNERSHIP_BTN_TEXT:"Transfer",BUILDER_MANAGE_TOKEN_BTN_TEXT_ENTER_ALL_DATA:"Enter all data",BUILDER_MANAGE_TOKEN_MINT_POPUP_TITLE:"Mint tokens",BUILDER_MANAGE_TOKEN_LABEL_TARGET_ADDRESS:"Target address",BUILDER_MANAGE_TOKEN_MINT_LABEL_AMOUNT:"Amount to mint",BUILDER_MANAGE_TOKEN_BURN_POPUP_TITLE:"Burn tokens",BUILDER_MANAGE_TOKEN_BURN_LABEL_AMOUNT:"Amount to burn",BUILDER_MANAGE_TOKEN_BURN_LABEL_CALLBACK_ADDRESS:"Callback address",BUILDER_MANAGE_TOKEN_BURN_LABEL_CALLBACK_PAYLOAD:"Callback payload",BUILDER_MANAGE_TOKEN_BURN_BTN_TEXT:"Burn",BUILDER_MANAGE_TOKEN_TRANSFER_POPUP_TITLE:"Transfer token ownership",BUILDER_MANAGE_TOKEN_TRANSFER_LABEL_NEW_OWNER:"New owner address",BUILDER_MANAGE_TOKEN_LABEL_NETWORK:"Network",BUILDER_MANAGE_TOKEN_LABEL_ROOT:"Root",BUILDER_MANAGE_TOKEN_LABEL_TOKEN_NAME:"Token name",BUILDER_MANAGE_TOKEN_LABEL_TOKEN_SYMBOL:"Token symbol",BUILDER_MANAGE_TOKEN_LABEL_DECIMAL_PLACES:"Decimal places",BUILDER_MANAGE_TOKEN_LABEL_TOTAL_SUPPLY:"Total supply",BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_ADDRESS:"Enter target address",BUILDER_MANAGE_TOKEN_TITLE_BALANCE:"Target address balance",BUILDER_MANAGE_TOKEN_LABEL_SUPPLY:"Circulating supply",BUILDER_MANAGE_TOKEN_LABEL_CURRENT:"Current",BUILDER_MANAGE_TOKEN_LABEL_AFTER_MINING:"After mining",BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_AMOUNT:"Enter amount to mint",BUILDER_MANAGE_TOKEN_BTN_TEXT_SUBMIT:"Confirm",BUILDER_MANAGE_TOKEN_BTN_TEXT_CANCEL:"Cancel",BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_VALID_ADDRESS:"Enter valid target address",BUILDER_MANAGE_TOKEN_MESSAGE_INVALID_CALLBACK_ADDRESS:"Invalid callback address",BUILDER_MANAGE_TOKEN_CONFIRMATION_MINT_TITLE:"Waiting for minting",BUILDER_MANAGE_TOKEN_CONFIRMATION_MINT_DESCRIPTION:"Minting tokens",BUILDER_MANAGE_TOKEN_CONFIRMATION_BURN_TITLE:"Waiting for burning",BUILDER_MANAGE_TOKEN_CONFIRMATION_BURN_DESCRIPTION:"Burning tokens",BUILDER_MANAGE_TOKEN_CONFIRMATION_TRANSFER_TITLE:"Waiting for transfer",BUILDER_MANAGE_TOKEN_CONFIRMATION_TRANSFER_DESCRIPTION:"Transfer is in progress",TRANSACTIONS_LIST_HEADER_TRANSACTION_CELL:"Transaction",TRANSACTIONS_LIST_HEADER_TOTAL_VALUE_CELL:"Total value",TRANSACTIONS_LIST_HEADER_LEFT_TOKEN_CELL:"Left token",TRANSACTIONS_LIST_HEADER_RIGHT_TOKEN_CELL:"Right token",TRANSACTIONS_LIST_HEADER_ACCOUNT_CELL:"Account",TRANSACTIONS_LIST_HEADER_TIME_CELL:"Time",TRANSACTION_EVENT_DEPOSIT:"Add {leftSymbol} and {rightSymbol}",TRANSACTION_EVENT_WITHDRAW:"Remove {leftSymbol} and {rightSymbol}",TRANSACTION_EVENT_SWAP_LEFT_TO_RIGHT:"Swap {leftSymbol} to {rightSymbol}",TRANSACTION_EVENT_SWAP_RIGHT_TO_LEFT:"Swap {rightSymbol} to {leftSymbol}",TRANSACTIONS_LIST_EVENT_ALL:"All",TRANSACTIONS_LIST_EVENT_SWAPS:"Swaps",TRANSACTIONS_LIST_EVENT_DEPOSIT:"Adds",TRANSACTIONS_LIST_EVENT_WITHDRAW:"Removes",TRANSACTIONS_LIST_NO_TRANSACTIONS:"No transactions",TRANSACTIONS_LIST_NULL:"N/A",TRANSACTIONS_LIST_TITLE:"Transactions"};var h=a(52766),_=a(86896),E=a(62326),p=a(24327),f=a(21158),v=a(99819);function T(){var e=(0,_.Z)(),t=(0,f.O)();return n.createElement(h.Qj,null,(function(){return t.isInitialized?n.createElement("div",{key:"ton-wallet",className:"wallet"},t.isConnected?n.createElement("div",{key:"wrapper",className:"wallet__wrapper"},n.createElement("div",{className:"wallet__user-avatar"},n.createElement(p.Y,{address:t.address,size:"small"})),n.createElement("div",{className:"wallet__info"},n.createElement("div",{className:"wallet__address"},(0,v.Hn)(t.address)),void 0!==t.balance&&n.createElement("div",{key:"balance",className:"wallet__balance"},e.formatMessage({id:"WALLET_BALANCE_HINT"},{balance:(0,v.aB)(t.balance,9)||0,currency:"TON"}))),n.createElement("button",{key:"logout",type:"button",className:"btn btn-logout",onClick:t.disconnect},n.createElement(E.J,{icon:"logout"}))):n.createElement("button",{key:"guest",type:"button",className:"btn btn-secondary",disabled:t.isConnecting,"aria-disabled":t.isConnecting,onClick:t.connect},e.formatMessage({id:"WALLET_BTN_TEXT_CONNECT"}))):null}))}var g=a(33938),A=a(20116),N=a.n(A),L=a(2991),b=a.n(L),R=a(63109),k=a.n(R);function I(e){var t=e.token;return n.createElement(s.rU,{to:"/builder/".concat(t.root),className:"list__row list__row--pointer"},n.createElement("div",{className:"list__cell list__cell--left"},t.name),n.createElement("div",{className:"list__cell list__cell--center"},t.symbol),n.createElement("div",{className:"list__cell list__cell--center"},t.decimals),n.createElement("div",{className:"list__cell list__cell--center"},(0,v.aB)(t.total_supply,t.decimals)),n.createElement("div",{className:"list__cell list__cell--center"},(0,v.Hn)(t.root)))}var O=a(81931),S=a(29836),y=(0,h.Pi)((function(){var e,t=(0,_.Z)(),a=(0,f.O)(),r=(0,O.i)(),i=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.connect();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();switch(!0){case r.isLoading:return n.createElement(S.p,null);case null==a.address:return n.createElement("div",{className:"message"},n.createElement("div",null,n.createElement("button",{type:"button",className:"btn btn-primary btn-lg swap-form-submit btn-block",onClick:i,disabled:a.isConnecting},t.formatMessage({id:"WALLET_BTN_TEXT_CONNECT"}))));case 0===r.tokens.length&&!!N()(r):return n.createElement("div",{className:"message"},n.createElement("p",{className:"message__text"},t.formatMessage({id:"BUILDER_MESSAGE_TOKEN_NOT_FOUND"})),n.createElement(s.rU,{to:"/builder/create",className:"btn btn-primary"},t.formatMessage({id:"BUILDER_BUTTON_CREATE_TOKEN"})));case 0===r.tokens.length&&!N()(r):return n.createElement("div",{className:"message"},n.createElement("p",{className:"message__text"},t.formatMessage({id:"BUILDER_MESSAGE_NO_TOKEN"})),n.createElement(s.rU,{to:"/builder/create",className:"btn btn-primary"},t.formatMessage({id:"BUILDER_BUTTON_CREATE_TOKEN"})));default:return n.createElement("div",{className:"tokens-list list"},n.createElement("div",{className:"list__header"},n.createElement("div",{className:"list__cell list__cell--left"},t.formatMessage({id:"BUILDER_LIST_HEADER_NAME_CELL"})),n.createElement("div",{className:"list__cell list__cell--center"},t.formatMessage({id:"BUILDER_LIST_HEADER_SYMBOL_CELL"})),n.createElement("div",{className:"list__cell list__cell--center"},t.formatMessage({id:"BUILDER_LIST_HEADER_DECIMALS_CELL"})),n.createElement("div",{className:"list__cell list__cell--center"},t.formatMessage({id:"BUILDER_LIST_HEADER_TOTAL_SUPPLY_CELL"})),n.createElement("div",{className:"list__cell list__cell--center"},t.formatMessage({id:"BUILDER_LIST_HEADER_TOTAL_ROOT_CELL"}))),b()(e=r.tokens).call(e,(function(e){return n.createElement(I,{key:e.root,token:e})})))}})),C=a(82543),P=a(93251);function w(e){var t=e.className,a=(0,_.Z)(),r=(0,P.I)();return n.createElement(C.R,{className:t,placeholder:a.formatMessage({id:"BUILDER_SEARCH_FIELD_PLACEHOLDER"}),onChange:function(e){r.onChangeData("filter")(e.currentTarget.value),r.debouncedFilter()}})}function D(){var e=(0,_.Z)(),t=(0,O.i)();return n.useEffect((function(){return t.init(),function(){t.dispose()}}),[]),n.createElement("div",{className:"container container--large"},n.createElement("section",{className:"builder section"},n.createElement("header",{className:"section__header"},n.createElement("h2",{className:"section-title"},e.formatMessage({id:"BUILDER_HEADER_TITLE"})),n.createElement("div",{className:"section__header-actions"},n.createElement(w,{className:"filter"}),n.createElement(s.rU,{to:"/builder/create",className:"btn btn-primary"},e.formatMessage({id:"BUILDER_HEADER_CREATE_LINK_TEXT"})))),n.createElement("div",{className:"card card--small card--flat"},n.createElement("div",{className:"card__wrap"},n.createElement(y,null)))))}function x(){return n.createElement(D,null)}var M=a(79991),B=(0,h.Pi)((function(){var e=(0,o.UO)().tokenRoot,t=(0,_.Z)(),a=(0,M.p)(e);return a.isMinting||a.isBurning||a.isTransfer?r.createPortal(n.createElement("div",{className:"builder-confirmation-modal popup"},n.createElement("div",{className:"popup-overlay"}),n.createElement("div",{className:"popup__wrap"},n.createElement("button",{type:"button",className:"btn btn-icon popup-close",disabled:!0},n.createElement(E.J,{icon:"close"})),n.createElement("div",{className:"builder-confirmation-modal__loader"},n.createElement(E.J,{icon:"loader",ratio:2})),a.isMinting&&n.createElement(n.Fragment,null,n.createElement("h3",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_CONFIRMATION_MINT_TITLE"})),n.createElement("p",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_CONFIRMATION_MINT_DESCRIPTION"}))),a.isBurning&&n.createElement(n.Fragment,null,n.createElement("h3",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_CONFIRMATION_BURN_TITLE"})),n.createElement("p",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_CONFIRMATION_BURN_DESCRIPTION"}))),a.isTransfer&&n.createElement(n.Fragment,null,n.createElement("h3",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_CONFIRMATION_TRANSFER_TITLE"})),n.createElement("p",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_CONFIRMATION_TRANSFER_DESCRIPTION"}))))),document.body):null})),U=a(41266),F=a(94184),G=a.n(F),Z=["className","isValid","type"],W=(0,h.Pi)((function(e){var t=e.className,a=e.isValid,r=void 0===a||a,i=e.type,s=void 0===i?"text":i,o=(0,U.Z)(e,Z),l=n.useRef(!1);return n.createElement("label",{className:"form-label",htmlFor:o.id},n.createElement("fieldset",{className:G()("form-fieldset",t,{invalid:l.current&&!r}),onClick:o.onClick},n.createElement("div",{className:"form-fieldset__header"},n.createElement("div",null,o.label)),n.createElement("div",{className:"form-fieldset__main"},n.createElement("input",{className:"form-input",disabled:o.disabled,inputMode:o.inputMode,pattern:o.pattern,placeholder:o.placeholder,readOnly:o.readOnly,type:s,value:o.value,onChange:function(e){var t,a=e.target.value;null===(t=o.onChange)||void 0===t||t.call(o,a),l.current=!0}}))))})),V=a(73126),H=a(87592),K=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,f.O)(),a=(0,H.l)(),r={disabled:a.isCreating},i=e.formatMessage({id:"BUILDER_CREATE_BTN_TEXT_SUBMIT"}),s=a.isCreating;switch(!0){case!t.account:r.disabled=t.isConnecting,r.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.connect();case 2:case"end":return e.stop()}}),e)}))),i=e.formatMessage({id:"WALLET_BTN_TEXT_CONNECT"});break;case!a.name||!a.symbol||!a.decimals:r.disabled=!0,i=e.formatMessage({id:"BUILDER_CREATE_BTN_TEXT_ENTER_ALL_DATA"});break;case null!=a.name&&null!=a.symbol&&null!=a.decimals:r.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createToken();case 2:case"end":return e.stop()}}),e)})))}return n.createElement("button",(0,V.Z)({type:"button",className:"btn btn-primary btn-lg btn-block form-submit","aria-disabled":r.disabled},r),s?n.createElement("div",{className:"popup-main__loader"},n.createElement(E.J,{icon:"loader"})):i)})),Y=(0,h.Pi)((function(e){var t=e.onDismiss,a=(0,_.Z)(),i=(0,H.l)();return null==i.transaction?null:r.createPortal(n.createElement("div",{className:"popup"},n.createElement("div",{className:"popup-overlay"}),n.createElement("div",{className:"popup__wrap"},n.createElement("button",{type:"button",className:"btn btn-icon popup-close",onClick:t},n.createElement(E.J,{icon:"close"})),n.createElement("h2",{className:"popup-title"},a.formatMessage({id:"BUILDER_CREATE_TRANSACTION_RECEIPT_POPUP_TITLE"})),i.transaction.success?n.createElement(n.Fragment,null,n.createElement("div",{className:"popup-main"},n.createElement("div",{className:"popup-main__name"},a.formatMessage({id:"BUILDER_CREATE_TRANSACTION_RECEIPT_TOKEN_DEPLOYED"}))),n.createElement("div",{className:"popup-txt",dangerouslySetInnerHTML:{__html:a.formatMessage({id:"BUILDER_CREATE_TRANSACTION_RECEIPT_SUCCESSFUL_NOTE"},{transactionHash:i.transaction.hash,address:i.transaction.root,name:i.transaction.name,symbol:i.transaction.symbol},{ignoreTag:!0})}})):n.createElement("div",{className:"popup-main"},n.createElement("div",{className:"popup-main__ava error"}),n.createElement("div",{className:"popup-main__name"},a.formatMessage({id:"BUILDER_CREATE_TRANSACTION_RECEIPT_TOKEN_NOT_DEPLOYED"}))),n.createElement("button",{type:"button",className:"btn btn-primary btn-block popup-btn",onClick:t},a.formatMessage({id:"BUILDER_CREATE_TRANSACTION_RECEIPT_BTN_TEXT_CLOSE"})))),document.body)})),X=a(39294),q=a(73986),z=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,o.UO)().tokenRoot,a=(0,M.p)(t),r=(0,X.G)();return n.createElement(W,{disabled:a.isBurning,label:e.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_TARGET_ADDRESS"}),isValid:(0,q.NX)(a.targetAddress),value:a.targetAddress,onChange:function(e){r.onChangeData("targetAddress")(e),r.debouncedLoadTargetWalletBalance()}})})),Q=(0,h.Pi)((function(e){var t=e.closePopup,a=(0,o.UO)().tokenRoot,r=(0,_.Z)(),i=(0,f.O)(),s=(0,M.p)(a),l={disabled:s.isBurning},c=r.formatMessage({id:"BUILDER_MANAGE_TOKEN_BURN_BTN_TEXT"}),u=s.isBurning;switch(!0){case!i.account:l.disabled=i.isConnecting,l.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.connect();case 2:case"end":return e.stop()}}),e)}))),c=r.formatMessage({id:"WALLET_BTN_TEXT_CONNECT"});break;case!(0,q.NX)(s.targetAddress):l.disabled=!0,c=r.formatMessage({id:"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_VALID_ADDRESS"});break;case!(0,q.NX)(s.callbackAddress):l.disabled=!0,c=r.formatMessage({id:"BUILDER_MANAGE_TOKEN_MESSAGE_INVALID_CALLBACK_ADDRESS"});break;case!s.targetAddress||!s.amountToBurn:l.disabled=!0,c=r.formatMessage({id:"BUILDER_MANAGE_TOKEN_BTN_TEXT_ENTER_ALL_DATA"});break;case null!=s.targetAddress&&null!=s.amountToBurn:l.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.next=3,s.burn();case 3:case"end":return e.stop()}}),e)})))}return n.createElement("button",(0,V.Z)({type:"button",className:"btn btn--grey btn-lg form-submit btn-block","aria-disabled":l.disabled},l),u?n.createElement("div",{className:"popup-main__loader"},n.createElement(E.J,{icon:"loader"})):c)})),j=a(44431),J=a.n(j),$=(0,h.Pi)((function(){var e=(0,o.UO)().tokenRoot,t=(0,_.Z)(),a=(0,M.p)(e),r=n.useMemo((function(){return new(J())(a.targetWalletBalance).decimalPlaces(+a.token.decimals,J().ROUND_DOWN).toFixed()}),[a.targetWalletBalance]),i=n.useMemo((function(){return new(J())(a.targetWalletBalance).minus(a.amountToBurn).decimalPlaces(+a.token.decimals,J().ROUND_DOWN).toFixed()}),[a.targetWalletBalance,a.amountToBurn]),s=n.useMemo((function(){return new(J())(a.token.total_supply).decimalPlaces(+a.token.decimals,J().ROUND_DOWN).toFixed()}),[a.token.total_supply]),l=n.useMemo((function(){return new(J())(a.token.total_supply).minus(a.amountToBurn).decimalPlaces(+a.token.decimals,J().ROUND_DOWN).toFixed()}),[a.token.total_supply,a.amountToBurn]);return n.createElement("div",{className:"burn-details"},n.createElement("h3",{className:"burn-details-title"},t.formatMessage({id:"BUILDER_MANAGE_TOKEN_TITLE_BALANCE"})),n.createElement("div",{className:"burn-details-table"},a.targetWalletBalance&&a.amountToBurn?n.createElement(n.Fragment,null,n.createElement("div",{className:"burn-details-table__row"},n.createElement("div",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_CURRENT"})),n.createElement("div",null,r)),n.createElement("div",{className:"burn-details-table__row"},n.createElement("div",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_AFTER_MINING"})),n.createElement("div",null,i))):n.createElement("div",{className:"burn-details-table__row"},n.createElement("div",null,t.formatMessage({id:(0,q.NX)(a.targetAddress)?a.amountToMint?"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_ADDRESS":"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_AMOUNT":"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_VALID_ADDRESS"})))),n.createElement("h3",{className:"burn-details-title"},t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_SUPPLY"})),n.createElement("div",{className:"burn-details-table"},a.amountToBurn?n.createElement(n.Fragment,null,n.createElement("div",{className:"burn-details-table__row"},n.createElement("div",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_CURRENT"})),n.createElement("div",null,s)),n.createElement("div",{className:"burn-details-table__row"},n.createElement("div",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_AFTER_MINING"})),n.createElement("div",null,l))):n.createElement("div",{className:"burn-details-table__row"},n.createElement("div",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_AMOUNT"})))))})),ee=(0,h.Pi)((function(e){var t=e.onDismiss,a=(0,o.UO)().rootToken,i=(0,_.Z)(),s=(0,M.p)(a),l=(0,X.G)();return r.createPortal(n.createElement("div",{className:"popup"},n.createElement("div",{className:"popup-overlay"}),n.createElement("div",{className:"popup__wrap"},n.createElement("button",{type:"button",className:"btn btn-icon popup-close",onClick:t},n.createElement(E.J,{icon:"close"})),n.createElement("h2",{className:"popup-title"},i.formatMessage({id:"BUILDER_MANAGE_TOKEN_BURN_POPUP_TITLE"})),n.createElement("div",{className:"form-builder"},n.createElement(z,null),n.createElement(W,{disabled:s.isBurning,label:i.formatMessage({id:"BUILDER_MANAGE_TOKEN_BURN_LABEL_AMOUNT"}),type:"number",isValid:s.amountToBurn.length>0,value:s.amountToBurn,onChange:l.onChangeData("amountToBurn")}),n.createElement(W,{disabled:s.isBurning,label:i.formatMessage({id:"BUILDER_MANAGE_TOKEN_BURN_LABEL_CALLBACK_ADDRESS"}),type:"string",isValid:(0,q.NX)(s.callbackAddress),value:s.callbackAddress,onChange:l.onChangeData("callbackAddress")}),n.createElement(W,{disabled:s.isBurning,label:i.formatMessage({id:"BUILDER_MANAGE_TOKEN_BURN_LABEL_CALLBACK_PAYLOAD"}),type:"string",value:s.callbackPayload,onChange:l.onChangeData("callbackPayload")})),n.createElement($,null),n.createElement("div",{className:"popup-actions"},n.createElement("button",{className:"btn btn-tertiary btn-lg btn-block form-submit",onClick:t,type:"button"},i.formatMessage({id:"BUILDER_MANAGE_TOKEN_BTN_TEXT_CANCEL"})),n.createElement(Q,{closePopup:t})))),document.body)})),te=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,X.G)();return n.createElement(n.Fragment,null,n.createElement("button",{className:"btn btn-primary",type:"button",onClick:t.showBurnPopup},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_BURN_BTN_TEXT"})),t.isBurnPopupShown&&n.createElement(ee,{onDismiss:t.hideBurnPopup}))})),ae=(0,h.Pi)((function(e){var t=e.closePopup,a=(0,o.UO)().tokenRoot,r=(0,_.Z)(),i=(0,f.O)(),s=(0,M.p)(a),l={disabled:s.isMinting},c=r.formatMessage({id:"BUILDER_MANAGE_TOKEN_MINT_BTN_TEXT"}),u=s.isMinting;switch(!0){case!i.account:l.disabled=i.isConnecting,l.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.connect();case 2:case"end":return e.stop()}}),e)}))),c=r.formatMessage({id:"WALLET_BTN_TEXT_CONNECT"});break;case!(0,q.NX)(s.targetAddress):l.disabled=!0,c=r.formatMessage({id:"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_VALID_ADDRESS"});break;case!s.targetAddress||!s.amountToMint:l.disabled=!0,c=r.formatMessage({id:"BUILDER_MANAGE_TOKEN_BTN_TEXT_ENTER_ALL_DATA"});break;case null!=s.targetAddress&&null!=s.amountToMint:l.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.next=3,s.mint();case 3:case"end":return e.stop()}}),e)})))}return n.createElement("button",(0,V.Z)({type:"button",className:"btn btn-primary btn-lg form-submit btn-block","aria-disabled":l.disabled},l),u?n.createElement("div",{className:"popup-main__loader"},n.createElement(E.J,{icon:"loader"})):c)})),ne=a(1970),re=(0,h.Pi)((function(){var e=(0,o.UO)().tokenRoot,t=(0,_.Z)(),a=(0,M.p)(e),r=(0,ne.M)();return n.createElement(W,{disabled:a.isMinting,label:t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_TARGET_ADDRESS"}),type:"string",isValid:(0,q.NX)(a.targetAddress),value:a.targetAddress,onChange:function(e){r.onChangeData("targetAddress")(e),r.debouncedLoadTargetWalletBalance()}})})),ie=(0,h.Pi)((function(){var e=(0,o.UO)().tokenRoot,t=(0,_.Z)(),a=(0,M.p)(e),r=n.useMemo((function(){return new(J())(a.targetWalletBalance).decimalPlaces(+a.token.decimals,J().ROUND_DOWN).toFixed()}),[a.targetWalletBalance]),i=n.useMemo((function(){return new(J())(a.targetWalletBalance).plus(a.amountToMint).decimalPlaces(+a.token.decimals,J().ROUND_DOWN).toFixed()}),[a.targetWalletBalance,a.amountToMint]),s=n.useMemo((function(){return new(J())(a.token.total_supply).decimalPlaces(+a.token.decimals,J().ROUND_DOWN).toFixed()}),[a.token.total_supply]),l=n.useMemo((function(){return new(J())(a.token.total_supply).plus(a.amountToMint).decimalPlaces(+a.token.decimals,J().ROUND_DOWN).toFixed()}),[a.token.total_supply,a.amountToMint]);return n.createElement("div",{className:"mint-details"},n.createElement("h3",{className:"mint-details-title"},t.formatMessage({id:"BUILDER_MANAGE_TOKEN_TITLE_BALANCE"})),n.createElement("div",{className:"mint-details-table"},a.targetWalletBalance&&a.amountToMint?n.createElement(n.Fragment,null,n.createElement("div",{className:"mint-details-table__row"},n.createElement("div",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_CURRENT"})),n.createElement("div",null,r)),n.createElement("div",{className:"mint-details-table__row"},n.createElement("div",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_AFTER_MINING"})),n.createElement("div",null,i))):n.createElement("div",{className:"mint-details-table__row"},n.createElement("div",null,t.formatMessage({id:(0,q.NX)(a.targetAddress)?a.amountToMint?"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_ADDRESS":"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_AMOUNT":"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_VALID_ADDRESS"})))),n.createElement("h3",{className:"mint-details-title"},t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_SUPPLY"})),n.createElement("div",{className:"mint-details-table"},a.amountToMint?n.createElement(n.Fragment,null,n.createElement("div",{className:"mint-details-table__row"},n.createElement("div",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_CURRENT"})),n.createElement("div",null,s)),n.createElement("div",{className:"mint-details-table__row"},n.createElement("div",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_AFTER_MINING"})),n.createElement("div",null,l))):n.createElement("div",{className:"mint-details-table__row"},n.createElement("div",null,t.formatMessage({id:"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_AMOUNT"})))))})),se=(0,h.Pi)((function(e){var t=e.onDismiss,a=(0,_.Z)(),i=(0,o.UO)().rootToken,s=(0,M.p)(i),l=(0,ne.M)();return r.createPortal(n.createElement("div",{className:"popup"},n.createElement("div",{className:"popup-overlay"}),n.createElement("div",{className:"popup__wrap"},n.createElement("button",{type:"button",className:"btn btn-icon popup-close",onClick:t},n.createElement(E.J,{icon:"close"})),n.createElement("h2",{className:"popup-title"},a.formatMessage({id:"BUILDER_MANAGE_TOKEN_MINT_POPUP_TITLE"})),n.createElement("div",{className:"form-builder"},n.createElement(re,null),n.createElement(W,{disabled:s.isMinting,label:a.formatMessage({id:"BUILDER_MANAGE_TOKEN_MINT_LABEL_AMOUNT"}),type:"number",isValid:s.amountToMint.length>0,value:s.amountToMint,onChange:l.onChangeData("amountToMint")})),n.createElement(ie,null),n.createElement("div",{className:"popup-actions"},n.createElement("button",{className:"btn btn-tertiary btn-lg form-submit btn-block",onClick:t,type:"button"},a.formatMessage({id:"BUILDER_MANAGE_TOKEN_BTN_TEXT_CANCEL"})),n.createElement(ae,{closePopup:t})))),document.body)})),oe=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,ne.M)();return n.createElement(n.Fragment,null,n.createElement("button",{className:"btn btn-primary",type:"button",onClick:t.showMintPopup},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_MINT_BTN_TEXT"})),t.isMintPopupShown&&n.createElement(se,{onDismiss:t.hideMintPopup}))})),le=(0,h.Pi)((function(e){var t=e.closePopup,a=(0,o.UO)().tokenRoot,r=(0,_.Z)(),i=(0,f.O)(),s=(0,M.p)(a),l={disabled:s.isTransfer},c=r.formatMessage({id:"BUILDER_MANAGE_TOKEN_BTN_TEXT_SUBMIT"}),u=s.isTransfer;switch(!0){case!i.account:l.disabled=i.isConnecting,l.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.connect();case 2:case"end":return e.stop()}}),e)}))),c=r.formatMessage({id:"WALLET_BTN_TEXT_CONNECT"});break;case!s.newOwnerAddress:l.disabled=!0,c=r.formatMessage({id:"BUILDER_MANAGE_TOKEN_BTN_TEXT_ENTER_ALL_DATA"});break;case!(0,q.NX)(s.newOwnerAddress,!0):l.disabled=!0,c=r.formatMessage({id:"BUILDER_MANAGE_TOKEN_MESSAGE_ENTER_VALID_ADDRESS"});break;case null!=s.newOwnerAddress:l.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.next=3,s.transfer();case 3:case"end":return e.stop()}}),e)})))}return n.createElement("button",(0,V.Z)({type:"button",className:"btn btn-primary btn-lg form-submit btn-block","aria-disabled":l.disabled},l),u?n.createElement("div",{className:"popup-main__loader"},n.createElement(E.J,{icon:"loader"})):c)})),ce=a(15853),ue=(0,h.Pi)((function(e){var t=e.onDismiss,a=(0,o.UO)().rootToken,i=(0,_.Z)(),s=(0,M.p)(a),l=(0,ce.X)();return r.createPortal(n.createElement("div",{className:"manage-token transfer-popup popup"},n.createElement("div",{className:"popup-overlay"}),n.createElement("div",{className:"popup__wrap"},n.createElement("button",{type:"button",className:"btn popup-close btn-icon",onClick:t},n.createElement(E.J,{icon:"close"})),n.createElement("h2",{className:"popup-title"},i.formatMessage({id:"BUILDER_MANAGE_TOKEN_TRANSFER_POPUP_TITLE"})),n.createElement("div",{className:"card-block card-block--alert warning-block"},n.createElement("p",{className:"text text--bold"},"⚠️ Warning"),n.createElement("p",{className:"text"},"This action is irreversible!"),n.createElement("p",{className:"text"},"Please double check the target address before confirming the transfer.")),n.createElement("div",{className:"form-builder"},n.createElement(W,{disabled:s.isTransfer,label:i.formatMessage({id:"BUILDER_MANAGE_TOKEN_TRANSFER_LABEL_NEW_OWNER"}),type:"string",isValid:(0,q.NX)(s.newOwnerAddress,!0),value:s.newOwnerAddress,onChange:l.onChangeData("newOwnerAddress")})),n.createElement("div",{className:"popup-actions"},n.createElement("button",{className:"btn btn-tertiary btn-lg form-submit btn-block",onClick:t,type:"button"},i.formatMessage({id:"BUILDER_MANAGE_TOKEN_BTN_TEXT_CANCEL"})),n.createElement(le,{closePopup:t})))),document.body)})),de=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,ce.X)();return n.createElement(n.Fragment,null,n.createElement("button",{className:"btn btn-danger",type:"button",onClick:t.showTransferPopup},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_TRANSFER_OWNERSHIP_BTN_TEXT"})),t.isTransferPopupShown&&n.createElement(ue,{onDismiss:t.hideTransferPopup}))})),me=a(14161);function he(){var e=(0,_.Z)(),t=(0,H.l)(),a=(0,me.g)();return n.createElement("div",{className:"container container--small"},n.createElement("section",{className:"section"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card__wrap"},n.createElement("div",{className:"card__header"},n.createElement("h2",{className:"card-title"},e.formatMessage({id:"BUILDER_CREATE_HEADER_TITLE"}))),n.createElement("div",{className:"form form-builder"},n.createElement(h.Qj,null,(function(){return n.createElement(W,{key:"nameField",disabled:t.isCreating,label:e.formatMessage({id:"BUILDER_CREATE_FIELD_LABEL_NAME"}),placeholder:e.formatMessage({id:"BUILDER_CREATE_FIELD_PLACEHOLDER_NAME"}),isValid:t.name.length>0&&t.name.length<255,value:t.name,onChange:a.onChangeData("name")})})),n.createElement(h.Qj,null,(function(){return n.createElement(W,{key:"symbolField",disabled:t.isCreating,label:e.formatMessage({id:"BUILDER_CREATE_FIELD_LABEL_SYMBOL"}),placeholder:e.formatMessage({id:"BUILDER_CREATE_FIELD_PLACEHOLDER_SYMBOL"}),isValid:t.symbol.length>0&&t.symbol.length<255,value:t.symbol,onChange:a.onChangeData("symbol")})})),n.createElement(h.Qj,null,(function(){return n.createElement(W,{key:"decimalsField",type:"number",disabled:t.isCreating,label:e.formatMessage({id:"BUILDER_CREATE_FIELD_LABEL_DECIMALS"}),placeholder:e.formatMessage({id:"BUILDER_CREATE_FIELD_PLACEHOLDER_DECIMALS"}),isValid:t.decimals.length>0&&+t.decimals>0&&+t.decimals<=18,inputMode:"decimal",pattern:"^[0-9]+$",value:t.decimals,onChange:a.onChangeData("decimals")})})),n.createElement(K,{key:"submitButton"})))),n.createElement(Y,{key:"transaction",onDismiss:a.onDismissTransactionReceipt})))}function _e(){return n.createElement(he,null)}var Ee=a(77149),pe=a.n(Ee),fe=a(38240);function ve(){var e=(0,_.Z)(),t=(0,o.UO)().tokenRoot,a=(0,M.p)(t),r=function(){var e=(0,g.Z)(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText((null===(t=a.token)||void 0===t?void 0:t.root)||"");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return n.useEffect((function(){return a.init(),function(){a.dispose()}})),n.useEffect((function(){if(t){var e=(0,fe.B)();pe()(e).call(e,(function(e){return e===t}))||(0,fe.s)(t)}}),[t]),n.createElement("div",{className:"container container--large"},n.createElement("section",{className:"manage-token section"},n.createElement("header",{className:"section__header"},n.createElement("h2",{className:"section-title"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_HEADER_TITLE"}))),n.createElement("div",{className:"card card--flat"},n.createElement("div",{className:"card__wrap"},n.createElement(h.Qj,null,(function(){var t,i,s,o,l;return a.isLoading?n.createElement("div",{className:"message"},n.createElement("div",{className:"popup-main__loader"},n.createElement(E.J,{icon:"loader"}))):n.createElement("div",{className:"card-parts"},n.createElement("div",{className:"card-parts__part"},n.createElement("div",{className:"card__header"},n.createElement("h2",{className:"card-title"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_DESCRIPTION_TEXT"}))),n.createElement("div",{className:"form form-builder"},n.createElement(W,{label:e.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_NETWORK"}),readOnly:!0,value:"Mainnet"}),n.createElement(W,{className:"builder-address-field",label:e.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_ROOT"}),disabled:!0,value:null===(t=a.token)||void 0===t?void 0:t.root,onClick:r}),n.createElement(W,{label:e.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_TOKEN_NAME"}),readOnly:!0,value:null===(i=a.token)||void 0===i?void 0:i.name}),n.createElement(W,{label:e.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_TOKEN_SYMBOL"}),readOnly:!0,value:null===(s=a.token)||void 0===s?void 0:s.symbol}),n.createElement(W,{label:e.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_DECIMAL_PLACES"}),readOnly:!0,value:"".concat(null===(o=a.token)||void 0===o?void 0:o.decimals)}),n.createElement(W,{label:e.formatMessage({id:"BUILDER_MANAGE_TOKEN_LABEL_TOTAL_SUPPLY"}),readOnly:!0,value:null===(l=a.token)||void 0===l?void 0:l.total_supply}))),n.createElement("div",{className:"card-parts__part"},n.createElement("div",{className:"card__header"},n.createElement("h2",{className:"card-title"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_ACTIONS_TEXT"}))),n.createElement("div",{className:"card-block"},n.createElement("h3",{className:"card-block__title"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_CIRCULATING_SUPPLY_TITLE"})),n.createElement("div",{className:"card-block__action"},n.createElement("div",null,n.createElement("div",{className:"card-block__action__name"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_MINT_NAME"})),n.createElement("div",{className:"card-block__action__description"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_MINT_DESCRIPTION"}))),n.createElement(oe,{key:"mint-button"})),n.createElement("div",{className:"card-block__action"},n.createElement("div",null,n.createElement("div",{className:"card-block__action__name"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_BURN_NAME"})),n.createElement("div",{className:"card-block__action__description"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_MINT_DESCRIPTION"}))),n.createElement(te,{key:"burn-button"}))),n.createElement("div",{className:"card-block card-block--alert"},n.createElement("h3",{className:"card-block__title"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_DANGER_ZONE_TITLE"})),n.createElement("div",{className:"card-block__action"},n.createElement("div",null,n.createElement("div",{className:"card-block__action__name"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_TRANSFER_OWNERSHIP_NAME"})),n.createElement("div",{className:"card-block__action__description"},e.formatMessage({id:"BUILDER_MANAGE_TOKEN_TRANSFER_OWNERSHIP_DESCRIPTION"}))),n.createElement(de,{key:"transfer-button"})))))})))),n.createElement(B,{key:"confirmation"})))}function Te(){return n.createElement(ve,null)}var ge=a(68137),Ae=a(92485),Ne=a(94473),Le=a.n(Ne),be=a(78580),Re=a.n(be),ke=a(37030),Ie=(0,h.Pi)((function(e){var t,a=e.iconRatio,r=e.leftSymbol,i=e.poolAddress,s=e.rightSymbol,o=(0,ke.Qi)();return o.isConnected?n.createElement("button",{type:"button",className:G()("btn btn-md btn-square btn-icon btn-fav",{active:Re()(t=o.addresses).call(t,i)}),onClick:function(e){e.preventDefault(),o.toggle(i,(0,v.Sh)(r,s))}},n.createElement(E.J,{icon:"star",ratio:a})):null})),Oe=a(54624);function Se(e){var t=e.leftToken,a=e.rightToken,r=e.small;return n.createElement(Oe.P,{small:r,leftToken:{address:null==t?void 0:t.root,name:null==t?void 0:t.name,uri:null==t?void 0:t.icon},rightToken:{address:null==a?void 0:a.root,name:null==a?void 0:a.name,uri:null==a?void 0:a.icon}})}var ye=a(4142);function Ce(e){var t=e.pair,a=e.idx,r=(0,ye.mD)(),i=n.useMemo((function(){var e;return Le()(e=r.tokens).call(e,(function(e){return e.root===t.meta.baseAddress}))}),[]),o=n.useMemo((function(){var e;return Le()(e=r.tokens).call(e,(function(e){return e.root===t.meta.counterAddress}))}),[]),l=n.useMemo((function(){return(0,v.Mv)(t.volume24h)}),[t.volume24h]),c=n.useMemo((function(){return(0,v.Mv)(t.volume7d)}),[t.volume7d]),u=n.useMemo((function(){return(0,v.Mv)(t.tvl)}),[t.tvl]);return n.createElement(s.rU,{to:"/pairs/".concat(t.meta.poolAddress),className:"list__row"},n.createElement("div",{className:"list__cell hide-540"},a),n.createElement("div",{className:"list__cell"},n.createElement("div",{className:"list__cell-inner"},n.createElement("div",{className:"pairs-list__token-fave-wrapper"},n.createElement(Ie,{poolAddress:t.meta.poolAddress,leftSymbol:null==i?void 0:i.symbol,rightSymbol:null==o?void 0:o.symbol,iconRatio:.8})),n.createElement("div",{className:"pairs-list__token-icons-wrapper"},n.createElement(Se,{leftToken:i,rightToken:o,small:!0})),n.createElement("div",null,n.createElement("h3",{className:"pairs-list__token-name"},(null==i?void 0:i.symbol)||t.meta.base,"/",(null==o?void 0:o.symbol)||t.meta.counter)))),n.createElement("div",{className:"list__cell list__cell--right"},l),n.createElement("div",{className:"list__cell list__cell--right hide-824"},c),n.createElement("div",{className:"list__cell list__cell--right hide-540"},u))}function Pe(e){var t=e.isLoading,a=e.offset,r=void 0===a?0:a,i=e.ordering,s=e.pairs,o=e.onSwitchOrdering,l=(0,_.Z)();return n.createElement("div",{className:"pairs-list list"},n.createElement("div",{className:"list__header"},n.createElement("div",{className:"list__cell list__cell--left hide-540"},"#"),n.createElement("div",{className:"list__cell list__cell--left"},l.formatMessage({id:"PAIRS_LIST_HEADER_PAIR_CELL"})),n.createElement("div",{className:"list__cell list__cell--right"},n.createElement(Ae.w,{ascending:"volume24hascending",descending:"volume24hdescending",value:i,onSwitch:o},l.formatMessage({id:"PAIRS_LIST_HEADER_VOLUME24_CELL"}))),n.createElement("div",{className:"list__cell list__cell--right hide-824"},n.createElement(Ae.w,{ascending:"volume7dascending",descending:"volume7ddescending",value:i,onSwitch:o},l.formatMessage({id:"PAIRS_LIST_HEADER_VOLUME7_CELL"}))),n.createElement("div",{className:"list__cell list__cell--right hide-540"},n.createElement(Ae.w,{ascending:"tvlascending",descending:"tvldescending",value:i,onSwitch:o},l.formatMessage({id:"PAIRS_LIST_HEADER_TVL_CELL"})))),t?n.createElement(S.p,null):b()(s).call(s,(function(e,t){return n.createElement(Ce,{key:e.meta.poolAddress,pair:e,idx:r+t+1})})))}var we=a(68420),De=a(27344),xe=a(44845),Me=a(59340),Be=a.n(Me),Ue=a(68949),Fe={pairs:[],totalCount:0},Ge={currentPage:1,isLoading:!1,limit:10,ordering:"tvldescending"},Ze={graphData:{ohlcv:[],tvl:[],volume:[]},pair:void 0,transactionsData:{count:0,offset:10,totalCount:0,transactions:[]}},We={graph:"ohlcv",isLoading:!1,isOhlcvGraphLoading:!1,isTransactionsLoading:!1,isTvlGraphLoading:!1,isVolumeGraphLoading:!1,timeframe:"H1",transactionsCurrentPage:1,transactionsEventsType:[],transactionsLimit:10,transactionsOrdering:"blocktimedescending"},Ve=a(69681),He=new(function(){function e(t,a){(0,we.Z)(this,e),(0,xe.Z)(this,"data",Fe),(0,xe.Z)(this,"state",Ge),this.tokensCache=t,this.api=a,(0,Ue.ky)(this)}var t;return(0,De.Z)(e,[{key:"changeData",value:function(e,t){this.data[e]=t}},{key:"changeState",value:function(e,t){this.state[e]=t}},{key:"dispose",value:function(){this.data=Fe,this.state=Ge}},{key:"load",value:(t=(0,g.Z)(k().mark((function e(){var t,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading){e.next=2;break}return e.abrupt("return");case 2:return this.changeState("isLoading",!0),t={currencyAddresses:(0,ye.DS)(),limit:this.limit,offset:this.currentPage>=1?(this.currentPage-1)*this.limit:0,ordering:this.ordering,whiteListUri:q.ac.TokenListURI},e.next=6,this.api.pairs({},{body:Be()(t)});case 6:a=e.sent,this.changeData("pairs",a.pairs),this.changeData("totalCount",a.totalCount),this.changeState("isLoading",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"pairs",get:function(){var e,t=this;return N()(e=this.data.pairs).call(e,(function(e){var a,n,r=e.meta;return Re()(a=t.tokensCache.roots).call(a,r.baseAddress)&&Re()(n=t.tokensCache.roots).call(n,r.counterAddress)}))}},{key:"totalPages",get:function(){return Math.ceil(this.data.totalCount/this.limit)}},{key:"currentPage",get:function(){return this.state.currentPage}},{key:"limit",get:function(){return this.state.limit}},{key:"isLoading",get:function(){return this.state.isLoading}},{key:"ordering",get:function(){return this.state.ordering}}]),e}())((0,ye.mD)(),(0,Ve.Z)());function Ke(){var e=(0,_.Z)(),t=He,a=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.currentPage<t.totalPages)){e.next=4;break}return t.changeState("currentPage",t.currentPage+1),e.next=4,t.load();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.currentPage>1)){e.next=4;break}return t.changeState("currentPage",t.currentPage-1),e.next=4,t.load();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,g.Z)(k().mark((function e(a){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.changeState("currentPage",a),e.next=3,t.load();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,g.Z)(k().mark((function e(a){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.changeState("ordering",a),t.changeState("currentPage",1),e.next=4,t.load();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.useEffect((function(){return(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:case"end":return e.stop()}}),e)})))(),function(){t.dispose()}}),[]),n.createElement("div",{className:"container container--large"},n.createElement("section",{className:"section"},n.createElement("header",{className:"section__header"},n.createElement("h2",{className:"section-title"},e.formatMessage({id:"PAIRS_HEADER_TITLE"}))),n.createElement("div",{className:"card card--small card--flat"},n.createElement(h.Qj,null,(function(){return n.createElement(n.Fragment,null,n.createElement(Pe,{pairs:t.pairs,isLoading:t.isLoading,offset:t.limit*(t.currentPage-1),ordering:t.ordering,onSwitchOrdering:s}),n.createElement(ge.t,{currentPage:t.currentPage,disabled:t.isLoading,totalPages:t.totalPages,onNext:a,onPrev:r,onSubmit:i}))})))))}function Ye(){return n.createElement(Ke,null)}var Xe=a(77766),qe=a.n(Xe),ze=a(25632),Qe=a(17961),je=a(85603),Je=a(86902),$e=a.n(Je),et=a(14310),tt=a.n(et),at=a(34074),nt=a.n(at),rt=a(78914),it=a.n(rt),st=a(39649),ot=a.n(st),lt=a(20368),ct=a.n(lt),ut=a(63978),dt=a.n(ut),mt=a(42424),ht=a(30680),_t=a(31238),Et=a.n(_t),pt=a(52424),ft=a.n(pt),vt=a(99490),Tt=a(18618),gt=a.n(Tt);function At(e,t){var a=$e()(e);if(tt()){var n=tt()(e);t&&(n=N()(n).call(n,(function(t){return nt()(e,t).enumerable}))),a.push.apply(a,n)}return a}function Nt(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)it()(a=At(Object(n),!0)).call(a,(function(t){(0,xe.Z)(e,t,n[t])}));else if(ot())ct()(e,ot()(n));else{var r;it()(r=At(Object(n))).call(r,(function(t){dt()(e,t,nt()(n,t))}))}}return e}var Lt=new(ft()),bt=function(){function e(t){var a,n,r,i=this;(0,we.Z)(this,e),(0,xe.Z)(this,"data",Ze),(0,xe.Z)(this,"state",We),(0,xe.Z)(this,"api",(0,Ve.Z)()),r={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(a=this,n=Lt),n.set(a,r),this.address=t,(0,Ue.ky)(this,{loadOhlcvGraph:Ue.aD.bound,loadTvlGraph:Ue.aD.bound,loadVolumeGraph:Ue.aD.bound}),(0,ht.Z)(this,Lt,(0,Ue.U5)((function(){return i.timeframe}),(function(){i.changeState("isOhlcvGraphLoading",!1),i.changeState("isTvlGraphLoading",!1),i.changeState("isVolumeGraphLoading",!1),i.changeData("graphData",Ze.graphData)})))}var t,a,n,r,i;return(0,De.Z)(e,[{key:"changeData",value:function(e,t){this.data[e]=t}},{key:"changeState",value:function(e,t){this.state[e]=t}},{key:"dispose",value:function(){var e;null===(e=(0,mt.Z)(this,Lt))||void 0===e||e.call(this)}},{key:"changeGraphData",value:function(e,t){this.data.graphData[e]=t}},{key:"isLoading",get:function(){return this.state.isLoading}},{key:"load",value:(i=(0,g.Z)(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isLoading",!0),e.next=6,this.api.pair({address:this.address});case 6:t=e.sent,this.changeData("pair",t),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.prev=12,this.changeState("isLoading",!1),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[2,10,12,15]])}))),function(){return i.apply(this,arguments)})},{key:"pair",get:function(){return this.data.pair}},{key:"formattedTvl",get:function(){var e;return(0,v.Mv)(null===(e=this.pair)||void 0===e?void 0:e.tvl)}},{key:"formattedVolume24h",get:function(){var e;return(0,v.Mv)(null===(e=this.pair)||void 0===e?void 0:e.volume24h)}},{key:"formattedFees24h",get:function(){var e;return(0,v.Mv)(null===(e=this.pair)||void 0===e?void 0:e.fee24h)}},{key:"isOhlcvGraphLoading",get:function(){return this.state.isOhlcvGraphLoading}},{key:"loadOhlcvGraph",value:(r=(0,g.Z)(k().mark((function e(t,a){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isOhlcvGraphLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isOhlcvGraphLoading",!0),n={from:t||vt.ou.local().minus({days:"D1"===this.timeframe?30:7}).toUTC(void 0,{keepLocalTime:!1}).toMillis(),timeframe:this.timeframe,to:a||vt.ou.local().toUTC(void 0,{keepLocalTime:!1}).toMillis()},e.next=7,this.api.pairOhlcv({address:this.address},{body:Be()(n)});case 7:r=e.sent,this.changeGraphData("ohlcv",qe()(r).call(r,this.graphData.ohlcv)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:return e.prev=13,this.changeState("isOhlcvGraphLoading",!1),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,11,13,16]])}))),function(e,t){return r.apply(this,arguments)})},{key:"isTvlGraphLoading",get:function(){return this.state.isTvlGraphLoading}},{key:"loadTvlGraph",value:(n=(0,g.Z)(k().mark((function e(t,a){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTvlGraphLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isTvlGraphLoading",!0),n={from:t||vt.ou.local().minus({days:"D1"===this.timeframe?30:7}).toUTC(void 0,{keepLocalTime:!1}).toMillis(),timeframe:this.timeframe,to:a||vt.ou.local().toUTC(void 0,{keepLocalTime:!1}).toMillis()},e.next=7,this.api.pairTvl({address:this.address},{body:Be()(n)});case 7:r=e.sent,this.changeGraphData("tvl",qe()(r).call(r,this.graphData.tvl)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:return e.prev=13,this.changeState("isTvlGraphLoading",!1),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,11,13,16]])}))),function(e,t){return n.apply(this,arguments)})},{key:"isVolumeGraphLoading",get:function(){return this.state.isVolumeGraphLoading}},{key:"loadVolumeGraph",value:(a=(0,g.Z)(k().mark((function e(t,a){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isVolumeGraphLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isVolumeGraphLoading",!0),n={from:t||vt.ou.local().minus({days:"D1"===this.timeframe?30:7}).toUTC(void 0,{keepLocalTime:!1}).toMillis(),timeframe:this.timeframe,to:a||vt.ou.local().toUTC(void 0,{keepLocalTime:!1}).toMillis()},e.next=7,this.api.pairVolume({address:this.address},{body:Be()(n)});case 7:r=e.sent,this.changeGraphData("volume",qe()(r).call(r,this.graphData.volume)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:return e.prev=13,this.changeState("isVolumeGraphLoading",!1),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,11,13,16]])}))),function(e,t){return a.apply(this,arguments)})},{key:"timeframe",get:function(){return this.state.timeframe}},{key:"graph",get:function(){return this.state.graph}},{key:"graphData",get:function(){return this.data.graphData}},{key:"ohlcvGraphData",get:function(){var e;return b()(e=gt()(this.graphData.ohlcv,"timestamp")).call(e,(function(e){return{close:Et()(e.close),high:Et()(e.high),low:Et()(e.low),open:Et()(e.open),time:e.timestamp/1e3}}))}},{key:"ohlcvGraphInverseData",get:function(){var e;return b()(e=this.ohlcvGraphData).call(e,(function(e){return Nt(Nt({},e),{},{close:e.open,high:e.low,low:e.high,open:e.close})}))}},{key:"volumeGraphData",get:function(){var e;return b()(e=gt()(this.graphData.volume,"timestamp")).call(e,(function(e){return{time:e.timestamp/1e3,value:Et()(e.data)}}))}},{key:"tvlGraphData",get:function(){var e;return b()(e=gt()(this.graphData.tvl,"timestamp")).call(e,(function(e){return{time:e.timestamp/1e3,value:Et()(e.data)}}))}},{key:"isTransactionsLoading",get:function(){return this.state.isTransactionsLoading}},{key:"loadTransactions",value:(t=(0,g.Z)(k().mark((function e(){var t,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTransactionsLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isTransactionsLoading",!0),t={currencyAddresses:(0,ye.DS)(),limit:this.transactionsLimit,offset:this.transactionsCurrentPage>=1?(this.transactionsCurrentPage-1)*this.transactionsLimit:0,ordering:this.transactionsOrdering,poolAddress:this.address,whiteListUri:q.ac.TokenListURI},this.transactionsEvents.length>0&&(t.eventType=this.transactionsEvents),e.next=8,this.api.transactions({},{body:Be()(t)});case 8:a=e.sent,this.changeData("transactionsData",a),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.prev=14,this.changeState("isTransactionsLoading",!1),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,12,14,17]])}))),function(){return t.apply(this,arguments)})},{key:"transactions",get:function(){return this.data.transactionsData.transactions}},{key:"transactionsCurrentPage",get:function(){return this.state.transactionsCurrentPage}},{key:"transactionsEvents",get:function(){return this.state.transactionsEventsType}},{key:"transactionsLimit",get:function(){return this.state.transactionsLimit}},{key:"transactionsOrdering",get:function(){return this.state.transactionsOrdering}},{key:"transactionsTotalPages",get:function(){return Math.ceil(this.data.transactionsData.totalCount/this.transactionsLimit)}}]),e}(),Rt=n.createContext(new bt(""));function kt(){return n.useContext(Rt)}function It(e){var t=e.address,a=e.children,r=n.useMemo((function(){return new bt(t)}),[t]);return n.useEffect((function(){return(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.load();case 3:return e.next=5,r.loadTransactions();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))(),function(){return r.dispose()}}),[t]),n.createElement(Rt.Provider,{value:r},a)}var Ot=a(20455),St=a.n(Ot),yt=a(47398),Ct={swaplefttoright:"TRANSACTION_EVENT_SWAP_LEFT_TO_RIGHT",swaprighttoleft:"TRANSACTION_EVENT_SWAP_RIGHT_TO_LEFT",deposit:"TRANSACTION_EVENT_DEPOSIT",withdraw:"TRANSACTION_EVENT_WITHDRAW"};function Pt(e){var t=e.transaction,a=(0,_.Z)(),r=(0,ye.mD)(),i=n.useMemo((function(){var e;return Le()(e=r.tokens).call(e,(function(e){return e.root===t.leftAddress}))}),[t.leftAddress]),s=n.useMemo((function(){var e;return Le()(e=r.tokens).call(e,(function(e){return e.root===t.rightAddress}))}),[t.rightAddress]),o=n.useMemo((function(){return a.formatMessage({id:Ct[t.eventType]},{leftSymbol:null==i?void 0:i.symbol,rightSymbol:null==s?void 0:s.symbol})}),[t.eventType,i,s]),l=n.useMemo((function(){return(0,v.Mv)(t.tv)}),[t.tv]),c=n.useMemo((function(){var e;return qe()(e="".concat((0,v.VY)(t.leftValue||"0",(null==i?void 0:i.decimals)||0)," ")).call(e,null==i?void 0:i.symbol)}),[i,t.leftValue]),u=n.useMemo((function(){var e;return qe()(e="".concat((0,v.VY)(t.rightValue||"0",(null==s?void 0:s.decimals)||0)," ")).call(e,null==s?void 0:s.symbol)}),[s,t.rightValue]);return n.createElement("div",{className:"list__row"},n.createElement("div",{className:"list__cell list__cell--left"},n.createElement(yt.C,{id:t.transactionHash},o)),n.createElement("div",{className:"list__cell list__cell--right"},l),n.createElement("div",{className:"list__cell list__cell--right hide-824"},c),n.createElement("div",{className:"list__cell list__cell--right hide-824"},u),n.createElement("div",{className:"list__cell list__cell--right hide-824"},n.createElement(ze.K,{address:t.userAddress})),n.createElement("div",{className:"list__cell list__cell--right hide-540"},n.createElement(yt.C,{id:t.transactionHash},vt.ou.fromSeconds(t.timestampBlock).toRelative())))}var wt=a(26035);function Dt(e){var t=e.isLoading,a=e.ordering,r=e.transactions,i=e.pagination,s=e.onSwitchOrdering,o=(0,_.Z)();return n.createElement("div",{className:"card card--small card--flat"},n.createElement("div",{className:"transactions-list list"},n.createElement("div",{className:"list__header"},n.createElement("div",{className:"list__cell list__cell--left"},o.formatMessage({id:"TRANSACTIONS_LIST_HEADER_TRANSACTION_CELL"})),n.createElement("div",{className:"list__cell list__cell--right"},o.formatMessage({id:"TRANSACTIONS_LIST_HEADER_TOTAL_VALUE_CELL"})),n.createElement("div",{className:"list__cell list__cell--right hide-824"},o.formatMessage({id:"TRANSACTIONS_LIST_HEADER_LEFT_TOKEN_CELL"})),n.createElement("div",{className:"list__cell list__cell--right hide-824"},o.formatMessage({id:"TRANSACTIONS_LIST_HEADER_RIGHT_TOKEN_CELL"})),n.createElement("div",{className:"list__cell list__cell--right hide-824"},o.formatMessage({id:"TRANSACTIONS_LIST_HEADER_ACCOUNT_CELL"})),n.createElement("div",{className:"list__cell list__cell--right hide-540"},n.createElement(Ae.w,{ascending:"blocktimeascending",descending:"blocktimedescending",value:a,onSwitch:s},o.formatMessage({id:"TRANSACTIONS_LIST_HEADER_TIME_CELL"})))),t&&0===r.length?n.createElement(S.p,null):n.createElement(n.Fragment,null,t||0!==r.length?n.createElement(wt.i,{loading:t&&r.length>0},b()(r).call(r,(function(e){return n.createElement(Pt,{key:St()(e).join("-"),transaction:e})}))):n.createElement("div",{className:"message message_faded"},n.createElement("p",null,o.formatMessage({id:"TRANSACTIONS_LIST_NO_TRANSACTIONS"}))))),i&&i.totalPages>1&&n.createElement(ge.t,i))}var xt=a(82002),Mt=(0,h.Pi)((function(){var e,t,a,r,i=(0,_.Z)(),s=kt(),o=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.transactionsCurrentPage<s.transactionsTotalPages)){e.next=4;break}return s.changeState("transactionsCurrentPage",s.transactionsCurrentPage+1),e.next=4,s.loadTransactions();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.transactionsCurrentPage>1)){e.next=4;break}return s.changeState("transactionsCurrentPage",s.transactionsCurrentPage-1),e.next=4,s.loadTransactions();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,g.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.changeState("transactionsCurrentPage",t),e.next=3,s.loadTransactions();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,g.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.changeState("transactionsOrdering",t),s.changeState("transactionsCurrentPage",1),e.next=4,s.loadTransactions();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,g.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.changeState("transactionsEventsType",t),s.changeState("transactionsCurrentPage",1),e.next=4,s.loadTransactions();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.createElement("section",{className:"section section--large"},n.createElement("header",{className:"section__header"},n.createElement("h2",{className:"section-title"},i.formatMessage({id:"CURRENCY_TRANSACTIONS_LIST_HEADER_TITLE"})),n.createElement("div",{className:"section__header-actions"},n.createElement(xt.m,{items:[{label:i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_ALL"}),active:0===s.transactionsEvents.length,onClick:function(){return d([])}},{label:i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_SWAPS"}),active:2===s.transactionsEvents.length&&Re()(e=s.transactionsEvents).call(e,"swaplefttoright")&&Re()(t=s.transactionsEvents).call(t,"swaprighttoleft"),onClick:function(){return d(["swaplefttoright","swaprighttoleft"])}},{label:i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_DEPOSIT"}),active:1===s.transactionsEvents.length&&Re()(a=s.transactionsEvents).call(a,"deposit"),onClick:function(){return d(["deposit"])}},{label:i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_WITHDRAW"}),active:1===s.transactionsEvents.length&&Re()(r=s.transactionsEvents).call(r,"withdraw"),onClick:function(){return d(["withdraw"])}}]}))),n.createElement(Dt,{isLoading:s.isTransactionsLoading,ordering:s.transactionsOrdering,transactions:s.transactions,onSwitchOrdering:u,pagination:{currentPage:s.transactionsCurrentPage,totalPages:s.transactionsTotalPages,onNext:o,onPrev:l,onSubmit:c}}))})),Bt=a(48086),Ut=a(38103),Ft=a(95266),Gt=a(8765),Zt={crosshair:{horzLine:{color:"rgba(255, 255, 255, 0.15)",labelBackgroundColor:"rgba(197, 228, 243, 0.16)"},vertLine:{color:"rgba(255, 255, 255, 0.15)",labelBackgroundColor:"rgba(197, 228, 243, 0.16)"}},grid:{horzLines:{color:"rgba(255, 255, 255, 0.05)"},vertLines:{color:"rgba(255, 255, 255, 0.05)"}},layout:{backgroundColor:"rgba(0, 0, 0, 0)",textColor:"#d9d9d9"},rightPriceScale:{borderColor:"rgba(0, 0, 0, 0)"},timeScale:{borderColor:"rgba(0, 0, 0, 0)",secondsVisible:!1,timeVisible:!0}},Wt={grid:{horzLines:{color:"rgba(255, 255, 255, 0.05)"},vertLines:{color:"rgba(0, 0, 0, 0)"}},rightPriceScale:{borderVisible:!1}},Vt={bottomColor:"rgba(197, 228, 243, 0)",lineColor:"#c5e4f3",lineWidth:1,priceFormat:{type:"volume"},topColor:"rgba(197, 228, 243, 0.16)"},Ht={downColor:"#eb4361",upColor:"#4ab44a",wickDownColor:"rgba(235, 67, 97, 0.5)",wickUpColor:"rgba(74, 180, 74, 0.5)"},Kt={grid:{horzLines:{color:"rgba(255, 255, 255, 0.05)"},vertLines:{color:"rgba(0, 0, 0, 0)"}},rightPriceScale:{borderVisible:!1}},Yt={color:"#c5e4f3",priceFormat:{type:"volume"}};function Xt(e,t){var a=$e()(e);if(tt()){var n=tt()(e);t&&(n=N()(n).call(n,(function(t){return nt()(e,t).enumerable}))),a.push.apply(a,n)}return a}function qt(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)it()(a=Xt(Object(n),!0)).call(a,(function(t){(0,xe.Z)(e,t,n[t])}));else if(ot())ct()(e,ot()(n));else{var r;it()(r=Xt(Object(n))).call(r,(function(t){dt()(e,t,nt()(n,t))}))}}return e}function zt(e){var t=e.data,a=e.options,r=e.timeframe,i=e.type,s=e.load,o=n.useRef(null),l=n.useRef(),c=n.useState(),u=(0,Ft.Z)(c,2),d=u[0],m=u[1],h=n.useCallback((0,v.Ds)((0,g.Z)(k().mark((function e(){var t,a,n,i,o,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(a=null===(t=l.current)||void 0===t?void 0:t.timeScale().getVisibleLogicalRange())){e.next=9;break}if(!(void 0!==(null==(n=null==d?void 0:d.barsInLogicalRange(a))?void 0:n.barsBefore)&&n.barsBefore<0&&void 0!==(null==n?void 0:n.from)&&"number"==typeof n.from)){e.next=9;break}return i="D1"===r?86400:3600,o=1e3*(null==n?void 0:n.from)+Math.ceil(null==n?void 0:n.barsBefore)*i*1e3,c=1e3*(null==n?void 0:n.from),e.next=9,null==s?void 0:s(o,c);case 9:case"end":return e.stop()}}),e)}))),50),[l.current,d,r,s]),_=n.useRef(),E=n.useCallback((function(){var e;null!=l.current&&null!=o.current&&(null===(e=l.current)||void 0===e||e.resize(o.current.clientWidth,o.current.clientHeight,!0))}),[l.current]);return n.useEffect((function(){return window.addEventListener("resize",E),window.addEventListener("orientationchange",E),function(){window.removeEventListener("resize",E),window.removeEventListener("orientationchange",E)}}),[]),n.useEffect((function(){if(null!=o.current&&void 0===l.current){var e,t,n,r;if(l.current=(0,Gt.C2)(o.current,qt(qt({height:o.current.clientHeight,width:o.current.clientWidth},Zt),a)),"Area"===i)null===(n=l.current)||void 0===n||n.applyOptions(Wt),m(null===(r=l.current)||void 0===r?void 0:r.addAreaSeries(Vt));else if("Bar"===i){var s;m(null===(s=l.current)||void 0===s?void 0:s.addBarSeries())}else if("Candlestick"===i){var c;m(null===(c=l.current)||void 0===c?void 0:c.addCandlestickSeries(Ht))}else if("Histogram"===i){var u,d;null===(u=l.current)||void 0===u||u.applyOptions(Kt),m(null===(d=l.current)||void 0===d?void 0:d.addHistogramSeries(Yt))}else if("Line"===i){var h;m(null===(h=l.current)||void 0===h?void 0:h.addLineSeries())}null===(e=l.current)||void 0===e||e.timeScale().resetTimeScale(),null===(t=l.current)||void 0===t||t.timeScale().fitContent()}}),[o.current]),n.useEffect((function(){0===t.length&&(0,g.Z)(k().mark((function e(){var t,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==s?void 0:s();case 2:null===(t=l.current)||void 0===t||t.timeScale().resetTimeScale(),null===(a=l.current)||void 0===a||a.timeScale().fitContent();case 4:case"end":return e.stop()}}),e)})))()}),[t]),n.useEffect((function(){var e,a,n;void 0!==l.current&&(void 0!==_.current&&(null===(a=l.current)||void 0===a||a.timeScale().unsubscribeVisibleTimeRangeChange(_.current),_.current=void 0),null==d||d.setData(t),it()(t).call(t,(function(e){var t=e.value;void 0!==t&&(void 0!==n?n<t&&(n=t):n=t)})),null==d||d.applyOptions({autoscaleInfoProvider:function(e){var t=e();return null!==t&&void 0!==n&&t.priceRange.maxValue<n&&(t.priceRange.maxValue=n),t}}),_.current=h,null===(e=l.current)||void 0===e||e.timeScale().subscribeVisibleTimeRangeChange(_.current))}),[t,d,r,h]),n.createElement("div",{ref:o,className:"chart"})}function Qt(){var e,t,a,r,i,s,o,l,c=(0,_.Z)(),u=(0,ye.mD)(),d=kt(),m=n.useMemo((function(){var e;return null!==(e=d.pair)&&void 0!==e&&e.meta.baseAddress?u.get(d.pair.meta.baseAddress):void 0}),[null===(e=d.pair)||void 0===e?void 0:e.meta.baseAddress,u.tokens]),E=n.useMemo((function(){var e;return null!==(e=d.pair)&&void 0!==e&&e.meta.counterAddress?u.get(d.pair.meta.counterAddress):void 0}),[null===(t=d.pair)||void 0===t?void 0:t.meta.counterAddress,u.tokens]),p=n.useMemo((function(){var e;return(0,v.VY)((null===(e=d.pair)||void 0===e?void 0:e.leftLocked)||"0",(null==m?void 0:m.decimals)||0)}),[m,null===(a=d.pair)||void 0===a?void 0:a.leftLocked]),f=n.useMemo((function(){var e;return(0,v.VY)((null===(e=d.pair)||void 0===e?void 0:e.rightLocked)||"0",(null==E?void 0:E.decimals)||0)}),[E,null===(r=d.pair)||void 0===r?void 0:r.rightLocked]),T=function(e){return function(){d.changeState("graph",e)}},g=function(e){return function(){d.changeState("timeframe",e)}};return n.createElement("div",{className:"pair-stats"},n.createElement("div",{className:"pair-stats__sidebar"},n.createElement("div",{className:"pair-stats__sidebar-item"},n.createElement("div",{className:"pair-stats__stat-term"},c.formatMessage({id:"PAIR_STATS_TTL_TERM"})),n.createElement("div",{className:"pair-stats__stat-value"},n.createElement("div",{className:"pair-stats__ttl"},n.createElement("div",null,n.createElement("div",{className:"pair-stats__token"},n.createElement(Bt.T,{address:null==m?void 0:m.root,className:"pair-stats__token-icon",name:null==m?void 0:m.symbol,size:"small",uri:null==m?void 0:m.icon}),n.createElement("div",{className:"pair-stats__token-name"},(null==m?void 0:m.symbol)||(null===(i=d.pair)||void 0===i?void 0:i.meta.base))),n.createElement("div",{className:"pair-stats__token-locked-value"},p)),n.createElement("div",null,n.createElement("div",{className:"pair-stats__token"},n.createElement(Bt.T,{address:null==E?void 0:E.root,className:"pair-stats__token-icon",name:null==E?void 0:E.symbol,size:"small",uri:null==E?void 0:E.icon}),n.createElement("div",{className:"pair-stats__token-name"},(null==E?void 0:E.symbol)||(null===(s=d.pair)||void 0===s?void 0:s.meta.counter))),n.createElement("div",{className:"pair-stats__token-locked-value"},f))))),n.createElement("div",{className:"pair-stats__sidebar-item"},n.createElement("div",{className:"pair-stats__stat-term"},c.formatMessage({id:"PAIR_STATS_TVL_TERM"})),n.createElement("div",{className:"pair-stats__stat-value"},n.createElement("strong",null,d.formattedTvl)),void 0!==(null===(o=d.pair)||void 0===o?void 0:o.tvlChange)&&n.createElement(Ut.$,{changesDirection:(0,v._w)(d.pair.tvlChange),priceChange:d.pair.tvlChange})),n.createElement("div",{className:"pair-stats__sidebar-item"},n.createElement("div",{className:"pair-stats__stat-term"},c.formatMessage({id:"PAIR_STATS_VOLUME24_TERM"})),n.createElement("div",{className:"pair-stats__stat-value"},n.createElement("strong",null,d.formattedVolume24h)),void 0!==(null===(l=d.pair)||void 0===l?void 0:l.volumeChange24h)&&n.createElement(Ut.$,{changesDirection:(0,v._w)(d.pair.volumeChange24h),priceChange:d.pair.volumeChange24h})),n.createElement("div",{className:"pair-stats__sidebar-item"},n.createElement("div",{className:"pair-stats__stat-term"},c.formatMessage({id:"PAIR_STATS_FEES24_TERM"})),n.createElement("div",{className:"pair-stats__stat-value"},n.createElement("strong",null,d.formattedFees24h)))),n.createElement("div",{className:"pair-stats__chart"},n.createElement("header",{className:"pair-stats__chart-actions"},n.createElement(h.Qj,null,(function(){return n.createElement(n.Fragment,null,n.createElement("ul",{className:"tabs"},n.createElement("li",{className:G()({active:"D1"===d.timeframe})},n.createElement("a",{onClick:g("D1")},"D")),n.createElement("li",{className:G()({active:"H1"===d.timeframe})},n.createElement("a",{onClick:g("H1")},"H"))),n.createElement("ul",{className:"tabs"},n.createElement("li",{className:G()({active:"ohlcv"===d.graph})},n.createElement("a",{onClick:T("ohlcv")},null==m?void 0:m.symbol,"/",null==E?void 0:E.symbol)),n.createElement("li",{className:G()({active:"ohlcv-inverse"===d.graph})},n.createElement("a",{onClick:T("ohlcv-inverse")},null==E?void 0:E.symbol,"/",null==m?void 0:m.symbol)),n.createElement("li",{className:G()({active:"volume"===d.graph})},n.createElement("a",{onClick:T("volume")},c.formatMessage({id:"PAIR_GRAPH_TAB_VOLUME"}))),n.createElement("li",{className:G()({active:"tvl"===d.graph})},n.createElement("a",{onClick:T("tvl")},c.formatMessage({id:"PAIR_GRAPH_TAB_TVL"})))))}))),n.createElement(h.Qj,null,(function(){return n.createElement("div",{className:"pair-stats__chart-wrapper"},"volume"===d.graph&&n.createElement(zt,{key:"volumeGraph",data:d.volumeGraphData,timeframe:d.timeframe,type:"Histogram",load:d.loadVolumeGraph}),"tvl"===d.graph&&n.createElement(zt,{key:"tvlGraph",data:d.tvlGraphData,timeframe:d.timeframe,type:"Area",load:d.loadTvlGraph}),"ohlcv"===d.graph&&n.createElement(zt,{key:"ohlcvGraph",data:d.ohlcvGraphData,timeframe:d.timeframe,type:"Candlestick",load:d.loadOhlcvGraph}),"ohlcv-inverse"===d.graph&&n.createElement(zt,{key:"ohlcvInverseGraph",data:d.ohlcvGraphInverseData,options:{localization:{priceFormatter:function(e){return(1/e).toFixed(2)}},rightPriceScale:{invertScale:!0}},timeframe:d.timeframe,type:"Candlestick",load:d.loadOhlcvGraph}))}))))}var jt=a(99899),Jt=(0,h.Pi)((function(){var e,t,a,r,i,o,l,c,u,d,m=(0,_.Z)(),h=(0,ye.mD)(),p=kt(),f=n.useMemo((function(){var e;return null!==(e=p.pair)&&void 0!==e&&e.meta.baseAddress?h.get(p.pair.meta.baseAddress):void 0}),[null===(e=p.pair)||void 0===e?void 0:e.meta.baseAddress,h.tokens]),T=n.useMemo((function(){var e;return null!==(e=p.pair)&&void 0!==e&&e.meta.counterAddress?h.get(p.pair.meta.counterAddress):void 0}),[null===(t=p.pair)||void 0===t?void 0:t.meta.counterAddress,h.tokens]),g=n.useMemo((function(){var e,t,a=void 0!==(null==f?void 0:f.decimals)&&void 0!==(null==T?void 0:T.decimals)?(0,jt.pN)(new(J())((null===(e=p.pair)||void 0===e?void 0:e.rightLocked)||0).shiftedBy(-T.decimals),new(J())((null===(t=p.pair)||void 0===t?void 0:t.leftLocked)||0).shiftedBy(-f.decimals),null==T?void 0:T.decimals):new(J())(0);return(0,v.yp)(a)?a.toFixed():"0"}),[f,T,p.pair]),A=n.useMemo((function(){var e,t,a=void 0!==(null==f?void 0:f.decimals)&&void 0!==(null==T?void 0:T.decimals)?(0,jt.pN)(new(J())((null===(e=p.pair)||void 0===e?void 0:e.leftLocked)||0).shiftedBy(-f.decimals),new(J())((null===(t=p.pair)||void 0===t?void 0:t.rightLocked)||0).shiftedBy(-T.decimals),null==f?void 0:f.decimals):new(J())(0);return(0,v.yp)(a)?a.toFixed():"0"}),[f,T,p.pair]);return n.createElement("div",{className:"container container--large"},n.createElement("section",{className:"section"},n.createElement(je.a,{items:[{link:"/pairs",title:m.formatMessage({id:"PAIR_BREADCRUMB_ROOT"})},{title:(0,v.Sh)(null==f?void 0:f.symbol,null==T?void 0:T.symbol)}]}),n.createElement("header",{className:"pair-page__header"},n.createElement("div",null,n.createElement("div",{className:"pair-page__token"},n.createElement(Se,{leftToken:f,rightToken:T}),n.createElement("div",{className:"pair-page__token-name"},null==f?void 0:f.symbol,"/",null==T?void 0:T.symbol)),void 0!==f&&void 0!==T&&n.createElement("div",{className:"pair-page__tokens-prices"},n.createElement(Qe.D,{tokenIcon:{address:f.root,name:f.symbol,uri:f.icon},label:m.formatMessage({id:"PAIR_TOKEN_PRICE"},{amount:(0,v.aB)(g,T.decimals)||0,symbolLeft:f.symbol,symbolRight:T.symbol}),link:"/tokens/".concat(f.root)}),n.createElement(Qe.D,{tokenIcon:{address:T.root,name:T.symbol,uri:null==T?void 0:T.icon},label:m.formatMessage({id:"PAIR_TOKEN_PRICE"},{amount:(0,v.aB)(A,f.decimals)||0,symbolLeft:T.symbol,symbolRight:f.symbol}),link:"/tokens/".concat(T.root)}))),n.createElement("div",{className:"pair-page__header-actions"},void 0!==(null===(a=p.pair)||void 0===a?void 0:a.meta.poolAddress)&&n.createElement("div",null,n.createElement(Ie,{poolAddress:p.pair.meta.poolAddress,leftSymbol:null==f?void 0:f.symbol,rightSymbol:null==T?void 0:T.symbol}),n.createElement(ze.K,{address:null===(r=p.pair)||void 0===r?void 0:r.meta.poolAddress,className:"btn btn-md btn-square btn-icon"},n.createElement(E.J,{icon:"externalLink"}))),n.createElement(s.rU,{className:"btn btn-md btn-secondary",to:qe()(i="/pool/".concat((null==f?void 0:f.root)||(null===(o=p.pair)||void 0===o?void 0:o.meta.baseAddress),"/")).call(i,(null==T?void 0:T.root)||(null===(l=p.pair)||void 0===l?void 0:l.meta.counterAddress))},m.formatMessage({id:"PAIR_ADD_LIQUIDITY_BTN_TEXT"})),n.createElement(s.rU,{className:"btn btn-md btn-primary",to:qe()(c="/swap/".concat((null==f?void 0:f.root)||(null===(u=p.pair)||void 0===u?void 0:u.meta.baseAddress),"/")).call(c,(null==T?void 0:T.root)||(null===(d=p.pair)||void 0===d?void 0:d.meta.counterAddress))},m.formatMessage({id:"PAIR_TRADE_BTN_TEXT"})))),n.createElement(Qt,null)),n.createElement(Mt,null))}));function $t(){var e=(0,o.UO)().poolAddress;return n.createElement(It,{address:e},n.createElement(Jt,null))}var ea=a(13300),ta=a(88787),aa=(0,h.Pi)((function(){var e,t,a,r,i=(0,_.Z)(),s=(0,ta.A)();return n.createElement("div",{className:"pool-auto-exchange"},n.createElement("div",{className:"pool-auto-exchange__wrap"},n.createElement("label",{className:"pool-switcher switcher"},n.createElement("input",{type:"checkbox",checked:s.isAutoExchangeEnabled,onChange:function(){s.toggleAutoExchange()}}),n.createElement("span",{className:"switcher__handle"})),n.createElement("div",{className:"pool-auto-exchange-txt",dangerouslySetInnerHTML:{__html:i.formatMessage({id:"POOL_AUTO_EXCHANGE_TEXT"},{leftSymbol:null!==(e=null===(t=s.leftToken)||void 0===t?void 0:t.symbol)&&void 0!==e?e:"",rightSymbol:null!==(a=null===(r=s.rightToken)||void 0===r?void 0:r.symbol)&&void 0!==a?a:""},{ignoreTag:!0})}})))})),na=(0,h.Pi)((function(){var e,t,a,r,i,s,o,l,c,u,d,m=(0,_.Z)(),h=(0,ta.A)();return n.createElement("div",{className:"form-rows"},n.createElement("div",{className:"form-row"},n.createElement("div",null,m.formatMessage({id:"POOL_DATA_SUBTITLE_CURRENT_STATE"}))),n.createElement("div",{className:"form-row"},n.createElement("div",null,null===(e=h.leftToken)||void 0===e?void 0:e.symbol),n.createElement("div",null,(0,v.aB)((null===(t=h.pairBalances)||void 0===t?void 0:t.left)||"0",null===(a=h.leftToken)||void 0===a?void 0:a.decimals)||"0")),n.createElement("div",{className:"form-row"},n.createElement("div",null,null===(r=h.rightToken)||void 0===r?void 0:r.symbol),n.createElement("div",null,(0,v.aB)((null===(i=h.pairBalances)||void 0===i?void 0:i.right)||"0",null===(s=h.rightToken)||void 0===s?void 0:s.decimals)||"0")),n.createElement("div",{className:"form-row"},n.createElement("div",null,m.formatMessage({id:"POOL_DATA_LABEL_LP_SUPPLY"})),n.createElement("div",null,(0,v.aB)((null===(o=h.pairBalances)||void 0===o?void 0:o.lp)||"0",h.lpDecimals)||"0")),n.createElement("div",{className:"form-row"},n.createElement("div",null,m.formatMessage({id:"POOL_DATA_LABEL_LEFT_PRICE"},{leftSymbol:null===(l=h.leftToken)||void 0===l?void 0:l.symbol,rightSymbol:null===(c=h.rightToken)||void 0===c?void 0:c.symbol})),n.createElement("div",null,h.leftPrice)),n.createElement("div",{className:"form-row"},n.createElement("div",null,m.formatMessage({id:"POOL_DATA_LABEL_RIGHT_PRICE"},{leftSymbol:null===(u=h.leftToken)||void 0===u?void 0:u.symbol,rightSymbol:null===(d=h.rightToken)||void 0===d?void 0:d.symbol})),n.createElement("div",null,h.rightPrice)),n.createElement("div",{className:"form-row"},n.createElement("div",null,m.formatMessage({id:"POOL_DATA_LABEL_FEE"})),n.createElement("div",null,"0.3%")))})),ra=(0,h.Pi)((function(e){var t=e.onDismiss,a=(0,_.Z)(),i=(0,ta.A)();return i.transaction?r.createPortal(n.createElement("div",{className:"popup"},n.createElement("div",{className:"popup-overlay"}),n.createElement("div",{className:"popup__wrap"},n.createElement("button",{type:"button",className:"btn btn-icon popup-close",onClick:t},n.createElement(E.J,{icon:"close"})),n.createElement("h2",{className:"popup-title"},a.formatMessage({id:"POOL_SUPPLY_RECEIPT_POPUP_TITLE"})),i.transaction.success&&i.transaction.successData?n.createElement(n.Fragment,null,n.createElement("div",{className:"popup-main"},n.createElement("div",{className:"popup-main__ava"},n.createElement(p.Y,{address:i.transaction.successData.lpRoot})),n.createElement("div",{className:"popup-main__name",dangerouslySetInnerHTML:{__html:a.formatMessage({id:"POOL_SUPPLY_RECEIPT_LEAD_SUCCESSFUL_AMOUNT"},{value:(0,v.aB)(i.transaction.successData.share||"0",i.transaction.successData.lpDecimals)},{ignoreTag:!0})}})),n.createElement("div",{className:"form-rows"},n.createElement("div",{className:"form-row"},n.createElement("div",null,a.formatMessage({id:"POOL_SUPPLY_RECEIPT_SUBTITLE_RESULT"}))),n.createElement("div",{className:"form-row"},n.createElement("div",null,a.formatMessage({id:"POOL_SUPPLY_RECEIPT_DATA_LABEL_SHARE_PERCENT"})),n.createElement("div",null,a.formatMessage({id:"POOL_SUPPLY_RECEIPT_DATA_RESULT_SHARE_PERCENT"},{value:i.transaction.successData.sharePercent}))),n.createElement("div",{className:"form-row"},n.createElement("div",null,a.formatMessage({id:"POOL_SUPPLY_RECEIPT_DATA_LABEL_SHARE_CHANGE_PERCENT"})),n.createElement("div",null,a.formatMessage({id:"POOL_SUPPLY_RECEIPT_DATA_RESULT_SHARE_CHANGE_PERCENT"},{value:i.transaction.successData.shareChangePercent}))),n.createElement("div",{className:"form-row"},n.createElement("div",null,i.transaction.successData.leftSymbol),n.createElement("div",null,(0,v.aB)(i.transaction.successData.newLeft,i.transaction.successData.leftDecimals))),n.createElement("div",{className:"form-row"},n.createElement("div",null,i.transaction.successData.rightSymbol),n.createElement("div",null,(0,v.aB)(i.transaction.successData.newRight,i.transaction.successData.rightDecimals))),n.createElement("div",{className:"form-row"},n.createElement("div",null,a.formatMessage({id:"POOL_SUPPLY_RECEIPT_DATA_LABEL_NEW_LEFT_PRICE"},{leftSymbol:i.transaction.successData.leftSymbol,rightSymbol:i.transaction.successData.rightSymbol})),n.createElement("div",null,i.transaction.successData.newLeftPrice)),n.createElement("div",{className:"form-row"},n.createElement("div",null,a.formatMessage({id:"POOL_SUPPLY_RECEIPT_DATA_LABEL_NEW_RIGHT_PRICE"},{leftSymbol:i.transaction.successData.leftSymbol,rightSymbol:i.transaction.successData.rightSymbol})),n.createElement("div",null,i.transaction.successData.newRightPrice))),n.createElement("hr",{className:"divider"}),n.createElement("div",{className:"popup-txt",dangerouslySetInnerHTML:{__html:a.formatMessage({id:"POOL_SUPPLY_RECEIPT_SUCCESSFUL_NOTE"},{address:i.transaction.successData.lpRoot,transactionHash:i.transaction.successData.hash},{ignoreTag:!0})}})):n.createElement(n.Fragment,null,n.createElement("div",{className:"popup-main"},n.createElement("div",{className:"popup-main__ava error"}),n.createElement("div",{className:"popup-main__name",dangerouslySetInnerHTML:{__html:a.formatMessage({id:"POOL_SUPPLY_RECEIPT_LEAD_CANCELLED"})}})),n.createElement("div",{className:"popup-txt",dangerouslySetInnerHTML:{__html:a.formatMessage({id:"POOL_SUPPLY_RECEIPT_CANCELLED_NOTE"})}})),n.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:t},a.formatMessage({id:"POOL_SUPPLY_RECEIPT_POPUP_BTN_TEXT_CLOSE"})))),document.body):null})),ia=(0,h.Pi)((function(){var e,t,a=(0,_.Z)(),r=(0,ta.A)();if(!r.isDexAccountDataAvailable)return null;var i=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.leftToken||!r.dexLeftBalance){e.next=3;break}return e.next=3,r.withdrawToken(r.leftToken.root,r.dexLeftBalance);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.rightToken||!r.dexRightBalance){e.next=3;break}return e.next=3,r.withdrawToken(r.rightToken.root,r.dexRightBalance);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.lpRoot||!r.lpBalance){e.next=3;break}return e.next=3,r.withdrawToken(r.lpRoot,r.lpBalance);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.withdrawLiquidity();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",{className:"list-bill list-bill--pool"},n.createElement("div",{className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},a.formatMessage({id:"POOL_DATA_SUBTITLE_DEX_ACCOUNT"}))),r.leftToken&&n.createElement("div",{key:"dexLeftBalance",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,r.leftToken.symbol),r.isLeftTokenWithdrawAvailable&&n.createElement("button",{type:"button",className:"btn btn-icon",title:"Withdraw",onClick:i},r.isWithdrawingLeftToken?n.createElement(E.J,{icon:"loader",ratio:.6,className:"spin"}):n.createElement(E.J,{icon:"push",ratio:.7}))),n.createElement("div",{className:"list-bill__val"},(0,v.aB)(r.dexLeftBalance,r.leftToken.decimals)||"0")),r.rightToken&&n.createElement("div",{key:"dexRightBalance",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,r.rightToken.symbol),r.isRightTokenWithdrawAvailable&&n.createElement("button",{type:"button",className:"btn btn-icon",title:"Withdraw",onClick:s},r.isWithdrawingRightToken?n.createElement(E.J,{icon:"loader",ratio:.6,className:"spin"}):n.createElement(E.J,{icon:"push",ratio:.7}))),n.createElement("div",{className:"list-bill__val"},(0,v.aB)(r.dexRightBalance,r.rightToken.decimals)||"0")),r.lpWalletBalance&&n.createElement("div",{key:"lpWalletBalance",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,a.formatMessage({id:"POOL_DEX_DATA_LABEL_LP_TOKENS"})),r.isWithdrawLpAvailable&&n.createElement("button",{key:"withdrawLp",type:"button",className:"btn btn-icon",title:"Withdraw",onClick:o},r.isWithdrawingLiquidity?n.createElement(E.J,{icon:"loader",ratio:.6,className:"spin"}):n.createElement(E.J,{icon:"push",ratio:.7})),r.isWithdrawLiquidityAvailable&&n.createElement("button",{key:"withdrawLiquidity",type:"button",className:"btn btn-icon",title:"Withdraw Liquidity",onClick:l},r.isWithdrawingLiquidity?n.createElement(E.J,{icon:"loader",ratio:.6,className:"spin"}):n.createElement(E.J,{icon:"remove",ratio:.9}))),n.createElement("div",{className:"list-bill__val"},(0,v.aB)(r.lpWalletBalance,r.lpDecimals)||"0")),r.currentSharePercent&&n.createElement("div",{key:"currentSharePercent",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,a.formatMessage({id:"POOL_DEX_DATA_LABEL_CURRENT_SHARE"}))),n.createElement("div",{className:"list-bill__val"},a.formatMessage({id:"POOL_DEX_DATA_RESULT_CURRENT_SHARE"},{value:r.currentSharePercent}))),r.currentShareLeft&&n.createElement("div",{key:"currentShareLeft",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"}," "),n.createElement("div",{className:"list-bill__val"},a.formatMessage({id:"POOL_DEX_DATA_RESULT_CURRENT_SHARE_LEFT"},{symbol:null===(e=r.leftToken)||void 0===e?void 0:e.symbol,value:r.currentShareLeft}))),r.currentShareRight&&n.createElement("div",{key:"currentShareRight",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"}," "),n.createElement("div",{className:"list-bill__val"},a.formatMessage({id:"POOL_DEX_DATA_RESULT_CURRENT_SHARE_RIGHT"},{symbol:null===(t=r.rightToken)||void 0===t?void 0:t.symbol,value:r.currentShareRight}))))})),sa=a(61705),oa=a(35145),la=["dexAccountBalance","isValid","token"],ca=(0,h.Pi)((function(e){var t=e.dexAccountBalance,a=e.isValid,r=void 0===a||a,i=e.token,s=(0,U.Z)(e,la),o=(0,_.Z)(),l=(0,sa.U)({decimals:null==i?void 0:i.decimals,value:s.value,onChange:s.onChange}),c=(0,oa.X)(i,{subscriberPrefix:"field",dexAccountBalance:t});return n.createElement("fieldset",{className:G()("form-fieldset",{invalid:!r,caution:s.isCaution,checking:c.isFetching})},n.createElement("div",{className:"form-fieldset__header"},n.createElement("div",null,s.label),i&&n.createElement("div",null,o.formatMessage({id:"POOL_FIELD_TOKEN_WALLET_BALANCE"},{balance:c.value}))),n.createElement("div",{className:"form-fieldset__main"},n.createElement("input",{className:"form-input",inputMode:"decimal",pattern:"^[0-9]*[.]?[0-9]*$",placeholder:"0.0",readOnly:s.readOnly,type:"text",value:s.value,onBlur:l.onBlur,onChange:l.onChange,onKeyPress:s.onKeyPress}),i?n.createElement("button",{type:"button",className:G()("btn form-drop",{disabled:s.disabled}),disabled:s.disabled,onClick:s.onToggleTokensList},n.createElement("span",{className:"form-drop__logo"},n.createElement(Bt.T,{address:i.root,name:i.symbol,size:"small",uri:i.icon})),n.createElement("span",{className:"form-drop__name"},i.symbol),n.createElement("span",{className:"form-drop__arrow"},n.createElement(E.J,{icon:"arrowDown",ratio:1.2}))):n.createElement("button",{type:"button",className:G()("btn form-select",{disabled:s.disabled}),disabled:s.disabled,onClick:s.onToggleTokensList},n.createElement("span",{className:"form-select__txt"},o.formatMessage({id:"POOL_FIELD_BTN_TEXT_SELECT_TOKEN"})),n.createElement("span",{className:"form-select__arrow"},n.createElement(E.J,{icon:"arrowDown",ratio:1.2})))))}));function ua(){var e,t,a=(0,ta.A)();return(null===(e=a.leftToken)||void 0===e?void 0:e.root)===(null===(t=a.rightToken)||void 0===t?void 0:t.root)?null:n.createElement(h.Qj,null,(function(){var e,t,r,i;return n.createElement("div",{className:"pool-pair-icons"},null!==(e=a.leftToken)&&void 0!==e&&e.icon?n.createElement("img",{alt:a.leftToken.symbol,height:36,src:a.leftToken.icon,width:36}):(null===(t=a.leftToken)||void 0===t?void 0:t.root)&&n.createElement(p.Y,{address:a.leftToken.root}),null!==(r=a.rightToken)&&void 0!==r&&r.icon?n.createElement("img",{alt:a.rightToken.symbol,height:36,src:a.rightToken.icon,width:36}):(null===(i=a.rightToken)||void 0===i?void 0:i.root)&&n.createElement(p.Y,{address:a.rightToken.root}))}))}var da=a(68470),ma=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,da.m)(),a=(0,ta.A)();return n.createElement("div",{className:"list-bill"},t.address?n.createElement("div",{key:"dexAddress",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,e.formatMessage({id:"POOL_ROOTS_INFO_LABEL_DEX_ADDRESS"}))),n.createElement("div",{className:"list-bill__val"},n.createElement(ze.K,{address:t.address}))):null,a.lpRoot?n.createElement("div",{key:"lpRoot",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,e.formatMessage({id:"POOL_ROOTS_INFO_LABEL_LP_ROOT"}))),n.createElement("div",{className:"list-bill__val"},n.createElement(ze.K,{address:a.lpRoot}))):null,a.pairAddress?n.createElement("div",{key:"pairRoot",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,e.formatMessage({id:"POOL_ROOTS_INFO_LABEL_PAIR_ROOT"}))),n.createElement("div",{className:"list-bill__val"},n.createElement(ze.K,{address:a.pairAddress}))):null)})),ha=(0,h.Pi)((function(){var e,t,a,r,i=(0,_.Z)(),s=(0,ta.A)();return n.createElement(n.Fragment,null,n.createElement("hr",{className:"divider"}),n.createElement("div",{className:"form-rows"},n.createElement("div",{className:"form-row"},n.createElement("div",null,i.formatMessage({id:"POOL_DATA_SUBTITLE_AFTER_SUPPLY"}))),s.sharePercent&&n.createElement("div",{key:"sharePercent",className:"form-row"},n.createElement("div",null,i.formatMessage({id:"POOL_DATA_LABEL_SHARE_PERCENT"})),n.createElement("div",null,i.formatMessage({id:"POOL_DATA_RESULT_SHARE_PERCENT"},{value:s.sharePercent}))),s.shareChangePercent&&n.createElement("div",{key:"shareChangePercent",className:"form-row"},n.createElement("div",null,i.formatMessage({id:"POOL_DATA_LABEL_SHARE_CHANGE_PERCENT"})),n.createElement("div",null,i.formatMessage({id:"POOL_DATA_RESULT_SHARE_CHANGE_PERCENT"},{value:s.shareChangePercent}))),s.newLeftPrice&&n.createElement("div",{key:"newLeftPrice",className:"form-row"},n.createElement("div",null,i.formatMessage({id:"POOL_DATA_LABEL_NEW_LEFT_PRICE"},{leftSymbol:null===(e=s.leftToken)||void 0===e?void 0:e.symbol,rightSymbol:null===(t=s.rightToken)||void 0===t?void 0:t.symbol})),n.createElement("div",null,s.newLeftPrice)),s.newRightPrice&&n.createElement("div",{key:"newRightPrice",className:"form-row"},n.createElement("div",null,i.formatMessage({id:"POOL_DATA_LABEL_NEW_RIGHT_PRICE"},{leftSymbol:null===(a=s.leftToken)||void 0===a?void 0:a.symbol,rightSymbol:null===(r=s.rightToken)||void 0===r?void 0:r.symbol})),n.createElement("div",null,s.newRightPrice))))})),_a=a(15973),Ea=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,ta.A)();switch(t.step){case _a.m.INIT:return n.createElement("div",{className:"pool-annotation-main"},n.createElement("div",{className:"pool-annotation-main__loader"},n.createElement(E.J,{icon:"loader"})),n.createElement("div",{className:"pool-annotation-main__lead"},e.formatMessage({id:"POOL_STEP_NOTE_LEAD_INIT"})));case _a.m.CHECK_ACCOUNT:case _a.m.CONNECT_ACCOUNT:case _a.m.CONNECTING_ACCOUNT:return n.createElement(n.Fragment,null,n.createElement("div",{className:"pool-annotation-main"},t.step===_a.m.CONNECT_ACCOUNT?n.createElement("div",{className:"pool-annotation-main__ava error"}):n.createElement("div",{className:"pool-annotation-main__loader"},n.createElement(E.J,{icon:"loader"})),n.createElement("div",{className:"pool-annotation-main__lead"},t.step===_a.m.CHECK_ACCOUNT&&e.formatMessage({id:"POOL_STEP_NOTE_LEAD_CHECK_ACCOUNT"}),t.step===_a.m.CONNECT_ACCOUNT&&e.formatMessage({id:"POOL_STEP_NOTE_LEAD_CONNECT_ACCOUNT"}),t.step===_a.m.CONNECTING_ACCOUNT&&e.formatMessage({id:"POOL_STEP_NOTE_LEAD_CONNECTING_ACCOUNT"}))),t.step!==_a.m.CHECK_ACCOUNT?n.createElement("div",{key:"note",className:"pool-annotation-txt"},e.formatMessage({id:t.step===_a.m.CONNECT_ACCOUNT?"POOL_STEP_NOTE_TEXT_CONNECT_ACCOUNT":"POOL_STEP_NOTE_TEXT_CONNECTING_ACCOUNT"})):null);case _a.m.SELECT_PAIR:case _a.m.CHECK_PAIR:return n.createElement(n.Fragment,null,t.step===_a.m.CHECK_PAIR&&n.createElement("div",{className:"pool-annotation-main"},n.createElement("div",{className:"pool-annotation-main__loader"},n.createElement(E.J,{icon:"loader"})),n.createElement("div",{className:"pool-annotation-main__lead"},e.formatMessage({id:"POOL_STEP_NOTE_LEAD_CHECK_PAIR"}))),t.step===_a.m.SELECT_PAIR&&n.createElement("div",{key:"note",className:"pool-annotation-txt"},e.formatMessage({id:"POOL_STEP_NOTE_TEXT_SELECT_TOKEN"})));case _a.m.CREATE_POOL:case _a.m.CREATING_POOL:return n.createElement(n.Fragment,null,n.createElement("div",{className:"pool-annotation-main"},t.step===_a.m.CREATE_POOL?n.createElement("div",{key:"ava",className:"pool-annotation-main__ava error"}):n.createElement("div",{key:"loader",className:"pool-annotation-main__loader"},n.createElement(E.J,{icon:"loader"})),n.createElement("div",{className:"pool-annotation-main__lead"},e.formatMessage({id:t.step===_a.m.CREATE_POOL?"POOL_STEP_NOTE_LEAD_POOL_NOT_EXIST":"POOL_STEP_NOTE_LEAD_POOL_CREATING"}))),t.step===_a.m.CREATE_POOL&&n.createElement("div",{key:"note",className:"pool-annotation-txt"},e.formatMessage({id:"POOL_STEP_NOTE_TEXT_CREATE_POOL"})));case _a.m.CONNECT_POOL:case _a.m.CONNECTING_POOL:return n.createElement(n.Fragment,null,n.createElement("div",{className:"pool-annotation-main"},t.step===_a.m.CONNECT_POOL?n.createElement("div",{key:"ava",className:"pool-annotation-main__ava error"}):n.createElement("div",{key:"loader",className:"pool-annotation-main__loader"},n.createElement(E.J,{icon:"loader"})),n.createElement("div",{className:"pool-annotation-main__lead"},e.formatMessage({id:t.step===_a.m.CONNECT_POOL?"POOL_STEP_NOTE_LEAD_POOL_NOT_CONNECTED":"POOL_STEP_NOTE_LEAD_POOL_CONNECTING"}))),t.step===_a.m.CONNECT_POOL&&n.createElement("div",{key:"note",className:"pool-annotation-txt"},e.formatMessage({id:"POOL_STEP_NOTE_TEXT_CONNECT_POOL"})));case _a.m.DEPOSIT_LIQUIDITY:return t.isDepositingLeft||t.isDepositingRight||t.isDepositingLiquidity?n.createElement("div",{className:"pool-annotation-main"},n.createElement("div",{key:"loader",className:"pool-annotation-main__loader"},n.createElement(E.J,{icon:"loader"})),n.createElement("div",{className:"pool-annotation-main__lead"},e.formatMessage({id:t.isDepositingLiquidity?"POOL_STEP_NOTE_LEAD_SUPPLYING":"POOL_STEP_NOTE_LEAD_AWAIT_TRANSACTION"}))):null;default:return null}})),pa=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,f.O)(),a=(0,ta.A)(),r={disabled:!1},i=e.formatMessage({id:"POOL_BTN_TEXT_SUBMIT"});switch(a.step){case _a.m.INIT:case _a.m.CHECK_ACCOUNT:r.disabled=!0,i=e.formatMessage({id:a.step===_a.m.INIT?"POOL_BTN_TEXT_INIT":"POOL_BTN_TEXT_CHECK_ACCOUNT"});break;case _a.m.CONNECT_ACCOUNT:r.disabled=!1,r.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.connectDexAccount();case 2:case"end":return e.stop()}}),e)}))),i=e.formatMessage({id:"POOL_BTN_TEXT_CONNECT_ACCOUNT"});break;case _a.m.CONNECTING_ACCOUNT:r.disabled=!0,i=e.formatMessage({id:"POOL_BTN_TEXT_CONNECTING_ACCOUNT"});break;case _a.m.CHECK_PAIR:case _a.m.SELECT_PAIR:r.disabled=!0,i=e.formatMessage({id:a.step===_a.m.CHECK_PAIR?"POOL_BTN_TEXT_CHECK_PAIR":"POOL_BTN_TEXT_SELECT_PAIR"});break;case _a.m.CREATE_POOL:case _a.m.CREATING_POOL:r.disabled=a.step===_a.m.CREATING_POOL,a.step===_a.m.CREATE_POOL&&(r.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createPool();case 2:case"end":return e.stop()}}),e)})))),i=e.formatMessage({id:a.step===_a.m.CREATE_POOL?"POOL_BTN_TEXT_CREATE_POOL":"POOL_BTN_TEXT_CREATING_POOL"});break;case _a.m.CONNECT_POOL:case _a.m.CONNECTING_POOL:r.disabled=a.step===_a.m.CONNECTING_POOL,a.step===_a.m.CONNECT_POOL&&(r.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.connectPool();case 2:case"end":return e.stop()}}),e)})))),i=e.formatMessage({id:a.step===_a.m.CONNECT_POOL?"POOL_BTN_TEXT_CONNECT_POOL":"POOL_BTN_TEXT_CONNECTING_POOL"});break;case _a.m.DEPOSIT_LIQUIDITY:var s=(0,ea.K)(a.leftToken,a.leftAmount,a.dexLeftBalance),o=(0,ea.K)(a.rightToken,a.rightAmount,a.dexRightBalance);if(a.isSupplyComputeReady||a.isDepositingLiquidity||a.isDepositingLeft||a.isDepositingRight)if(a.isDexLeftBalanceValid&&!a.isDepositingLeft||!a.leftToken||a.isDepositingLiquidity)if((a.isDexLeftBalanceValid&&!a.isDexRightBalanceValid||a.isDepositingRight)&&a.rightToken&&!a.isDepositingLiquidity){var l;r.disabled=a.isDepositingLiquidity||a.isDepositingRight||a.isDepositingLeft||!s||!o,r.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.depositToken("rightToken");case 2:case"end":return e.stop()}}),e)}))),i=e.formatMessage({id:"POOL_BTN_TEXT_DEPOSIT_TOKEN"},{symbol:null!==(l=a.rightToken.symbol)&&void 0!==l?l:""})}else(a.isSupplyReady||a.isDepositingLiquidity)&&(r.disabled=a.isDepositingLiquidity||a.isDepositingRight||a.isDepositingLeft,r.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.supply();case 2:case"end":return e.stop()}}),e)}))),i=e.formatMessage({id:"POOL_BTN_TEXT_SUPPLY"}));else{var c;r.disabled=a.isDepositingLiquidity||a.isDepositingRight||a.isDepositingLeft||!s||!o,r.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.depositToken("leftToken");case 2:case"end":return e.stop()}}),e)}))),i=e.formatMessage({id:"POOL_BTN_TEXT_DEPOSIT_TOKEN"},{symbol:null!==(c=a.leftToken.symbol)&&void 0!==c?c:""})}else r.disabled=!0,i=e.formatMessage({id:"POOL_BTN_TEXT_ENTER_AN_AMOUNT"})}return t.address||(r.disabled=t.isConnecting,r.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.connect();case 2:case"end":return e.stop()}}),e)}))),i=e.formatMessage({id:"WALLET_BTN_TEXT_CONNECT"})),n.createElement("button",(0,V.Z)({type:"button",className:"btn btn-primary btn-lg form-submit btn-block","aria-disabled":r.disabled},r),i)})),fa=a(73);function va(e){var t=e.token,a=e.onDismiss,i=e.onImport,s=(0,_.Z)(),o=(0,ye.mD)();return r.createPortal(n.createElement("div",{className:"popup"},n.createElement("div",{className:"popup-overlay",onClick:a}),n.createElement("div",{className:"popup__wrap"},n.createElement("button",{type:"button",onClick:a,className:"btn btn-icon popup-close"},n.createElement(E.J,{icon:"close"})),n.createElement("h2",{className:"popup-title"},s.formatMessage({id:"TOKENS_LIST_POPUP_IMPORT_TOKEN_TITLE"})),n.createElement("div",{className:"popup-main warning"},n.createElement("div",{className:"popup-main__ava"},n.createElement(Bt.T,{address:t.root,name:t.name,uri:t.icon})),n.createElement("div",{className:"popup-main__name"},t.name)),n.createElement("div",{className:"popup-txt",dangerouslySetInnerHTML:{__html:s.formatMessage({id:"TOKENS_LIST_POPUP_IMPORT_TOKEN_WARNING"})}}),n.createElement("button",{type:"button",className:"btn btn-md btn-primary btn-block",onClick:function(){o.import(t),null==i||i(t.root)}},s.formatMessage({id:"TOKENS_LIST_POPUP_BTN_TEXT_IMPORT_TOKEN"})))),document.body)}var Ta=(0,h.Pi)((function(e){var t=e.disabled,a=e.token,r=e.onSelect,i=(0,_.Z)(),s=(0,ye.mD)(),o=(0,oa.X)(a,{subscriberPrefix:"list"}),l=n.useState(!1),c=(0,Ft.Z)(l,2),u=c[0],d=c[1],m=s.has(a.root);return n.createElement(n.Fragment,null,n.createElement("div",{key:a.root,className:G()("popup-item",{disabled:t}),onClick:m?function(){null==r||r(a.root)}:void 0},n.createElement("div",{className:"popup-item__left"},n.createElement("div",{className:"popup-item__icon"},n.createElement(Bt.T,{address:a.root,name:a.symbol,size:"small",uri:a.icon})),n.createElement("div",{className:"popup-item__main"},n.createElement("div",{className:"popup-item__name",title:a.symbol},a.symbol),n.createElement("div",{className:"popup-item__txt",title:a.name},a.name))),m?n.createElement("div",{className:"popup-item__right"},o.value):n.createElement("div",{className:"popup-item__right"},n.createElement("button",{type:"button",className:"btn btn-s btn-primary",onClick:function(){d(!0)}},i.formatMessage({id:"TOKENS_LIST_POPUP_BTN_TEXT_IMPORT_TOKEN"})))),u&&n.createElement(va,{token:a,onDismiss:function(){d(!1)},onImport:r}))})),ga=a(80533);function Aa(e){var t=n.useState(!1),a=(0,Ft.Z)(t,2),r=a[0],i=a[1];return n.createElement(ga.h,{onPositionChange:function(e){var t=e.currentPosition;i("inside"===t)}},n.createElement("div",{className:"popup-item-wrapper",style:{height:r?"":60,minHeight:r?"":60}},r&&n.createElement(Ta,e)))}var Na=["currentToken","onDismiss"];function La(e){var t=e.currentToken,a=e.onDismiss,i=(0,U.Z)(e,Na),s=(0,_.Z)(),o=(0,ye.mD)(),l=n.useState(),c=(0,Ft.Z)(l,2),u=c[0],d=c[1],m=n.useState([]),p=(0,Ft.Z)(m,2),f=p[0],v=p[1],T=n.useMemo((function(){return void 0!==u||f.length>0?f:o.tokens}),[u,f,o.tokens]),A=n.useCallback(function(){var e=(0,g.Z)(k().mark((function e(t){var a,n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.target.value).length>0)){e.next=9;break}return d(a),e.next=5,o.search(a);case 5:n=e.sent,v(n),e.next=11;break;case 9:d(void 0),v([]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u,f]);return r.createPortal(n.createElement("div",{className:"popup"},n.createElement("div",{onClick:a,className:"popup-overlay"}),n.createElement("div",{className:"popup__wrap popup__wrap--list"},n.createElement("button",{type:"button",onClick:a,className:"btn btn-icon popup-close"},n.createElement(E.J,{icon:"close"})),n.createElement("h2",{className:"popup-title"},s.formatMessage({id:"TOKENS_LIST_POPUP_TITLE"})),n.createElement("form",{className:"popup-search"},n.createElement("input",{type:"text",className:"popup-search__input",placeholder:s.formatMessage({id:"TOKENS_LIST_POPUP_FIELD_SEARCH_PLACEHOLDER"}),value:u,onChange:A})),n.createElement(h.Qj,null,(function(){return n.createElement("div",{className:G()("popup-list",{"popup-list__no-results":0===T.length})},T.length>0?b()(T).call(T,(function(e){return n.createElement(Aa,{key:e.root,disabled:(null==t?void 0:t.root)===e.root,token:e,onSelect:i.onSelectToken})})):n.createElement("div",{className:"popup-search__message"},s.formatMessage({id:"TOKENS_LIST_POPUP_NO_RESULTS"})))})))),document.body)}function ba(){var e=(0,_.Z)(),t=(0,ta.A)(),a=(0,fa.p)(),r=(0,f.O)();return n.createElement("div",{className:"container container--small"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card__wrap"},n.createElement("header",{className:"card__header"},n.createElement("h2",{className:"card-title"},e.formatMessage({id:"POOL_HEADER_TITLE"})),t.pair&&n.createElement(ua,{key:"pair-icons"})),n.createElement("div",{className:"form"},n.createElement(h.Qj,null,(function(){return n.createElement(ca,{key:"leftField",dexAccountBalance:t.dexLeftBalance,label:e.formatMessage({id:"POOL_FIELD_LABEL_LEFT"}),isCaution:t.isAutoExchangeEnabled,isValid:(0,ea.K)(t.leftToken,t.leftAmount,t.dexLeftBalance),token:t.leftToken,value:t.leftAmount,readOnly:t.isDepositingLiquidity||t.isDepositingLeft||t.isDepositingRight,onChange:a.onChangeData("leftAmount"),onKeyPress:a.debouncedSyncPoolShare,onToggleTokensList:a.showTokensList("leftToken")})})),n.createElement(h.Qj,null,(function(){return n.createElement("div",{className:"pool-linkage"},n.createElement(E.J,{icon:"link",ratio:1.8}))})),n.createElement(h.Qj,null,(function(){return n.createElement(ca,{key:"rightField",dexAccountBalance:t.dexRightBalance,label:e.formatMessage({id:"POOL_FIELD_LABEL_RIGHT"}),isCaution:t.isAutoExchangeEnabled,isValid:(0,ea.K)(t.rightToken,t.rightAmount,t.dexRightBalance),token:t.rightToken,value:t.rightAmount,readOnly:t.isDepositingLiquidity||t.isDepositingLeft||t.isDepositingRight,onChange:a.onChangeData("rightAmount"),onKeyPress:a.debouncedSyncPoolShare,onToggleTokensList:a.showTokensList("rightToken")})})),n.createElement(h.Qj,null,(function(){return t.isAutoExchangeAvailable?n.createElement(aa,{key:"autoExchange"}):null})),n.createElement(h.Qj,null,(function(){return t.isPoolDataAvailable?n.createElement(na,{key:"poolData"}):null})),n.createElement(h.Qj,null,(function(){return t.isPoolShareDataAvailable&&t.step===_a.m.DEPOSIT_LIQUIDITY?n.createElement(ha,{key:"poolShareData"}):null})),n.createElement(h.Qj,null,(function(){return null!=r.account?n.createElement(Ea,{key:"annotations"}):null})),n.createElement(pa,{key:"submitButton"})))),n.createElement(h.Qj,null,(function(){return n.createElement(n.Fragment,null,t.isDexAccountDataAvailable&&n.createElement(ia,{key:"dexAccount"}))})),n.createElement(h.Qj,null,(function(){return n.createElement(ma,{key:"rootsInfo"})})),n.createElement(h.Qj,null,(function(){return n.createElement(ra,{key:"transaction",onDismiss:a.onDismissTransactionReceipt})})),a.isTokenListShown&&a.tokenSide&&n.createElement(La,{key:"tokensList",currentToken:t[a.tokenSide],onDismiss:a.hideTokensList,onSelectToken:a.onSelectToken}),a.isImporting&&void 0!==a.tokenToImport&&n.createElement(va,{key:"tokenImport",token:a.tokenToImport,onDismiss:a.onDismissImporting,onImport:a.onDismissImporting}))}function Ra(){return n.createElement(ba,null)}var ka=a(99217),Ia=a(7529),Oa=(0,h.Pi)((function(){var e,t,a=(0,_.Z)(),r=(0,f.O)(),i=(0,ka.g)();if(i.isSwapping||i.isCrossExchangePreparing||i.isCrossExchangeCalculating)return n.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block form-submit","aria-disabled":"true",disabled:!0},n.createElement("div",{className:"popup-main__loader"},n.createElement(E.J,{icon:"loader"})));var s={},o=a.formatMessage({id:"SWAP_BTN_TEXT_SUBMIT"});switch(!0){case void 0===r.account:s.disabled=r.isConnecting,s.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.connect();case 2:case"end":return e.stop()}}),e)}))),o=a.formatMessage({id:"WALLET_BTN_TEXT_CONNECT"});break;case void 0===i.leftToken||void 0===i.rightToken:s.disabled=!0,o=a.formatMessage({id:"SWAP_BTN_TEXT_SELECT_A_TOKEN"});break;case 0===i.leftAmount.length&&i.direction===Ia.B.LTR:case 0===i.rightAmount.length&&i.direction===Ia.B.RTL:s.disabled=!0,o=a.formatMessage({id:"SWAP_BTN_TEXT_ENTER_AN_AMOUNT"});break;case!i.isCrossExchangeAvailable:s.disabled=!0,o=a.formatMessage({id:"SWAP_BTN_TEXT_ROUTE_DOES_NOT_EXIST"});break;case!(0,ea.K)(i.leftToken,i.direction===Ia.B.LTR?i.leftAmount:null===(e=i.bestCrossExchangeRoute)||void 0===e?void 0:e.leftAmount):s.disabled=!0,o=a.formatMessage({id:"SWAP_BTN_TEXT_INSUFFICIENT_TOKEN_BALANCE"},{symbol:(null===(t=i.leftToken)||void 0===t?void 0:t.symbol)||"",s:function(e){return n.createElement("span",{className:"truncate-name"},e.join(""))}});break;case i.isConfirmationAwait:s.disabled=!0,o=a.formatMessage({id:"SWAP_BTN_TEXT_CONFIRMATION_AWAIT"});break;case i.isCrossExchangeSwapValid:s.onClick=function(){i.changeState("isConfirmationAwait",!0)};break;default:s.disabled=!i.isCrossExchangeSwapValid||i.isLoading}return n.createElement("button",(0,V.Z)({type:"button",className:"btn btn-primary btn-lg btn-block form-submit","aria-disabled":s.disabled},s),o)}));function Sa(e){var t=e.fee,a=e.isCrossExchangeAvailable,r=e.isCrossExchangeMode,i=e.leftToken,s=e.minExpectedAmount,o=e.priceImpact,l=e.rightToken,c=e.slippage,u=e.tokens,d=(0,_.Z)();return void 0===i||void 0===l?null:n.createElement("div",{className:"list-bill"},r&&a&&void 0!==u&&u.length>0&&n.createElement("div",{key:"route",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,d.formatMessage({id:"SWAP_BILL_LABEL_ROUTE"})),n.createElement("span",{className:"list-bill__icn"},n.createElement(E.J,{icon:"info"}))),n.createElement("div",{className:"list-bill__val"},n.createElement("ul",{className:"breadcrumb",style:{margin:0}},n.createElement("li",null,n.createElement("span",null,i.symbol)),null==u?void 0:b()(u).call(u,(function(e){return n.createElement("li",{key:e.root},n.createElement("span",null,e.symbol))})),n.createElement("li",null,n.createElement("span",null,l.symbol))))),void 0!==c&&void 0!==s&&n.createElement("div",{key:"slippage",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,d.formatMessage({id:"SWAP_BILL_LABEL_SLIPPAGE"})),n.createElement("span",{className:"list-bill__icn"},n.createElement(E.J,{icon:"info"}))),n.createElement("div",{className:"list-bill__val"},c,"%")),void 0!==s&&n.createElement("div",{key:"minExpectedAmount",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,d.formatMessage({id:"SWAP_BILL_LABEL_MINIMUM_RECEIVE"})),n.createElement("span",{className:"list-bill__icn"},n.createElement(E.J,{icon:"info"}))),n.createElement("div",{className:"list-bill__val",dangerouslySetInnerHTML:{__html:d.formatMessage({id:"SWAP_BILL_RESULT_MINIMUM_RECEIVE"},{value:(0,v.aB)(s,l.decimals)||0,symbol:l.symbol||""},{ignoreTag:!0})}})),void 0!==o&&n.createElement("div",{key:"priceImpact",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,d.formatMessage({id:"SWAP_BILL_LABEL_PRICE_IMPACT"})),n.createElement("span",{className:"list-bill__icn"},n.createElement(E.J,{icon:"info"}))),n.createElement("div",{className:"list-bill__val",dangerouslySetInnerHTML:{__html:d.formatMessage({id:"SWAP_BILL_RESULT_PRICE_IMPACT"},{value:o||0},{ignoreTag:!0})}})),void 0!==t&&n.createElement("div",{key:"fee",className:"list-bill__row"},n.createElement("div",{className:"list-bill__info"},n.createElement("span",null,d.formatMessage({id:"SWAP_BILL_LABEL_FEE"})),n.createElement("span",{className:"list-bill__icn"},n.createElement(E.J,{icon:"info"}))),n.createElement("div",{className:"list-bill__val",dangerouslySetInnerHTML:{__html:d.formatMessage({id:"SWAP_BILL_RESULT_FEE"},{value:(0,v.aB)(t,i.decimals)||0,symbol:i.symbol||""},{ignoreTag:!0})}})))}var ya=(0,h.Pi)((function(){var e,t,a,i,s,o,l,c,u,d,m=(0,_.Z)(),h=(0,ka.g)(),p=n.useState(h.minExpectedAmount),f=(0,Ft.Z)(p,2),v=f[0],T=f[1],A=n.useState((function(){var e;return h.isCrossExchangeMode&&h.direction!==Ia.B.LTR?null===(e=h.bestCrossExchangeRoute)||void 0===e?void 0:e.leftAmount:h.leftAmount})),N=(0,Ft.Z)(A,2),L=N[0],b=N[1],R=n.useState((function(){var e;return h.isCrossExchangeMode&&h.direction!==Ia.B.RTL?null===(e=h.bestCrossExchangeRoute)||void 0===e?void 0:e.rightAmount:h.rightAmount})),I=(0,Ft.Z)(R,2),O=I[0],S=I[1],y=n.useState(!1),C=(0,Ft.Z)(y,2),P=C[0],w=C[1],D=function(){h.changeState("isConfirmationAwait",!1)},x=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.changeState("isConfirmationAwait",!1),!h.isCrossExchangeMode){e.next=6;break}return e.next=4,h.crossExchangeSwap();case 4:e.next=8;break;case 6:return e.next=8,h.swap();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.useEffect((function(){return(0,Ue.U5)((function(){var e,t;return[h.isCrossExchangeMode&&h.direction!==Ia.B.LTR?null===(e=h.bestCrossExchangeRoute)||void 0===e?void 0:e.leftAmount:h.leftAmount,h.isCrossExchangeMode&&h.direction!==Ia.B.RTL?null===(t=h.bestCrossExchangeRoute)||void 0===t?void 0:t.rightAmount:h.rightAmount,h.minExpectedAmount]}),(function(e){var t=(0,Ft.Z)(e,3),a=t[0],n=t[1],r=t[2];w(a!==L||n!==O||r!==v)}))}),[]),r.createPortal(n.createElement("div",{className:"popup"},n.createElement("div",{onClick:D,className:"popup-overlay"}),n.createElement("div",{className:"popup__wrap popup__wrap-confirm-swap"},n.createElement("button",{type:"button",onClick:D,className:"btn btn-icon popup-close"},n.createElement(E.J,{icon:"close"})),n.createElement("h2",{className:"popup-title"},m.formatMessage({id:"SWAP_POPUP_CONFORMATION_TITLE"})),n.createElement("fieldset",{className:"form-fieldset form-fieldset--small form-fieldset--dark"},n.createElement("div",{className:"form-fieldset__header"},n.createElement("div",null,m.formatMessage({id:"SWAP_FIELD_LABEL_LEFT"}))),n.createElement("div",{className:"form-fieldset__main"},n.createElement("input",{className:"form-input",readOnly:!0,type:"text",value:L}),n.createElement("div",{className:"btn form-drop"},n.createElement("span",{className:"form-drop__logo"},n.createElement(Bt.T,{address:null===(e=h.leftToken)||void 0===e?void 0:e.root,name:null===(t=h.leftToken)||void 0===t?void 0:t.symbol,size:"small",uri:null===(a=h.leftToken)||void 0===a?void 0:a.icon})),n.createElement("span",{className:"form-drop__name"},null===(i=h.leftToken)||void 0===i?void 0:i.symbol)))),n.createElement("fieldset",{className:"form-fieldset form-fieldset--small form-fieldset--dark"},n.createElement("div",{className:"form-fieldset__header"},n.createElement("div",null,m.formatMessage({id:"SWAP_FIELD_LABEL_RIGHT"}))),n.createElement("div",{className:"form-fieldset__main"},n.createElement("input",{className:"form-input",readOnly:!0,type:"text",value:O}),n.createElement("div",{className:"btn form-drop"},n.createElement("span",{className:"form-drop__logo"},n.createElement(Bt.T,{address:null===(s=h.rightToken)||void 0===s?void 0:s.root,name:null===(o=h.rightToken)||void 0===o?void 0:o.symbol,size:"small",uri:null===(l=h.rightToken)||void 0===l?void 0:l.icon})),n.createElement("span",{className:"form-drop__name"},null===(c=h.rightToken)||void 0===c?void 0:c.symbol)))),P?n.createElement("div",{className:"alert"},n.createElement("div",null,n.createElement("strong",null,"Update a rate to swap the tokens"),n.createElement("p",null,"The rate has changed. You can’t swap the tokens at the previous rate.")),n.createElement("div",null,n.createElement("button",{type:"button",className:"btn btn-xs btn--empty",onClick:function(){var e,t;T(h.minExpectedAmount),b(h.isCrossExchangeMode&&h.direction!==Ia.B.LTR?null===(e=h.bestCrossExchangeRoute)||void 0===e?void 0:e.leftAmount:h.leftAmount),S(h.isCrossExchangeMode&&h.direction!==Ia.B.RTL?null===(t=h.bestCrossExchangeRoute)||void 0===t?void 0:t.rightAmount:h.rightAmount),w(!1)}},"Update a rate"))):n.createElement(Sa,{key:"bill",fee:h.fee,isCrossExchangeAvailable:h.isCrossExchangeAvailable,isCrossExchangeMode:h.isCrossExchangeMode,leftToken:h.leftToken,minExpectedAmount:v,priceImpact:h.priceImpact,rightToken:h.rightToken,slippage:h.isCrossExchangeMode?null===(u=h.bestCrossExchangeRoute)||void 0===u?void 0:u.slippage:h.slippage,tokens:null===(d=h.bestCrossExchangeRoute)||void 0===d?void 0:d.tokens}),n.createElement("button",{type:"button",className:"btn btn-md btn-primary btn-block",disabled:P,onClick:x},m.formatMessage({id:"SWAP_BTN_TEXT_CONFIRM_SUBMIT"})))),document.body)})),Ca=["isValid","token"],Pa=(0,h.Pi)((function(e){var t=e.isValid,a=void 0===t||t,r=e.token,i=(0,U.Z)(e,Ca),s=(0,_.Z)(),o=(0,sa.U)({decimals:null==r?void 0:r.decimals,value:i.value,onChange:i.onChange}),l=(0,oa.X)(r,{subscriberPrefix:"field"});return n.createElement("label",{className:"form-label",htmlFor:i.id},n.createElement("fieldset",{className:G()("form-fieldset",{invalid:!a,checking:l.isFetching&&!i.disabled})},n.createElement("div",{className:"form-fieldset__header"},n.createElement("div",null,i.label),void 0!==r&&n.createElement("div",null,s.formatMessage({id:"SWAP_FIELD_TOKEN_WALLET_BALANCE"},{balance:l.value||r.balance}))),n.createElement("div",{className:"form-fieldset__main"},n.createElement("input",{className:"form-input",id:i.id,inputMode:"decimal",pattern:"^[0-9]*[.]?[0-9]*$",placeholder:"0.0",readOnly:i.readOnly,type:"text",value:i.value,onBlur:o.onBlur,onChange:o.onChange}),r?n.createElement("button",{type:"button",className:G()("btn form-drop",{disabled:i.disabled}),disabled:i.disabled,onClick:i.onToggleTokensList},n.createElement("span",{className:"form-drop__logo"},n.createElement(Bt.T,{address:r.root,name:r.symbol,size:"small",uri:r.icon})),n.createElement("span",{className:"form-drop__name"},r.symbol),n.createElement("span",{className:"form-drop__arrow"},n.createElement(E.J,{icon:"arrowDown",ratio:1.2}))):n.createElement("button",{type:"button",className:G()("btn form-select",{disabled:i.disabled}),disabled:i.disabled,onClick:i.onToggleTokensList},n.createElement("span",{className:"form-select__txt"},s.formatMessage({id:"SWAP_FIELD_BTN_TEXT_SELECT_TOKEN"})),n.createElement("span",{className:"form-select__arrow"},n.createElement(E.J,{icon:"arrowDown",ratio:1.2}))))))})),wa=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,ka.g)();return void 0===t.leftToken||void 0===t.rightToken?null:n.createElement("div",{className:"form-row swap-price"},n.createElement("div",null,function(){switch(!0){case t.isCrossExchangeOnly&&t.isCrossExchangeMode:return n.createElement("div",{className:"btn btn-xs btn-secondary swap-price__exchange-mode-btn"},e.formatMessage({id:"SWAP_PRICE_CROSS_EXCHANGE_MODE_ONLY_LABEL"}));case void 0!==t.pair&&t.isCrossExchangeMode:return n.createElement("button",{type:"button",className:"btn btn-xs btn-secondary swap-price__exchange-mode-btn",disabled:t.isSwapping,onClick:t.toggleSwapExchangeMode},e.formatMessage({id:"SWAP_PRICE_DIRECT_EXCHANGE_MODE_LABEL"}));case(void 0!==t.pair||!t.isEnoughLiquidity)&&t.isCrossExchangeAvailable&&void 0!==t.bestCrossExchangeRoute:return n.createElement("button",{type:"button",className:"btn btn-xs btn-secondary swap-price__exchange-mode-btn",disabled:t.isSwapping,onClick:t.toggleSwapExchangeMode},e.formatMessage({id:t.isEnoughLiquidity?"SWAP_PRICE_CROSS_EXCHANGE_MODE_LABEL":"SWAP_PRICE_CROSS_EXCHANGE_AVAILABLE_LABEL"}));default:return n.createElement("div",{className:"btn btn-xs btn-secondary swap-price__exchange-mode-btn"},e.formatMessage({id:"SWAP_PRICE_LABEL"}))}}()),n.createElement("div",{className:"swap-price-details"},t.priceDirection===Ia.B.RTL?n.createElement("span",{key:Ia.B.RTL,dangerouslySetInnerHTML:{__html:e.formatMessage({id:"SWAP_PRICE_RESULT"},{value:void 0!==t.priceLeftToRight?(0,v.aB)(t.priceLeftToRight||"0",t.leftToken.decimals):"--",leftSymbol:t.leftToken.symbol,rightSymbol:t.rightToken.symbol},{ignoreTag:!0})}}):n.createElement("span",{key:Ia.B.LTR,dangerouslySetInnerHTML:{__html:e.formatMessage({id:"SWAP_PRICE_RESULT"},{value:void 0!==t.priceRightToLeft?(0,v.aB)(t.priceRightToLeft||"0",t.rightToken.decimals):"--",leftSymbol:t.rightToken.symbol,rightSymbol:t.leftToken.symbol},{ignoreTag:!0})}}),n.createElement("button",{type:"button",className:"btn form-row__btn swap-price__reverse-btn",onClick:function(){t.togglePriceDirection()}},n.createElement(E.J,{icon:"reverseHorizontal"}))))})),Da=a(77635),xa=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,ka.g)(),a=(0,Da.K)();return n.createElement("div",{className:"swap-settings"},n.createElement("button",{ref:a.triggerRef,type:"button",className:"btn swap-settings__btn",onClick:a.show},n.createElement(E.J,{icon:"config"})),a.isOpen&&n.createElement("div",{ref:a.popupRef,className:"swap-settings__drop"},n.createElement("h3",{className:"swap-settings__title"},e.formatMessage({id:"SWAP_SETTINGS_DROP_TITLE"})),n.createElement("div",{className:"swap-settings__info"},n.createElement("div",{className:"swap-settings__info-txt"},e.formatMessage({id:"SWAP_SETTINGS_DROP_NOTE"}))),n.createElement("div",{className:"swap-settings__label"},n.createElement("div",{className:"swap-settings__label-txt"},"%"),n.createElement("input",{className:"swap-settings__input",inputMode:"decimal",type:"text",value:t.slippage,onBlur:a.onBlur,onChange:a.onChange})),n.createElement("div",{className:"swap-settings__bar"},n.createElement("label",{className:"swap-settings__radio"},n.createElement("input",{type:"radio",name:"percent",value:"0.1",checked:"0.1"===t.slippage,onChange:a.onChange}),n.createElement("span",{className:"swap-settings__radio-txt"},"0.1%")),n.createElement("label",{className:"swap-settings__radio"},n.createElement("input",{type:"radio",name:"percent",value:"0.5",checked:"0.5"===t.slippage,onChange:a.onChange}),n.createElement("span",{className:"swap-settings__radio-txt"},"0.5%")),n.createElement("label",{className:"swap-settings__radio"},n.createElement("input",{type:"radio",name:"percent",value:"1.0",checked:"1.0"===t.slippage,onChange:a.onChange}),n.createElement("span",{className:"swap-settings__radio-txt"},"1.0%")))))})),Ma=(0,h.Pi)((function(){var e,t=(0,_.Z)(),a=(0,f.O)(),r=(0,ka.g)();if(r.isSwapping||r.isPairChecking||r.isCalculating)return n.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block form-submit","aria-disabled":"true",disabled:!0},n.createElement(E.J,{icon:"loader",className:"spin"}));var i={},s=t.formatMessage({id:"SWAP_BTN_TEXT_SUBMIT"});switch(!0){case void 0===a.account:i.disabled=a.isConnecting,i.onClick=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.connect();case 2:case"end":return e.stop()}}),e)}))),s=t.formatMessage({id:"WALLET_BTN_TEXT_CONNECT"});break;case void 0===r.leftToken||void 0===r.rightToken:i.disabled=!0,s=t.formatMessage({id:"SWAP_BTN_TEXT_SELECT_A_TOKEN"});break;case void 0===r.pair||!r.isEnoughLiquidity:i.disabled=!0,s=t.formatMessage({id:"SWAP_BTN_TEXT_NOT_ENOUGH_LIQUIDITY"});break;case 0===r.leftAmount.length&&r.direction===Ia.B.LTR:case 0===r.rightAmount.length&&r.direction===Ia.B.RTL:i.disabled=!0,s=t.formatMessage({id:"SWAP_BTN_TEXT_ENTER_AN_AMOUNT"});break;case!(0,ea.K)(r.leftToken,r.leftAmount):i.disabled=!0,s=t.formatMessage({id:"SWAP_BTN_TEXT_INSUFFICIENT_TOKEN_BALANCE"},{symbol:(null===(e=r.leftToken)||void 0===e?void 0:e.symbol)||"",s:function(e){return n.createElement("span",{className:"truncate-name"},e.join(""))}});break;case r.isConfirmationAwait:i.disabled=!0,s=t.formatMessage({id:"SWAP_BTN_TEXT_CONFIRMATION_AWAIT"});break;case r.isDirectSwapValid:i.onClick=function(){r.changeState("isConfirmationAwait",!0)};break;default:i.disabled=!r.isDirectSwapValid||r.isLoading}return n.createElement("button",(0,V.Z)({type:"button",className:"btn btn-primary btn-lg btn-block form-submit","aria-disabled":i.disabled},i),s)})),Ba=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,ka.g)();if(null==t.transaction)return null;var a=n.createElement("div",{key:"actions",className:"popup-actions"},t.transaction.isCrossExchangeCanceled&&void 0!==t.transaction.spentRoot&&n.createElement(ze.K,{key:"crossPair",address:t.transaction.spentRoot,className:"btn btn-secondary"},e.formatMessage({id:"SWAP_TRANSACTION_RECEIPT_LINK_TXT_TOKEN_ROOT_CONTRACT"})),!t.transaction.isCrossExchangeCanceled&&void 0!==t.transaction.receivedRoot&&n.createElement(ze.K,{key:"directPair",address:t.transaction.receivedRoot,className:"btn btn-secondary"},e.formatMessage({id:"SWAP_TRANSACTION_RECEIPT_LINK_TXT_TOKEN_ROOT_CONTRACT"})),void 0!==t.transaction.hash&&n.createElement(yt.C,{id:t.transaction.hash,className:"btn btn-secondary"},e.formatMessage({id:"SWAP_TRANSACTION_RECEIPT_LINK_TXT_TRANSACTION"}))),i=n.createElement("div",{key:"receivedToken",className:"popup-main nb np"},t.transaction.isCrossExchangeCanceled?n.createElement("div",{key:"crossExchangeIcon",className:"popup-main__ava"},void 0!==t.transaction.spentIcon?n.createElement("img",{alt:t.transaction.spentSymbol,src:t.transaction.spentIcon}):void 0!==t.transaction.spentRoot&&n.createElement(p.Y,{address:t.transaction.spentRoot})):n.createElement("div",{key:"directIcon",className:"popup-main__ava"},void 0!==t.transaction.receivedIcon?n.createElement("img",{alt:t.transaction.receivedSymbol,src:t.transaction.receivedIcon}):void 0!==t.transaction.receivedRoot&&n.createElement(p.Y,{address:t.transaction.receivedRoot})),n.createElement("div",{className:"popup-main__name",dangerouslySetInnerHTML:{__html:e.formatMessage({id:"SWAP_TRANSACTION_RECEIPT_LEAD_RECEIVED_AMOUNT"},{value:(0,v.aB)(t.transaction.amount||"0",t.transaction.isCrossExchangeCanceled?t.transaction.spentDecimals:t.transaction.receivedDecimals)||"0",symbol:t.transaction.isCrossExchangeCanceled?t.transaction.spentSymbol:t.transaction.receivedSymbol},{ignoreTag:!0})}}));return r.createPortal(n.createElement("div",{className:"popup"},n.createElement("div",{className:"popup-overlay"}),n.createElement("div",{className:"popup__wrap"},n.createElement("button",{type:"button",className:"btn btn-icon popup-close",onClick:t.cleanTransactionResult},n.createElement(E.J,{icon:"close"})),n.createElement("h2",{className:"popup-title"},e.formatMessage({id:t.transaction.success?"SWAP_TRANSACTION_RECEIPT_POPUP_TITLE_SUCCESS":"SWAP_TRANSACTION_RECEIPT_POPUP_TITLE_FAILURE"})),t.transaction.success?n.createElement(n.Fragment,null,i,a):n.createElement(n.Fragment,null,n.createElement("div",{key:"failureText",className:"popup-txt",dangerouslySetInnerHTML:{__html:e.formatMessage({id:t.transaction.isCrossExchangeCanceled?"SWAP_TRANSACTION_RECEIPT_CROSS_EXCHANGE_CANCELLED_NOTE":"SWAP_TRANSACTION_RECEIPT_CANCELLED_NOTE"},{leftSymbol:t.transaction.spentSymbol,rightSymbol:t.transaction.receivedSymbol,slippage:t.transaction.slippage})}}),t.transaction.isCrossExchangeCanceled&&i,a))),document.body)})),Ua=a(23387);function Fa(){var e=(0,_.Z)(),t=(0,ka.g)(),a=(0,Ua.L)();return n.createElement("div",{className:"container container--small"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card__wrap"},n.createElement("header",{className:"card__header"},n.createElement("h2",{className:"card-title"},e.formatMessage({id:"SWAP_HEADER_TITLE"})),n.createElement(xa,null)),n.createElement("div",{className:"form"},n.createElement(h.Qj,null,(function(){return n.createElement(Pa,{key:"leftField",disabled:t.isLoading||t.isSwapping,label:e.formatMessage({id:"SWAP_FIELD_LABEL_LEFT"}),isValid:(0,ea.K)(t.leftToken,t.isCrossExchangeMode?t.crossExchangeLeftAmount||"0":t.leftAmount),readOnly:t.isSwapping,token:t.leftToken,value:t.isCrossExchangeMode&&t.direction===Ia.B.RTL?t.crossExchangeLeftAmount:t.leftAmount,onChange:a.onChangeLeftAmount,onToggleTokensList:a.showTokensList("leftToken")})})),n.createElement(h.Qj,null,(function(){return n.createElement("div",{className:G()("swap-icon",{disabled:t.isLoading||t.isSwapping}),onClick:a.toggleTokensDirection},n.createElement(E.J,{icon:"reverse"}))})),n.createElement(h.Qj,null,(function(){return n.createElement(Pa,{key:"rightField",disabled:t.isLoading||t.isSwapping,label:e.formatMessage({id:"SWAP_FIELD_LABEL_RIGHT"}),isValid:!(t.rightAmount.length>0&&!t.isCrossExchangeMode)||t.isEnoughLiquidity,readOnly:t.isSwapping,token:t.rightToken,value:t.isCrossExchangeMode&&t.direction===Ia.B.LTR?t.crossExchangeRightAmount:t.rightAmount,onChange:a.onChangeRightAmount,onToggleTokensList:a.showTokensList("rightToken")})})),n.createElement(wa,{key:"price"}),n.createElement(h.Qj,null,(function(){return t.isCrossExchangeMode?n.createElement(Oa,{key:"crossExchangeSubmitButton"}):n.createElement(Ma,{key:"submitButton"})}))))),n.createElement(h.Qj,null,(function(){var e;return n.createElement(Sa,{key:"bill",fee:t.fee,isCrossExchangeAvailable:t.isCrossExchangeAvailable,isCrossExchangeMode:t.isCrossExchangeMode,leftToken:t.leftToken,minExpectedAmount:t.minExpectedAmount,priceImpact:t.priceImpact,rightToken:t.rightToken,slippage:t.isCrossExchangeMode?t.crossExchangeSlippage:t.slippage,tokens:null===(e=t.bestCrossExchangeRoute)||void 0===e?void 0:e.tokens})})),n.createElement(Ba,{key:"transaction"}),n.createElement(h.Qj,null,(function(){return n.createElement(n.Fragment,null,t.isConfirmationAwait&&n.createElement(ya,{key:"confirmationPopup"}))})),a.isTokenListShown&&null!=a.tokenSide&&n.createElement(La,{key:"tokensList",currentToken:t[a.tokenSide],onDismiss:a.hideTokensList,onSelectToken:a.onSelectToken}),a.isImporting&&void 0!==a.tokenToImport&&n.createElement(va,{key:"tokenImport",token:a.tokenToImport,onDismiss:a.onDismissImporting,onImport:a.onDismissImporting}))}function Ga(){return n.createElement(Fa,null)}function Za(e){var t=e.currency,a=e.idx,r=(0,ye.mD)(),i=n.useMemo((function(){return r.get(t.address)}),[t.address]),o=n.useMemo((function(){return(0,v.Mv)(t.price)}),[t.price]),l=n.useMemo((function(){return(0,v.Mv)(t.volume24h)}),[t.volume24h]),c=n.useMemo((function(){return(0,v.Mv)(t.tvl)}),[t.tvl]);return n.createElement(s.rU,{to:"/tokens/".concat(t.address),className:"list__row"},n.createElement("div",{className:"list__cell hide-540"},a),n.createElement("div",{className:"list__cell"},n.createElement("div",{className:"list__cell-inner"},n.createElement("div",{className:"currencies-list__token-icon-wrapper"},n.createElement(Bt.T,{address:t.address,className:"currencies-list__token-icon",name:null==i?void 0:i.symbol,size:"small",uri:null==i?void 0:i.icon})),n.createElement("div",null,n.createElement("h3",{className:"currencies-list__token-name"},(null==i?void 0:i.symbol)||t.currency),n.createElement("div",{className:"currencies-list__token-subname"},null==i?void 0:i.name)))),n.createElement("div",{className:"list__cell list__cell--right hide-540"},o),n.createElement("div",{className:"list__cell list__cell--right hide-824"},n.createElement(Ut.$,{changesDirection:(0,v._w)(t.priceChange),priceChange:t.priceChange})),n.createElement("div",{className:"list__cell list__cell--right"},l),n.createElement("div",{className:"list__cell list__cell--right hide-824"},c))}function Wa(e){var t=e.currencies,a=e.isLoading,r=e.offset,i=void 0===r?0:r,s=e.ordering,o=e.onSwitchOrdering,l=(0,_.Z)();return n.createElement("div",{className:"currencies-list list"},n.createElement("div",{className:"list__header"},n.createElement("div",{className:"list__cell list__cell--left hide-540"},"#"),n.createElement("div",{className:"list__cell list__cell--left"},l.formatMessage({id:"CURRENCIES_LIST_HEADER_NAME_CELL"})),n.createElement("div",{className:"list__cell list__cell--right hide-540"},l.formatMessage({id:"CURRENCIES_LIST_HEADER_PRICE_CELL"})),n.createElement("div",{className:"list__cell list__cell--right hide-824"},l.formatMessage({id:"CURRENCIES_LIST_HEADER_PRICE_CHANGE_CELL"})),n.createElement("div",{className:"list__cell list__cell--right"},l.formatMessage({id:"CURRENCIES_LIST_HEADER_VOLUME24_CELL"})),n.createElement("div",{className:"list__cell list__cell--right hide-824"},n.createElement(Ae.w,{ascending:"tvlascending",descending:"tvldescending",value:s,onSwitch:o},l.formatMessage({id:"CURRENCIES_LIST_HEADER_TVL_CELL"})))),a?n.createElement(S.p,null):b()(t).call(t,(function(e,t){return n.createElement(Za,{key:e.address,currency:e,idx:i+t+1})})))}var Va={currencies:[],totalCount:0},Ha={currentPage:1,isLoading:!1,limit:10,ordering:"tvldescending"},Ka={currency:void 0,graphData:{prices:[],tvl:[],volume:[]},pairsData:{count:0,offset:10,pairs:[],totalCount:0},transactionsData:{count:0,offset:10,totalCount:0,transactions:[]}},Ya={graph:"prices",isLoading:!1,isPairsLoading:!1,isPricesGraphLoading:!1,isTransactionsLoading:!1,isVolumeGraphLoading:!1,isTvlGraphLoading:!1,pairsCurrentPage:1,pairsLimit:10,pairsOrdering:"tvldescending",timeframe:"H1",transactionsCurrentPage:1,transactionsEventsType:[],transactionsLimit:10,transactionsOrdering:"blocktimedescending"},Xa=a(66967),qa=new(function(){function e(t,a){(0,we.Z)(this,e),(0,xe.Z)(this,"data",Va),(0,xe.Z)(this,"state",Ha),this.tokensCache=t,this.api=a,(0,Ue.ky)(this)}var t;return(0,De.Z)(e,[{key:"changeData",value:function(e,t){this.data[e]=t}},{key:"changeState",value:function(e,t){this.state[e]=t}},{key:"dispose",value:function(){this.data=Va,this.state=Ha}},{key:"load",value:(t=(0,g.Z)(k().mark((function e(){var t,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading){e.next=2;break}return e.abrupt("return");case 2:return this.changeState("isLoading",!0),t={currencyAddresses:(0,ye.DS)(),limit:this.limit,offset:this.currentPage>=1?(this.currentPage-1)*this.limit:0,ordering:this.ordering,whiteListUri:q.ac.TokenListURI},e.next=6,this.api.currencies({},{body:Be()(t)});case 6:a=e.sent,this.changeData("currencies",a.currencies),this.changeData("totalCount",a.totalCount),this.changeState("isLoading",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"currencies",get:function(){var e,t=this;return N()(e=this.data.currencies).call(e,(function(e){var a;return Re()(a=t.tokensCache.roots).call(a,e.address)}))}},{key:"totalPages",get:function(){return Math.ceil(this.data.totalCount/this.limit)}},{key:"currentPage",get:function(){return this.state.currentPage}},{key:"limit",get:function(){return this.state.limit}},{key:"isLoading",get:function(){return this.state.isLoading}},{key:"ordering",get:function(){return this.state.ordering}}]),e}())((0,ye.mD)(),(0,Xa.a)());function za(){var e=(0,_.Z)(),t=qa,a=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.currentPage<t.totalPages)){e.next=4;break}return t.changeState("currentPage",t.currentPage+1),e.next=4,t.load();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.currentPage>1)){e.next=4;break}return t.changeState("currentPage",t.currentPage-1),e.next=4,t.load();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,g.Z)(k().mark((function e(a){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.changeState("currentPage",a),e.next=3,t.load();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,g.Z)(k().mark((function e(a){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.changeState("ordering",a),t.changeState("currentPage",1),e.next=4,t.load();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.useEffect((function(){return(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:case"end":return e.stop()}}),e)})))(),function(){t.dispose()}}),[]),n.createElement("div",{className:"container container--large"},n.createElement("section",{className:"section"},n.createElement("header",{className:"section__header"},n.createElement("h2",{className:"section-title"},e.formatMessage({id:"CURRENCIES_HEADER_TITLE"}))),n.createElement("div",{className:"card card--small card--flat"},n.createElement(h.Qj,null,(function(){return n.createElement(n.Fragment,null,n.createElement(Wa,{currencies:t.currencies,isLoading:t.isLoading,offset:t.limit*(t.currentPage-1),ordering:t.ordering,onSwitchOrdering:s}),n.createElement(ge.t,{currentPage:t.currentPage,disabled:t.isLoading,totalPages:t.totalPages,onNext:a,onPrev:r,onSubmit:i}))})))))}function Qa(){return n.createElement(za,null)}var ja=new(ft()),Ja=function(){function e(t){var a,n,r,i=this;(0,we.Z)(this,e),(0,xe.Z)(this,"data",Ka),(0,xe.Z)(this,"state",Ya),(0,xe.Z)(this,"api",(0,Xa.a)()),r={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(a=this,n=ja),n.set(a,r),this.address=t,(0,Ue.ky)(this,{loadPricesGraph:Ue.aD.bound,loadTvlGraph:Ue.aD.bound,loadVolumeGraph:Ue.aD.bound}),(0,ht.Z)(this,ja,(0,Ue.U5)((function(){return i.timeframe}),(function(){i.changeState("isPricesGraphLoading",!1),i.changeState("isTvlGraphLoading",!1),i.changeState("isVolumeGraphLoading",!1),i.changeData("graphData",Ka.graphData)})))}var t,a,n,r,i,s;return(0,De.Z)(e,[{key:"changeData",value:function(e,t){this.data[e]=t}},{key:"changeState",value:function(e,t){this.state[e]=t}},{key:"dispose",value:function(){var e;null===(e=(0,mt.Z)(this,ja))||void 0===e||e.call(this)}},{key:"changeGraphData",value:function(e,t){this.data.graphData[e]=t}},{key:"isLoading",get:function(){return this.state.isLoading}},{key:"load",value:(s=(0,g.Z)(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isLoading",!0),e.next=6,this.api.currency({address:this.address});case 6:t=e.sent,this.changeData("currency",t),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.prev=12,this.changeState("isLoading",!1),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[2,10,12,15]])}))),function(){return s.apply(this,arguments)})},{key:"currency",get:function(){return this.data.currency}},{key:"formattedPrice",get:function(){var e;return(0,v.Mv)(null===(e=this.currency)||void 0===e?void 0:e.price)}},{key:"formattedVolume24h",get:function(){var e;return(0,v.Mv)(null===(e=this.currency)||void 0===e?void 0:e.volume24h)}},{key:"formattedVolume7d",get:function(){var e;return(0,v.Mv)(null===(e=this.currency)||void 0===e?void 0:e.volume7d)}},{key:"formattedTvl",get:function(){var e;return(0,v.Mv)(null===(e=this.currency)||void 0===e?void 0:e.tvl)}},{key:"isPricesGraphLoading",get:function(){return this.state.isPricesGraphLoading}},{key:"loadPricesGraph",value:(i=(0,g.Z)(k().mark((function e(t,a){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPricesGraphLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isPricesGraphLoading",!0),n={from:t||vt.ou.local().minus({days:"D1"===this.timeframe?30:7}).toUTC(void 0,{keepLocalTime:!1}).toMillis(),timeframe:this.timeframe,to:a||vt.ou.local().toUTC(void 0,{keepLocalTime:!1}).toMillis()},e.next=7,this.api.currencyPrices({address:this.address},{body:Be()(n)});case 7:r=e.sent,this.changeGraphData("prices",qe()(r).call(r,this.graphData.prices)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:return e.prev=13,this.changeState("isPricesGraphLoading",!1),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,11,13,16]])}))),function(e,t){return i.apply(this,arguments)})},{key:"isVolumeGraphLoading",get:function(){return this.state.isVolumeGraphLoading}},{key:"loadVolumeGraph",value:(r=(0,g.Z)(k().mark((function e(t,a){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isVolumeGraphLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isVolumeGraphLoading",!0),n={from:t||vt.ou.local().minus({days:"D1"===this.timeframe?30:7}).toUTC(void 0,{keepLocalTime:!1}).toMillis(),timeframe:this.timeframe,to:a||vt.ou.local().toUTC(void 0,{keepLocalTime:!1}).toMillis()},e.next=7,this.api.currencyVolume({address:this.address},{body:Be()(n)});case 7:r=e.sent,this.changeGraphData("volume",qe()(r).call(r,this.graphData.volume)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:return e.prev=13,this.changeState("isVolumeGraphLoading",!1),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,11,13,16]])}))),function(e,t){return r.apply(this,arguments)})},{key:"isTvlGraphLoading",get:function(){return this.state.isTvlGraphLoading}},{key:"loadTvlGraph",value:(n=(0,g.Z)(k().mark((function e(t,a){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTvlGraphLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isTvlGraphLoading",!0),n={from:t||vt.ou.local().minus({days:"D1"===this.timeframe?30:7}).toUTC(void 0,{keepLocalTime:!1}).toMillis(),timeframe:this.timeframe,to:a||vt.ou.local().toUTC(void 0,{keepLocalTime:!1}).toMillis()},e.next=7,this.api.currencyTvl({address:this.address},{body:Be()(n)});case 7:r=e.sent,this.changeGraphData("tvl",qe()(r).call(r,this.graphData.tvl)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:return e.prev=13,this.changeState("isTvlGraphLoading",!1),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,11,13,16]])}))),function(e,t){return n.apply(this,arguments)})},{key:"timeframe",get:function(){return this.state.timeframe}},{key:"graph",get:function(){return this.state.graph}},{key:"graphData",get:function(){return this.data.graphData}},{key:"pricesGraphData",get:function(){var e;return b()(e=this.graphData.prices).call(e,(function(e){return{close:Et()(e.close),high:Et()(e.high),low:Et()(e.low),open:Et()(e.open),time:e.timestamp/1e3}}))}},{key:"volumeGraphData",get:function(){var e;return b()(e=gt()(this.graphData.volume,"timestamp")).call(e,(function(e){return{time:e.timestamp/1e3,value:Et()(e.data)}}))}},{key:"tvlGraphData",get:function(){var e;return b()(e=gt()(this.graphData.tvl,"timestamp")).call(e,(function(e){return{time:e.timestamp/1e3,value:Et()(e.data)}}))}},{key:"isPairsLoading",get:function(){return this.state.isPairsLoading}},{key:"loadPairs",value:(a=(0,g.Z)(k().mark((function e(){var t,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPairsLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isPairsLoading",!0),t={currencyAddresses:(0,ye.DS)(),currencyAddress:this.address,limit:this.pairsLimit,offset:this.pairsCurrentPage>=1?(this.pairsCurrentPage-1)*this.pairsLimit:0,ordering:this.pairsOrdering,whiteListUri:q.ac.TokenListURI},e.next=7,this.api.pairs({},{body:Be()(t)});case 7:a=e.sent,this.changeData("pairsData",a),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:return e.prev=13,this.changeState("isPairsLoading",!1),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,11,13,16]])}))),function(){return a.apply(this,arguments)})},{key:"relatedPairs",get:function(){return this.data.pairsData.pairs}},{key:"pairsCurrentPage",get:function(){return this.state.pairsCurrentPage}},{key:"pairsLimit",get:function(){return this.state.pairsLimit}},{key:"pairsOrdering",get:function(){return this.state.pairsOrdering}},{key:"pairsTotalPages",get:function(){return Math.ceil(this.data.pairsData.totalCount/this.pairsLimit)}},{key:"isTransactionsLoading",get:function(){return this.state.isTransactionsLoading}},{key:"loadTransactions",value:(t=(0,g.Z)(k().mark((function e(){var t,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTransactionsLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.changeState("isTransactionsLoading",!0),t={currencyAddresses:(0,ye.DS)(),currencyAddress:this.address,limit:this.transactionsLimit,offset:this.transactionsCurrentPage>=1?(this.transactionsCurrentPage-1)*this.transactionsLimit:0,ordering:this.transactionsOrdering,whiteListUri:q.ac.TokenListURI},this.transactionsEvents.length>0&&(t.eventType=this.transactionsEvents),e.next=8,this.api.transactions({},{body:Be()(t)});case 8:a=e.sent,this.changeData("transactionsData",a),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.prev=14,this.changeState("isTransactionsLoading",!1),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,12,14,17]])}))),function(){return t.apply(this,arguments)})},{key:"transactions",get:function(){return this.data.transactionsData.transactions}},{key:"transactionsEvents",get:function(){return this.state.transactionsEventsType}},{key:"transactionsCurrentPage",get:function(){return this.state.transactionsCurrentPage}},{key:"transactionsLimit",get:function(){return this.state.transactionsLimit}},{key:"transactionsOrdering",get:function(){return this.state.transactionsOrdering}},{key:"transactionsTotalPages",get:function(){return Math.ceil(this.data.transactionsData.totalCount/this.transactionsLimit)}}]),e}(),$a=n.createContext(new Ja(""));function en(){return n.useContext($a)}function tn(e){var t=e.address,a=e.children,r=n.useMemo((function(){return new Ja(t)}),[t]);return n.useEffect((function(){(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.load();case 3:return e.next=5,r.loadPairs();case 5:return e.next=7,r.loadTransactions();case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[t]),n.createElement($a.Provider,{value:r},a)}var an=(0,h.Pi)((function(){var e=(0,_.Z)(),t=en(),a=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.pairsCurrentPage<t.pairsTotalPages)){e.next=4;break}return t.changeState("pairsCurrentPage",t.pairsCurrentPage+1),e.next=4,t.loadPairs();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.pairsCurrentPage>1)){e.next=4;break}return t.changeState("pairsCurrentPage",t.pairsCurrentPage-1),e.next=4,t.loadPairs();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,g.Z)(k().mark((function e(a){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.changeState("pairsCurrentPage",a),e.next=3,t.loadPairs();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,g.Z)(k().mark((function e(a){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.changeState("pairsOrdering",a),t.changeState("pairsCurrentPage",1),e.next=4,t.loadPairs();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.createElement("section",{className:"section"},n.createElement("header",{className:"section__header"},n.createElement("h2",{className:"section-title"},e.formatMessage({id:"CURRENCY_PAIRS_LIST_HEADER_TITLE"}))),n.createElement("div",{className:"card card--small card--flat"},n.createElement(Pe,{isLoading:t.isPairsLoading,offset:t.pairsLimit*(t.pairsCurrentPage-1),ordering:t.pairsOrdering,pairs:t.relatedPairs,onSwitchOrdering:s}),n.createElement(ge.t,{currentPage:t.pairsCurrentPage,totalPages:t.pairsTotalPages,onNext:a,onPrev:r,onSubmit:i})))})),nn=(0,h.Pi)((function(){var e,t,a,r,i=(0,_.Z)(),s=en(),o=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.transactionsCurrentPage<s.transactionsTotalPages)){e.next=4;break}return s.changeState("transactionsCurrentPage",s.transactionsCurrentPage+1),e.next=4,s.loadTransactions();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.transactionsCurrentPage>1)){e.next=4;break}return s.changeState("transactionsCurrentPage",s.transactionsCurrentPage-1),e.next=4,s.loadTransactions();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,g.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.changeState("transactionsCurrentPage",t),e.next=3,s.loadTransactions();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,g.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.changeState("transactionsOrdering",t),s.changeState("transactionsCurrentPage",1),e.next=4,s.loadTransactions();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){return(0,g.Z)(k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"all"===e?s.changeState("transactionsEventsType",[]):"swaps"===e?s.changeState("transactionsEventsType",["swaplefttoright","swaprighttoleft"]):"deposit"===e?s.changeState("transactionsEventsType",["deposit"]):"withdraw"===e&&s.changeState("transactionsEventsType",["withdraw"]),s.changeState("transactionsCurrentPage",1),t.next=4,s.loadTransactions();case 4:case"end":return t.stop()}}),t)})))};return n.createElement("section",{className:"section"},n.createElement("header",{className:"section__header"},n.createElement("h2",{className:"section-title"},i.formatMessage({id:"CURRENCY_TRANSACTIONS_LIST_HEADER_TITLE"})),n.createElement("div",{className:"section__header-actions"},n.createElement("ul",{className:"tabs"},n.createElement("li",{className:G()({active:0===s.transactionsEvents.length})},n.createElement("a",{onClick:d("all")},i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_ALL"}))),n.createElement("li",{className:G()({active:2===s.transactionsEvents.length&&Re()(e=s.transactionsEvents).call(e,"swaplefttoright")&&Re()(t=s.transactionsEvents).call(t,"swaprighttoleft")})},n.createElement("a",{onClick:d("swaps")},i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_SWAPS"}))),n.createElement("li",{className:G()({active:1===s.transactionsEvents.length&&Re()(a=s.transactionsEvents).call(a,"deposit")})},n.createElement("a",{onClick:d("deposit")},i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_DEPOSIT"}))),n.createElement("li",{className:G()({active:1===s.transactionsEvents.length&&Re()(r=s.transactionsEvents).call(r,"withdraw")})},n.createElement("a",{onClick:d("withdraw")},i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_WITHDRAW"})))))),n.createElement(Dt,{isLoading:s.isTransactionsLoading,ordering:s.transactionsOrdering,transactions:s.transactions,onSwitchOrdering:u,pagination:{currentPage:s.transactionsCurrentPage,totalPages:s.transactionsTotalPages,onNext:o,onPrev:l,onSubmit:c}}))}));function rn(){var e,t,a,r=(0,_.Z)(),i=en(),s=function(e){return function(){i.changeState("graph",e)}},o=function(e){return function(){i.changeState("timeframe",e)}};return n.createElement("div",{className:"currency-stats"},n.createElement("div",{className:"currency-stats__sidebar"},n.createElement("div",{className:"currency-stats__sidebar-item"},n.createElement("div",{className:"currency-stats__stat-term"},r.formatMessage({id:"CURRENCY_STATS_TVL_TERM"})),n.createElement("div",{className:"currency-stats__stat-value"},n.createElement("strong",null,i.formattedTvl)),void 0!==(null===(e=i.currency)||void 0===e?void 0:e.tvlChange)&&n.createElement(Ut.$,{changesDirection:(0,v._w)(i.currency.tvlChange),priceChange:i.currency.tvlChange})),n.createElement("div",{className:"currency-stats__sidebar-item"},n.createElement("div",{className:"currency-stats__stat-term"},r.formatMessage({id:"CURRENCY_STATS_VOLUME24_TERM"})),n.createElement("div",{className:"currency-stats__stat-value"},n.createElement("strong",null,i.formattedVolume24h)),void 0!==(null===(t=i.currency)||void 0===t?void 0:t.volumeChange24h)&&n.createElement(Ut.$,{changesDirection:(0,v._w)(i.currency.volumeChange24h),priceChange:i.currency.volumeChange24h})),n.createElement("div",{className:"currency-stats__sidebar-item"},n.createElement("div",{className:"currency-stats__stat-term"},r.formatMessage({id:"CURRENCY_STATS_VOLUME7_TERM"})),n.createElement("div",{className:"currency-stats__stat-value"},n.createElement("strong",null,i.formattedVolume7d))),n.createElement("div",{className:"currency-stats__sidebar-item"},n.createElement("div",{className:"currency-stats__stat-term"},r.formatMessage({id:"CURRENCY_STATS_TRANSACTIONS24_TERM"})),n.createElement("div",{className:"currency-stats__stat-value"},n.createElement("strong",null,null===(a=i.currency)||void 0===a?void 0:a.transactionsCount24h)))),n.createElement("div",{className:"currency-stats__chart"},n.createElement("header",{className:"currency-stats__chart-actions"},n.createElement(h.Qj,null,(function(){return n.createElement(n.Fragment,null,n.createElement("ul",{className:"tabs"},n.createElement("li",{className:G()({active:"D1"===i.timeframe})},n.createElement("a",{onClick:o("D1")},"D")),n.createElement("li",{className:G()({active:"H1"===i.timeframe})},n.createElement("a",{onClick:o("H1")},"H"))),n.createElement("ul",{className:"tabs"},n.createElement("li",{className:G()({active:"prices"===i.graph})},n.createElement("a",{onClick:s("prices")},r.formatMessage({id:"CURRENCY_GRAPH_TAB_PRICES"}))),n.createElement("li",{className:G()({active:"volume"===i.graph})},n.createElement("a",{onClick:s("volume")},r.formatMessage({id:"CURRENCY_GRAPH_TAB_VOLUME"}))),n.createElement("li",{className:G()({active:"tvl"===i.graph})},n.createElement("a",{onClick:s("tvl")},r.formatMessage({id:"CURRENCY_GRAPH_TAB_TVL"})))))}))),n.createElement(h.Qj,null,(function(){return n.createElement("div",{className:"currency-stats__chart-wrapper"},"prices"===i.graph&&n.createElement(zt,{key:"pricesGraph",data:i.pricesGraphData,timeframe:i.timeframe,type:"Candlestick",load:i.loadPricesGraph}),"tvl"===i.graph&&n.createElement(zt,{key:"tvlGraph",data:i.tvlGraphData,timeframe:i.timeframe,type:"Area",load:i.loadTvlGraph}),"volume"===i.graph&&n.createElement(zt,{key:"volumeGraph",data:i.volumeGraphData,timeframe:i.timeframe,type:"Histogram",load:i.loadVolumeGraph}))}))))}var sn=(0,h.Pi)((function(){var e,t,a,r,i,o,l,c,u,d=(0,_.Z)(),m=(0,ye.mD)(),h=en(),p=n.useMemo((function(){var e;return null!==(e=h.currency)&&void 0!==e&&e.address?m.get(h.currency.address):void 0}),[null===(e=h.currency)||void 0===e?void 0:e.address,m.tokens]);return n.createElement("div",{className:"container container--large"},n.createElement("section",{className:"section"},n.createElement(je.a,{items:[{link:"/tokens",title:d.formatMessage({id:"CURRENCY_BREADCRUMB_ROOT"})},{title:n.createElement(n.Fragment,null,null===(t=h.currency)||void 0===t?void 0:t.currency,n.createElement("span",null,(0,v.Hn)(null===(a=h.currency)||void 0===a?void 0:a.address)))}]}),n.createElement("header",{className:"currency-page__header"},n.createElement("div",null,n.createElement("div",{className:"currency-page__token"},n.createElement(Bt.T,{address:null==p?void 0:p.root,className:"currency-page__token-icon",name:null==p?void 0:p.symbol,size:"small",uri:null==p?void 0:p.icon}),n.createElement("div",{className:"currency-page__token-name"},(null==p?void 0:p.name)||(null===(r=h.currency)||void 0===r?void 0:r.currency),n.createElement("span",null,null==p?void 0:p.symbol))),n.createElement("div",{className:"currency-page__price"},n.createElement("div",{className:"currency-page__price-currency-cost"},h.formattedPrice),void 0!==(null===(i=h.currency)||void 0===i?void 0:i.priceChange)&&n.createElement(Ut.$,{changesDirection:(0,v._w)(h.currency.priceChange),priceChange:h.currency.priceChange}))),void 0!==(null===(o=h.currency)||void 0===o?void 0:o.address)&&n.createElement("div",{className:"currency-page__header-actions"},n.createElement(ze.K,{address:null===(l=h.currency)||void 0===l?void 0:l.address,className:"btn btn-md btn-icon"},n.createElement(E.J,{icon:"externalLink"})),n.createElement(s.rU,{className:"btn btn-md btn-secondary",to:"/pool/".concat(null===(c=h.currency)||void 0===c?void 0:c.address)},d.formatMessage({id:"CURRENCY_ADD_LIQUIDITY_BTN_TEXT"})),n.createElement(s.rU,{className:"btn btn-md btn-primary",to:"/swap/".concat(null===(u=h.currency)||void 0===u?void 0:u.address)},d.formatMessage({id:"CURRENCY_TRADE_BTN_TEXT"})))),n.createElement(rn,null)),n.createElement(an,{key:"pairs"}),n.createElement(nn,{key:"transactions"}))}));function on(){var e=(0,o.UO)().address;return n.createElement(tn,{address:e},n.createElement(sn,null))}var ln=a(84518),cn=a(44012),un=a(40301),dn=a(60064);function mn(e){var t=e.pair,a=e.lpTokens,r=e.leftToken,i=e.rightToken,o=e.link;return n.createElement(s.rU,{className:"list__row",to:o},n.createElement("div",{className:"list__cell"},n.createElement(dn.s,t)),n.createElement("div",{className:"list__cell list__cell--right"},a),n.createElement("div",{className:"list__cell list__cell--right"},r),n.createElement("div",{className:"list__cell list__cell--right"},i))}var hn=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,un.Y)(),a=t.loading,r=t.totalPages,i=t.items,o=t.query,l=t.currentPage,c=t.onSubmit,u=t.onNext,d=t.onPrev;return n.createElement(n.Fragment,null,n.createElement("div",{className:"card card--small card--flat"},n.createElement("div",{className:"list polls-list"},n.createElement("div",{className:"list__header"},n.createElement("div",{className:"list__cell list__cell--left"},e.formatMessage({id:"POOLS_LIST_TABLE_PAIR"})),n.createElement("div",{className:"list__cell list__cell--right"},e.formatMessage({id:"POOLS_LIST_TABLE_LP_TOKENS"})),n.createElement("div",{className:"list__cell list__cell--right"},e.formatMessage({id:"POOLS_LIST_TABLE_LEFT_TOKEN"})),n.createElement("div",{className:"list__cell list__cell--right"},e.formatMessage({id:"POOLS_LIST_TABLE_RIGHT_TOKEN"}))),a||0!==i.length?n.createElement(n.Fragment,null,a&&0===i.length?n.createElement(S.p,null):n.createElement(wt.i,{loading:a&&i.length>0},b()(i).call(i,(function(e){return n.createElement(mn,(0,V.Z)({key:e.pair.pairLabel},e))})))):n.createElement("div",{className:"message"},o?n.createElement("p",null,e.formatMessage({id:"POOLS_LIST_NOTHING_FOUND"})):n.createElement(n.Fragment,null,n.createElement("p",null,e.formatMessage({id:"POOLS_LIST_EMPTY_TABLE"})),n.createElement("p",{className:"message_faded__text small"},n.createElement(cn.Z,{id:"POOLS_LIST_EMPTY_TABLE_META",values:{link:n.createElement(s.rU,{to:"/pairs"},e.formatMessage({id:"POOLS_LIST_EMPTY_TABLE_META_LINK_TEXT"}))}}))))),r>1&&n.createElement(ge.t,{totalPages:r,currentPage:l,onNext:u,onPrev:d,onSubmit:c})))}));function _n(e){var t=e.onClickConnect,a=e.message,r=(0,_.Z)();return n.createElement("div",{className:"card card--small card--flat"},n.createElement("div",{className:"message message_faded"},a&&n.createElement("p",null,a),n.createElement("button",{className:"btn btn-secondary",onClick:t,type:"button"},r.formatMessage({id:"WALLET_BTN_TEXT_CONNECT"}))))}function En(){var e=(0,_.Z)();return n.createElement("div",{className:"card card--small card--flat"},n.createElement("div",{className:"message message_faded"},n.createElement("div",{className:"connect-install-text",dangerouslySetInnerHTML:{__html:e.formatMessage({id:"WALLET_INSTALLATION_NOTE"})}}),n.createElement("a",{className:"btn btn-secondary",href:"https://chrome.google.com/webstore/detail/ton-crystal-wallet/cgeeodpfagjceefieflmdfphplkenlfk",target:"_blank",rel:"nofollow noopener noreferrer"},e.formatMessage({id:"WALLET_INSTALLATION_LINK_TEXT"}))))}var pn=(0,h.Pi)((function(e){var t=e.children,a=(0,f.O)();return n.createElement(n.Fragment,null,a.isInitializing?n.createElement(S.p,null):n.createElement(n.Fragment,null,a.hasProvider?t:n.createElement(En,null)))})),fn=(0,h.Pi)((function(e){var t=e.children,a=e.message,r=(0,f.O)();return n.createElement(pn,null,r.isConnecting?n.createElement(S.p,null):n.createElement(n.Fragment,null,r.isConnected?t:n.createElement(_n,{onClickConnect:function(){r.connect()},message:a})))})),vn=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,da.m)(),a=n.useState(!1),r=(0,Ft.Z)(a,2),i=r[0],s=r[1],o=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,t.connectOrCreate();case 4:return e.next=6,t.checkConnect();case 6:return e.next=8,t.sync();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,v.vU)(e.t0);case 13:s(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",{className:"card card--small card--flat"},n.createElement("div",{className:"message message_faded"},n.createElement("p",null,e.formatMessage({id:"ACCOUNT_CONNECTOR_NOTE"})),n.createElement("button",{className:"btn btn-secondary btn-with-icon",onClick:o,disabled:i,type:"button"},e.formatMessage({id:"ACCOUNT_CONNECTOR_BUTTON"}),i&&n.createElement(S.p,{slim:!0,size:"s"}))))})),Tn=(0,h.Pi)((function(e){var t=e.children,a=(0,da.m)(),r=n.useState(!a.isConnected),i=(0,Ft.Z)(r,2),s=i[0],o=i[1],l=function(){var e=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,a.connectAndSync();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),(0,v.vU)(e.t0);case 9:o(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return n.useEffect((function(){a.isConnected||l()}),[]),n.createElement(n.Fragment,null,s?n.createElement(S.p,null):n.createElement(n.Fragment,null,a.isConnected?t:n.createElement(vn,null)))}));function gn(){var e=(0,_.Z)();return n.createElement("div",{className:"container container--large"},n.createElement("section",{className:"section"},n.createElement("div",{className:"section__header section__header_wrap"},n.createElement(ln.N,null,e.formatMessage({id:"POOLS_LIST_TITLE"})),n.createElement("div",{className:"section__header-actions"},n.createElement(s.rU,{to:"/pools/burn-liquidity",className:"btn btn-secondary"},e.formatMessage({id:"POOLS_LIST_HEADER_REMOVE"})),n.createElement(s.rU,{to:"/pool",className:"btn btn-primary"},e.formatMessage({id:"POOLS_LIST_HEADER_NEW"})))),n.createElement(fn,{message:e.formatMessage({id:"POOLS_LIST_CONNECT_WALLET_TITLE"})},n.createElement(Tn,null,n.createElement(hn,null)))))}function An(){return n.createElement(gn,null)}var Nn=a(42496);function Ln(e){var t=e.name,a=e.balance,r=e.share,i=e.walletLpAmount,o=e.apportionment,l=e.commission,c=e.leftTokenRoot,u=e.rightTokenRoot,d=(0,_.Z)();return n.createElement("div",{className:"card card--small card--flat"},n.createElement("div",{className:"balance balance_theme_white"},n.createElement("h4",{className:"balance__title"},d.formatMessage({id:"POOLS_LIST_TOTAL_BALANCE_TITLE"},{name:t})),n.createElement("div",{className:"balance-rows"},n.createElement("div",{className:"balance-section"},n.createElement("h5",{className:"balance-section__title"},d.formatMessage({id:"POOLS_LIST_TOTAL_BALANCE_AMOUNT"},{name:t})),n.createElement("div",{className:"balance-section__content"},n.createElement("div",{className:"balance-amount"},a))),n.createElement("div",{className:"balance-cols"},n.createElement("div",{className:"balance-section"},n.createElement("h5",{className:"balance-section__title"},d.formatMessage({id:"POOLS_LIST_TOTAL_APPORTIONMENT"})),n.createElement("div",{className:"balance-section__content"},b()(o).call(o,(function(e){return n.createElement("div",{className:"balance__token",key:e.address},n.createElement(Bt.T,{address:e.address,size:"xsmall",uri:e.uri}),e.amount)})))),l&&l.length>0&&n.createElement("div",{className:"balance-section"},n.createElement("h5",{className:"balance-section__title"},d.formatMessage({id:"POOLS_LIST_TOTAL_COMMISSION_REWARD"})),n.createElement("div",{className:"balance-section__content"},b()(l).call(l,(function(e){return n.createElement("div",{className:"balance__token",key:e.address},n.createElement(Bt.T,{address:e.address,size:"xsmall",uri:e.uri}),e.amount)}))))),void 0!==r&&n.createElement("div",{className:"balance-section"},n.createElement("h5",{className:"balance-section__title"},d.formatMessage({id:"POOLS_LIST_TOTAL_SHARE_TITLE"})),n.createElement("div",{className:"balance-section__content"},d.formatMessage({id:"POOLS_LIST_TOTAL_SHARE"},{value:r}))),n.createElement("div",{className:"balance-buttons balance-buttons_inline"},i&&new(J())(i).isGreaterThan(0)&&n.createElement(s.rU,{className:"btn btn--empty btn-s btn-with-icon",to:Nn.VP.poolRemoveLiquidity.makeUrl({leftTokenRoot:c,rightTokenRoot:u})},d.formatMessage({id:"POOLS_LIST_BURN_BUTTON"})),n.createElement(s.rU,{className:"btn btn-primary btn-s",to:Nn.VP.poolCreate.makeUrl({leftTokenRoot:c,rightTokenRoot:u})},d.formatMessage({id:"POOLS_LIST_ADD_BUTTON"}))))))}function bn(e){var t=e.title,a=e.symbol,r=e.balance,i=e.tokens,s=(0,_.Z)();return n.createElement("div",{className:"card card--small card--flat"},n.createElement("div",{className:"balance"},n.createElement("h4",{className:"balance__title"},t),n.createElement("div",{className:"balance-rows"},n.createElement("div",{className:"balance-section"},n.createElement("h5",{className:"balance-section__title"},s.formatMessage({id:"POOLS_LIST_AMOUNT"},{name:a})),n.createElement("div",{className:"balance-section__content"},r)),n.createElement("div",{className:"balance-section"},n.createElement("h5",{className:"balance-section__title"},s.formatMessage({id:"POOLS_LIST_APPORTIONMENT"})),n.createElement("div",{className:"balance-section__content"},b()(i).call(i,(function(e){return n.createElement("div",{className:"balance__token",key:e.address},n.createElement(Bt.T,{address:e.address,size:"xsmall",uri:e.uri}),e.amount)})))))))}var Rn=a(98011),kn=a(16725);function In(e){var t=e.poolAddress,a=e.userAddress,r=(0,kn.h)(),i=(0,_.Z)(),s=(0,Rn.h)(),o=n.useState(!0),l=(0,Ft.Z)(o,2),c=l[0],u=l[1],d=n.useState([]),m=(0,Ft.Z)(d,2),h=m[0],E=m[1],p=n.useState(0),f=(0,Ft.Z)(p,2),T=f[0],A=f[1],N=n.useState(["deposit","withdraw"]),L=(0,Ft.Z)(N,2),b=L[0],R=L[1],I=n.useState("blocktimedescending"),O=(0,Ft.Z)(I,2),S=O[0],y=O[1],C=Math.ceil(T/10),P=s.currentPage,w=function(){var e=(0,g.Z)(k().mark((function e(){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,r.transactions({},{body:Be()({ordering:S,poolAddress:t,userAddress:a,limit:10,offset:P>0?10*(P-1):0,eventType:b.length?b:void 0})});case 4:n=e.sent,E(n.transactions),A(n.totalCount),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),(0,v.vU)(e.t0);case 12:u(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return n.useEffect((function(){s.onSubmit(1)}),[b]),n.useEffect((function(){w()}),[P,b,S]),n.createElement(n.Fragment,null,n.createElement("div",{className:"pools-sub-header"},n.createElement(ln.N,{size:"small"},i.formatMessage({id:"TRANSACTIONS_LIST_TITLE"})),n.createElement(xt.m,{items:[{label:i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_ALL"}),active:2===b.length,onClick:function(){return R(["deposit","withdraw"])}},{label:i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_DEPOSIT"}),active:1===b.length&&Re()(b).call(b,"deposit"),onClick:function(){return R(["deposit"])}},{label:i.formatMessage({id:"TRANSACTIONS_LIST_EVENT_WITHDRAW"}),active:1===b.length&&Re()(b).call(b,"withdraw"),onClick:function(){return R(["withdraw"])}}]})),n.createElement(Dt,{isLoading:c,ordering:S,transactions:h,onSwitchOrdering:y,pagination:{totalPages:C,currentPage:P,onNext:s.onNext,onPrev:s.onPrev,onSubmit:s.onSubmit}}))}var On,Sn=a(3649),yn=a.n(Sn),Cn=a(12),Pn=a(51199),wn=(a(62462),a(94198),a(93476)),Dn=a.n(wn),xn=a(82740);function Mn(e){var t=e.pairIcons,a=e.pairLabel,r=e.startTime,i=e.endTime,s=e.isOwner,o=e.isPublic,l=e.balanceWarning,c=(0,_.Z)(),u=n.useRef(null),d=n.useRef(null),m=n.useRef(null),h=function(e,t){var a=(new Date).getTime(),n=On.ACTIVE;return a<e?n=On.WAITING:t&&a>=e&&a<t?n=On.ACTIVE:t&&a>=t?n=On.ENDED:!t&&a>e&&(n=On.ACTIVE),n}(r,i);return n.createElement("div",{className:"farming-pair"},n.createElement("span",{ref:d,className:G()("farming-pair__status",{"farming-pair__status_ended":h===On.ENDED,"farming-pair__status_waiting":h===On.WAITING,"farming-pair__status_active":h===On.ACTIVE})}),h===On.WAITING&&n.createElement(Pn.u,{target:d},n.createElement("div",{dangerouslySetInnerHTML:{__html:c.formatMessage({id:"FARMING_PAIR_WAITING_TOOLTIP"})}})),n.createElement(dn.s,{pairIcons:t,pairLabel:a}),s&&void 0!==o&&n.createElement(n.Fragment,null,n.createElement("div",{ref:u,className:G()("farming-pair__user",{"farming-pair__user_private":!o})},n.createElement(E.J,{icon:"user"})),n.createElement(Pn.u,{target:u},n.createElement("div",{dangerouslySetInnerHTML:{__html:c.formatMessage({id:o?"FARMING_PAIR_PUBLIC_TOOLTIP":"FARMING_PAIR_PRIVATE_TOOLTIP"})}}))),l&&n.createElement(n.Fragment,null,n.createElement("div",{ref:m},n.createElement(E.J,{icon:"warning"})),n.createElement(Pn.u,{target:m},n.createElement("div",{dangerouslySetInnerHTML:{__html:c.formatMessage({id:"FARMING_PAIR_WARNING_TOOLTIP"})}}))))}function Bn(e){var t=e.leftToken,a=e.rightToken,r=e.rewardsIcons,i=e.tvl,o=e.tvlChange,l=e.apr,c=e.aprChange,u=e.share,d=e.vestedRewards,m=e.entitledRewards,h=e.startTime,p=e.endTime,f=e.isOwner,T=e.isPublic,g=e.balanceWarning,A=e.link,N=e.rewardsLoading,L=A?s.rU:"div",R=(0,_.Z)(),k=R.formatMessage({id:"FARMING_TABLE_NULL"}),I=R.formatMessage({id:"FARMING_TABLE_SHARE_VALUE"},{value:(0,v.aB)(u,0)}),O=l?R.formatMessage({id:"FARMING_TABLE_APR_VALUE"},{value:(0,v.aB)(l,0)}):void 0,S=i?(0,v.Mv)(i):void 0;return n.createElement(L,{className:"list__row",to:A},n.createElement("div",{className:"list__cell list__cell--left"},n.createElement(Mn,{startTime:h,endTime:p,pairIcons:{leftToken:t,rightToken:a},pairLabel:(0,v.Sh)(t.name,null==a?void 0:a.name),isOwner:f,isPublic:T,balanceWarning:g})),n.createElement("div",{className:"list__cell list__cell--left"},n.createElement(Cn.F,{limit:1,icons:r,title:R.formatMessage({id:"FARMING_TABLE_REWARDS_TITLE"})})),n.createElement("div",{className:"list__cell list__cell--left list__cell--right",title:S},null===i?k:S),n.createElement("div",{className:"list__cell list__cell--left list__cell--right"},null===o?k:n.createElement(Ut.$,{changesDirection:(0,v._w)(o),priceChange:o})),n.createElement("div",{className:"list__cell list__cell--left list__cell--right",title:O},null===l?k:O),n.createElement("div",{className:"list__cell list__cell--left list__cell--right"},null===c?k:n.createElement(Ut.$,{changesDirection:(0,v._w)(c),priceChange:c})),n.createElement("div",{className:"list__cell list__cell--left list__cell--right",title:I},I),n.createElement("div",{className:"list__cell list__cell--left list__cell--right"},N?n.createElement(E.J,{icon:"loader",ratio:.6,className:"spin farming-table__loading"}):b()(d).call(d,(function(e){return n.createElement("div",null,e)}))),n.createElement("div",{className:"list__cell list__cell--left list__cell--right"},N?n.createElement(E.J,{icon:"loader",ratio:.6,className:"spin farming-table__loading"}):b()(m).call(m,(function(e){return n.createElement("div",null,e)}))))}function Un(e){var t=e.loading,a=e.items,r=e.totalPages,i=e.currentPage,s=e.onNext,o=e.onPrev,l=e.onSubmit,c=(0,_.Z)();return n.createElement("div",{className:"card card--small card--flat"},n.createElement("div",{className:"list farming-table"},n.createElement("div",{className:"list__header"},n.createElement("div",{className:"list__cell list__cell--left"},c.formatMessage({id:"FARMING_TABLE_FARMING_POOL"})),n.createElement("div",{className:"list__cell list__cell--left"},c.formatMessage({id:"FARMING_TABLE_REWARD"})),n.createElement("div",{className:"list__cell list__cell--right"},c.formatMessage({id:"FARMING_TABLE_TVL"})),n.createElement("div",{className:"list__cell list__cell--right"},c.formatMessage({id:"FARMING_TABLE_TVL_CHANGE"})),n.createElement("div",{className:"list__cell list__cell--right"},c.formatMessage({id:"FARMING_TABLE_APR"})),n.createElement("div",{className:"list__cell list__cell--right"},c.formatMessage({id:"FARMING_TABLE_APR_CHANGE"})),n.createElement("div",{className:"list__cell list__cell--right"},c.formatMessage({id:"FARMING_TABLE_SHARE"})),n.createElement("div",{className:"list__cell list__cell--right"},c.formatMessage({id:"FARMING_TABLE_YOUR_REWARD"})),n.createElement("div",{className:"list__cell list__cell--right"},c.formatMessage({id:"FARMING_TABLE_ENTITLED_REWARD"}))),t&&0===a.length?n.createElement("div",{className:"farming-table__message"},n.createElement(S.p,{slim:!0})):n.createElement(n.Fragment,null,t||0!==a.length?n.createElement(wt.i,{loading:t&&a.length>0},b()(a).call(a,(function(e,t){return n.createElement(Bn,(0,V.Z)({key:t},e))}))):n.createElement("div",{className:"farming-table__message"},c.formatMessage({id:"FARMING_TABLE_NOT_FOUND"})))),r>1&&n.createElement(ge.t,{currentPage:i,onNext:s,onPrev:o,onSubmit:l,totalPages:r}))}function Fn(e){var t=e.items,a=(0,_.Z)(),r=(0,Rn.h)(),i=Math.ceil(t.length/10),s=10*(r.currentPage-1),o=s+10,l=yn()(t).call(t,s,o);return n.createElement(n.Fragment,null,n.createElement("div",{className:"pools-sub-header"},n.createElement(ln.N,{size:"small"},a.formatMessage({id:"POOLS_FARMINGS_TITLE"}))),n.createElement(Un,{items:l,totalPages:i,onNext:r.onNext,onPrev:r.onPrev,currentPage:r.currentPage,onSubmit:r.onSubmit}))}!function(e){e[e.WAITING=0]="WAITING",e[e.ACTIVE=1]="ACTIVE",e[e.ENDED=2]="ENDED"}(On||(On={}));var Gn=a(59266),Zn=a(84255),Wn=(0,h.Pi)((function(){var e=(0,_.Z)(),t=(0,Zn.s)(),a=(0,Gn.W)(),r=a.pool,i=a.loading,s=a.pairAddress,o=a.ownerAddress,l=a.walletLeft,c=a.walletRight,u=a.priceLeftToRight,d=a.priceRightToLeft,m=a.totalLp,h=a.totalLeft,p=a.totalRight,f=a.lockedLp,T=a.lockedLeft,g=a.lockedRight,A=a.leftToken,N=a.rightToken,L=a.farmItems,b=a.totalShare;return n.createElement(n.Fragment,null,i?n.createElement(S.p,null):n.createElement(n.Fragment,null,r?n.createElement(n.Fragment,null,n.createElement(je.a,{items:[{link:Nn.VP.poolList.makeUrl(),title:e.formatMessage({id:"POOLS_LIST_ITEM_OVERVIEW"})},{title:e.formatMessage({id:"POOLS_LIST_ITEM_TITLE"},{symbol:(0,v.Sh)(null==A?void 0:A.symbol,null==N?void 0:N.symbol)})}]}),n.createElement("div",{className:"pools-pair-title"},n.createElement(Oe.P,{leftToken:{uri:t.getUri(r.left.address)},rightToken:{uri:t.getUri(r.right.address)}}),n.createElement("h2",{className:"section-title"},e.formatMessage({id:"POOLS_LIST_ITEM_TITLE"},{symbol:(0,v.Sh)(null==A?void 0:A.symbol,null==N?void 0:N.symbol)}))),n.createElement("div",{className:"pools-toolbar"},n.createElement("div",{className:"pools-pair-buttons"},n.createElement(Qe.D,{link:Nn.VP.tokenItem.makeUrl({address:r.left.address}),label:e.formatMessage({id:"PAIR_TOKEN_PRICE"},{amount:(0,v.aB)(u,null==N?void 0:N.decimals),symbolLeft:null==A?void 0:A.symbol,symbolRight:null==N?void 0:N.symbol}),tokenIcon:{uri:t.getUri(r.left.address)}}),n.createElement(Qe.D,{link:Nn.VP.tokenItem.makeUrl({address:r.right.address}),label:e.formatMessage({id:"PAIR_TOKEN_PRICE"},{amount:(0,v.aB)(d,null==A?void 0:A.decimals),symbolLeft:null==N?void 0:N.symbol,symbolRight:null==A?void 0:A.symbol}),tokenIcon:{uri:t.getUri(r.right.address)}})),n.createElement("div",null,n.createElement(Ie,{poolAddress:r.address.toString(),leftSymbol:null==A?void 0:A.symbol,rightSymbol:null==N?void 0:N.symbol}),n.createElement(ze.K,{address:r.address,className:"btn btn-md btn-square btn-icon"},n.createElement(E.J,{icon:"externalLink"})))),n.createElement("div",{className:"pools-sub-header"},n.createElement(ln.N,{size:"small"},e.formatMessage({id:"POOLS_LIST_USER_BALANCE"}))),n.createElement("div",{className:"pools-balances"},n.createElement(Ln,{share:b,name:r.lp.symbol,balance:(0,v.aB)(m,r.lp.decimals),apportionment:[{uri:t.getUri(r.left.address),address:r.left.address,amount:e.formatMessage({id:"POOLS_LIST_TOKEN_BALANCE"},{value:h,symbol:null==A?void 0:A.symbol})},{uri:t.getUri(r.right.address),address:r.right.address,amount:e.formatMessage({id:"POOLS_LIST_TOKEN_BALANCE"},{value:p,symbol:null==N?void 0:N.symbol})}],leftTokenRoot:r.left.address,rightTokenRoot:r.right.address,walletLpAmount:r.lp.inWallet}),n.createElement(bn,{title:e.formatMessage({id:"POOLS_LIST_WALLET_BALANCE"}),symbol:r.lp.symbol,balance:(0,v.aB)(r.lp.inWallet,r.lp.decimals),tokens:[{uri:t.getUri(r.left.address),address:r.left.address,amount:e.formatMessage({id:"POOLS_LIST_TOKEN_BALANCE"},{value:l,symbol:null==A?void 0:A.symbol})},{uri:t.getUri(r.right.address),address:r.right.address,amount:e.formatMessage({id:"POOLS_LIST_TOKEN_BALANCE"},{value:c,symbol:null==N?void 0:N.symbol})}]}),n.createElement(bn,{title:e.formatMessage({id:"POOLS_LIST_LOCKED_FARM"}),symbol:r.lp.symbol,balance:(0,v.aB)(f,r.lp.decimals),tokens:[{uri:t.getUri(r.left.address),address:r.left.address,amount:e.formatMessage({id:"POOLS_LIST_TOKEN_BALANCE"},{value:T,symbol:null==A?void 0:A.symbol})},{uri:t.getUri(r.right.address),address:r.right.address,amount:e.formatMessage({id:"POOLS_LIST_TOKEN_BALANCE"},{value:g,symbol:null==N?void 0:N.symbol})}]})),L&&n.createElement(Fn,{items:L}),s&&o&&n.createElement(In,{poolAddress:s.toString(),userAddress:o.toString()})):n.createElement("div",{className:"card card--small card--flat"},n.createElement("div",{className:"message message_faded"},n.createElement("p",null,e.formatMessage({id:"POOLS_LIST_ITEM_NOT_FOUND"}))))))})),Vn=(0,h.Pi)((function(){var e=(0,_.Z)();return n.createElement("div",{className:"container container--large"},n.createElement(fn,{message:e.formatMessage({id:"POOLS_LIST_CONNECT_WALLET_TITLE"})},n.createElement(Tn,null,n.createElement(Wn,null))))}));function Hn(){return n.createElement(Vn,null)}var Kn=a(61484),Yn=a(42309);function Xn(e){var t=e.root,a=e.onOpen,r=e.onClose,i=e.onSelect,s=e.size,o=void 0===s?"small":s,l=e.showIcon,c=(0,_.Z)(),u=(0,ye.mD)(),d=t&&u.get(t),m=n.useState(!1),h=(0,Ft.Z)(m,2),p=h[0],f=h[1],v=c.formatMessage({id:"TOKEN_SELECTOR_PLACEHOLDER"}),T=function(){f(!1),r&&r()};return n.useEffect((function(){t&&u.fetchIfNotExist(t)}),[t]),n.createElement(n.Fragment,null,n.createElement("button",{type:"button",onClick:function(){f(!0),a&&a()},className:G()("token-selector",(0,xe.Z)({"token-selector_dirty":Boolean(d)},"token-selector_size_".concat(o),Boolean(o)))},n.createElement("span",{className:"token-selector__value",title:d?d.symbol:v},l&&d&&n.createElement(Bt.T,{size:"small",address:d.root,uri:d.icon}),n.createElement("span",{className:"token-selector__symbol"},d?d.symbol:v)),n.createElement(E.J,{icon:"arrowDown"})),p&&n.createElement(La,{onDismiss:T,onSelectToken:function(e){i&&i(e),T()}}))}var qn=(0,h.Pi)((function(e){var t=e.address,a=e.size,r=void 0===a?"small":a,i=(0,ye.mD)().get(t);return i?n.createElement("div",{className:G()("token",(0,xe.Z)({},"token_size_".concat(r),Boolean(r)))},n.createElement(Bt.T,{size:r,address:i.root,uri:i.icon}),i.symbol):null})),zn=(0,h.Pi)((function(e){var t=e.receiveLeft,a=e.receiveRight,r=e.currentShare,i=e.resultShare,s=e.currentLeftAmount,o=e.currentRightAmount,l=e.resultLeftAmount,c=e.resultRightAmount,u=e.leftTokenAddress,d=e.rightTokenAddress,m=e.amount,h=void 0===m?"":m,E=e.amountIsValid,p=e.amountIsPositiveNum,f=e.amountIsLessOrEqualBalance,T=e.userLpTotalAmount,g=e.lpDecimals,A=e.lpTokenSymbol,N=e.loading,L=e.walletConnected,b=e.onClickConnect,R=e.onChangeLeftToken,k=e.onChangeRightToken,I=e.onChangeAmount,O=e.onSubmit,y=(0,_.Z)(),C=(0,ye.mD)(),P=u&&C.get(u),w=d&&C.get(d),D=y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_SHARE_NULL"}),x=n.useMemo((function(){return T&&new(J())(T).isGreaterThan(0)}),[T]),M=h.length>0&&(!f||!p),B=T&&void 0!==g?(0,v.aB)(T,g):"0",U=h.length>0&&p&&!f?y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_ERROR_TO_BIG"},{value:B}):y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_BALANCE"},{value:B});return n.useEffect((function(){u&&C.fetchIfNotExist(u)}),[u]),n.useEffect((function(){d&&C.fetchIfNotExist(d)}),[d]),n.createElement("form",{className:"remove-liquidity-form",onSubmit:function(e){e.preventDefault(),O()}},n.createElement("h1",{className:"remove-liquidity-form__title"},y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_TITLE"})),n.createElement("div",null,n.createElement("div",{className:"remove-liquidity-form__label"},y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_SELECT_PAIR"})),n.createElement("div",{className:"remove-liquidity-form__cols"},n.createElement(Xn,{showIcon:!0,root:u,size:"medium",onSelect:R}),n.createElement(Xn,{showIcon:!0,root:d,size:"medium",onSelect:k}))),L&&A&&!x&&n.createElement(Kn.v,{title:y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_WARNING_NO_LP_TITLE"}),text:y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_WARNING_NO_LP_TEXT"},{symbol:A},{ignoreTag:!0})}),L&&u&&d&&!N&&!A&&n.createElement(Kn.v,{title:y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_WARNING_NOT_EXIST_TITLE"}),text:y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_WARNING_NOT_EXIST_TEXT"})}),L&&x&&P&&w&&n.createElement("div",null,n.createElement("div",{className:"remove-liquidity-form__label"},y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_INPUT_AMOUNT"})),n.createElement(Yn._,{maxIsVisible:!0,size:"medium",value:h,onChange:I,onClickMax:function(){T&&g&&I(new(J())(T).shiftedBy(-g).toFixed())},decimals:g,disabled:N||!L,invalid:M}),n.createElement("div",{className:G()("remove-liquidity-form__hint",{"remove-liquidity-form__hint_error":M}),dangerouslySetInnerHTML:{__html:U}})),L&&x&&P&&w&&n.createElement("div",null,n.createElement("div",{className:"remove-liquidity-form__label remove-liquidity-form__label_medium"},y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_RECEIVE"})),n.createElement("div",{className:"remove-liquidity-form__cols"},n.createElement("div",{className:"remove-liquidity-form__receive"},n.createElement(qn,{address:u,size:"xsmall"}),n.createElement("div",{className:"remove-liquidity-form__value"},new(J())(t||"0").isZero()?"0.00":(0,v.aB)(t,0))),n.createElement("div",{className:"remove-liquidity-form__receive"},n.createElement(qn,{address:d,size:"xsmall"}),n.createElement("div",{className:"remove-liquidity-form__value"},new(J())(a||"0").isZero()?"0.00":(0,v.aB)(a,0))))),L&&x&&P&&w&&n.createElement("div",null,n.createElement("div",{className:"remove-liquidity-form__label remove-liquidity-form__label_medium remove-liquidity-form__label_translucent"},y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_POSITION"})),n.createElement("div",{className:"remove-liquidity-form-stats"},n.createElement("div",{className:"remove-liquidity-form-stats__head"},n.createElement("span",null),n.createElement("span",null,y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_NOW"})),n.createElement("span",null,y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_AFTER"}))),n.createElement("div",{className:"remove-liquidity-form-stats__item"},n.createElement("span",null,y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_SHARE"})),n.createElement("span",{className:"remove-liquidity-form-stats__value"},r&&y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_SHARE_VALUE"},{value:r})),n.createElement("span",{className:"remove-liquidity-form-stats__value"},i&&E?y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_SHARE_VALUE"},{value:i}):D)),n.createElement("div",{className:"remove-liquidity-form-stats__item"},n.createElement("span",null,P.symbol),n.createElement("span",{className:"remove-liquidity-form-stats__value"},s&&(0,v.aB)(s,0)),n.createElement("span",{className:"remove-liquidity-form-stats__value"},l&&E?(0,v.aB)(l,0):D)),n.createElement("div",{className:"remove-liquidity-form-stats__item"},n.createElement("span",null,w.symbol),n.createElement("span",{className:"remove-liquidity-form-stats__value"},o&&(0,v.aB)(o,0)),n.createElement("span",{className:"remove-liquidity-form-stats__value"},c&&E?(0,v.aB)(c,0):D)))),L?n.createElement("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:!E||N},N?n.createElement(S.p,{slim:!0}):y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_CONFIRM"})):n.createElement("button",{type:"button",className:"btn btn-primary btn-lg",onClick:b},y.formatMessage({id:"REMOVE_LIQUIDITY_FORM_CONNECT"})))}));function Qn(e){var t=e.amount,a=e.symbol,i=(0,_.Z)();return r.createPortal(n.createElement("div",{className:"popup"},n.createElement("div",{className:"popup-overlay"}),n.createElement("div",{className:"popup__wrap remove-liquidity-process"},n.createElement(S.p,{slim:!0,size:"l"}),n.createElement("h2",{className:"remove-liquidity-process__title"},i.formatMessage({id:"REMOVE_LIQUIDITY_PROCESS_TITLE"})),n.createElement("div",{className:"remove-liquidity-process__text"},i.formatMessage({id:"REMOVE_LIQUIDITY_PROCESS_TEXT"},{amount:(0,v.aB)(t,0),symbol:a})),n.createElement("div",{className:"remove-liquidity-process__hint"},i.formatMessage({id:"REMOVE_LIQUIDITY_PROCESS_HINT"})))),document.body)}var jn=(0,h.Pi)((function(e){var t=e.lpAmount,a=e.lpSymbol,i=e.leftTokenAddress,s=e.rightTokenAddress,o=e.leftAmount,l=e.rightAmount,c=e.transactionHash,u=e.onClose,d=(0,_.Z)(),m=(0,ye.mD)(),h=i&&m.get(i),p=s&&m.get(s);return r.createPortal(n.createElement("div",{className:"popup"},n.createElement("div",{className:"popup-overlay",onClick:u}),n.createElement("div",{className:"popup__wrap remove-liquidity-success"},n.createElement("button",{type:"button",onClick:u,className:"btn btn-icon popup-close"},n.createElement(E.J,{icon:"close"})),n.createElement("div",{className:"remove-liquidity-success__head"},n.createElement(E.J,{icon:"success"}),n.createElement("h2",{className:"remove-liquidity-success__title"},d.formatMessage({id:"REMOVE_LIQUIDITY_SUCCESS_TITLE"}))),t&&n.createElement(n.Fragment,{key:"lp"},n.createElement("div",{className:"remove-liquidity-success__label"},d.formatMessage({id:"REMOVE_LIQUIDITY_SUCCESS_BURNED"},{symbol:a})),n.createElement("div",{className:"remove-liquidity-success__value"},d.formatMessage({id:"REMOVE_LIQUIDITY_SUCCESS_MINUS"},{value:(0,v.aB)(t,0)}))),h&&o&&n.createElement(n.Fragment,{key:"left"},n.createElement("div",{className:"remove-liquidity-success__label"},d.formatMessage({id:"REMOVE_LIQUIDITY_SUCCESS_SENT"},{symbol:h.symbol})),n.createElement("div",{className:"remove-liquidity-success__value"},d.formatMessage({id:"REMOVE_LIQUIDITY_SUCCESS_PLUS"},{value:(0,v.aB)(o,0)}))),p&&l&&n.createElement(n.Fragment,{key:"right"},n.createElement("div",{className:"remove-liquidity-success__label"},d.formatMessage({id:"REMOVE_LIQUIDITY_SUCCESS_SENT"},{symbol:p.symbol})),n.createElement("div",{className:"remove-liquidity-success__value"},d.formatMessage({id:"REMOVE_LIQUIDITY_SUCCESS_PLUS"},{value:(0,v.aB)(l,0)}))),c&&n.createElement("div",{className:"remove-liquidity-success__action"},n.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tonscan.io/transactions/".concat(c),className:"btn btn--empty"},d.formatMessage({id:"REMOVE_LIQUIDITY_SUCCESS_SUBMIT"}))))),document.body)})),Jn=a(56474),$n=a.n(Jn)()({amount:"",loading:!1,processing:!1}),er=new(function(){function e(t,a){(0,we.Z)(this,e),(0,xe.Z)(this,"state",$n),this.wallet=t,this.tokensCache=a,(0,Ue.ky)(this,{},{autoBind:!0})}var t,a,n;return(0,De.Z)(e,[{key:"dispose",value:function(){this.state=$n}},{key:"getData",value:(n=(0,g.Z)(k().mark((function e(t,a){var n,r,i,s,o,l,c,u,d,m,h=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==a){e.next=3;break}return(0,Ue.z)((function(){h.state.data=void 0})),e.abrupt("return");case 3:if((0,Ue.z)((function(){h.state.loading=!0})),e.prev=4,n=this.wallet.address){e.next=8;break}throw new Error("Wallet must be connected");case 8:return e.next=10,q.A$.pairAddress(new xn.Address(t),new xn.Address(a));case 10:return r=e.sent,e.next=13,q.A$.pairLpRoot(r);case 13:return i=e.sent,e.next=16,q.cI.walletAddress({owner:new xn.Address(n),root:i});case 16:return s=e.sent,e.next=19,Dn().all([q.cI.balanceByWalletAddress(s),q.cI.getTokenData(i.toString()),q.A$.pairBalances(r),q.A$.pairTokenRoots(r)]);case 19:o=e.sent,l=(0,Ft.Z)(o,4),c=l[0],u=l[1],d=l[2],m=l[3],this.tokensCache.fetchIfNotExist(t),this.tokensCache.fetchIfNotExist(a),(0,Ue.z)((function(){h.state.data={lpToken:u,pairBalances:d,pairTokens:m,userLpTotalAmount:c,leftTokenAddress:t,rightTokenAddress:a}})),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(4),(0,Ue.z)((function(){h.state.data=void 0})),(0,v.vU)(e.t0);case 34:return e.prev=34,(0,Ue.z)((function(){h.state.loading=!1})),e.finish(34);case 37:case"end":return e.stop()}}),e,this,[[4,30,34,37]])}))),function(e,t){return n.apply(this,arguments)})},{key:"syncData",value:(a=(0,g.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.data){e.next=2;break}throw new Error("Data must be defined in store");case 2:return e.next=4,this.getData(this.state.data.leftTokenAddress,this.state.data.rightTokenAddress);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"withdraw",value:(t=(0,g.Z)(k().mark((function e(){var t,a=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.syncData();case 3:if(this.state.data){e.next=5;break}throw new Error("Data must be defined in state");case 5:if(this.state.data.lpToken){e.next=7;break}throw new Error("Lp token must be defined in data");case 7:if(this.amountShifted&&this.amountIsValid){e.next=9;break}throw new Error("Amount is not valid");case 9:if(this.wallet.address){e.next=11;break}throw new Error("Wallet must be connected");case 11:return(0,Ue.z)((function(){a.state.loading=!0,a.state.processing=!0})),e.next=14,q.Kg.withdrawLiquidity(new xn.Address(this.wallet.address),new xn.Address(this.state.data.leftTokenAddress),new xn.Address(this.state.data.rightTokenAddress),new xn.Address(this.state.data.lpToken.root),this.amountShifted);case 14:return t=e.sent,(0,Ue.z)((function(){a.state.transactionHash=t.hash,a.state.receivedLeft=a.willReceiveLeft,a.state.receivedRight=a.willReceiveRight})),e.next=18,this.syncData();case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),(0,v.vU)(e.t0);case 23:return e.prev=23,(0,Ue.z)((function(){a.state.loading=!1,a.state.processing=!1})),e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[0,20,23,26]])}))),function(){return t.apply(this,arguments)})},{key:"reset",value:function(){this.state.amount="",this.state.receivedLeft=void 0,this.state.receivedRight=void 0,this.state.transactionHash=void 0}},{key:"setAmount",value:function(e){this.state.amount=e}},{key:"loading",get:function(){return this.state.loading}},{key:"processing",get:function(){return this.state.processing}},{key:"amount",get:function(){return this.state.amount}},{key:"amountIsPositiveNum",get:function(){if(void 0===this.lpTokenDecimals)return!1;var e=new(J())(this.amount).shiftedBy(this.lpTokenDecimals);return!(e.isNaN()||!e.isFinite()||!e.isGreaterThanOrEqualTo(0))}},{key:"amountIsLessOrEqualBalance",get:function(){return!(!this.userLpTotalAmount||!this.amountIsPositiveNum||void 0===this.lpTokenDecimals)&&new(J())(this.amount).shiftedBy(this.lpTokenDecimals).minus(this.userLpTotalAmount).isLessThanOrEqualTo(0)}},{key:"amountIsValid",get:function(){var e=new(J())(this.amount).isZero();return!(!this.amountIsPositiveNum||!this.amountIsLessOrEqualBalance||e)}},{key:"userLpTotalAmount",get:function(){var e;return null===(e=this.state.data)||void 0===e?void 0:e.userLpTotalAmount}},{key:"lpTokenDecimals",get:function(){var e,t;return null===(e=this.state.data)||void 0===e||null===(t=e.lpToken)||void 0===t?void 0:t.decimals}},{key:"lpTokenSymbol",get:function(){var e,t;return null===(e=this.state.data)||void 0===e||null===(t=e.lpToken)||void 0===t?void 0:t.symbol}},{key:"leftToken",get:function(){if(this.state.data)return this.tokensCache.get(this.state.data.leftTokenAddress)}},{key:"rightToken",get:function(){if(this.state.data)return this.tokensCache.get(this.state.data.rightTokenAddress)}},{key:"isInverted",get:function(){if(this.state.data)return this.state.data.pairTokens.left.toString()!==this.state.data.leftTokenAddress}},{key:"pairAmountLeft",get:function(){var e;return null===(e=this.state.data)||void 0===e?void 0:e.pairBalances[this.isInverted?"right":"left"]}},{key:"pairAmountRight",get:function(){var e;return null===(e=this.state.data)||void 0===e?void 0:e.pairBalances[this.isInverted?"left":"right"]}},{key:"pairAmountLp",get:function(){var e;return null===(e=this.state.data)||void 0===e?void 0:e.pairBalances.lp}},{key:"amountShifted",get:function(){if(this.state.amount&&void 0!==this.lpTokenDecimals){var e=new(J())(this.state.amount).shiftedBy(this.lpTokenDecimals);return e.isNaN()?"0":e.toFixed()}}},{key:"willReceiveLeft",get:function(){if(this.amountShifted&&this.pairAmountLeft&&this.pairAmountLp&&this.leftToken&&this.amountIsValid)return(0,v.Zc)(this.amountShifted,this.pairAmountLeft,this.pairAmountLp,this.leftToken.decimals)}},{key:"willReceiveRight",get:function(){if(this.amountShifted&&this.pairAmountRight&&this.pairAmountLp&&this.rightToken&&this.amountIsValid)return(0,v.Zc)(this.amountShifted,this.pairAmountRight,this.pairAmountLp,this.rightToken.decimals)}},{key:"receivedLeft",get:function(){return this.state.receivedLeft}},{key:"receivedRight",get:function(){return this.state.receivedRight}},{key:"currentShare",get:function(){if(this.pairAmountLp&&!new(J())(this.pairAmountLp).isZero()&&this.userLpTotalAmount)return new(J())(this.userLpTotalAmount).multipliedBy(100).div(this.pairAmountLp).decimalPlaces(8,J().ROUND_DOWN).toFixed()}},{key:"currentLeftAmount",get:function(){if(this.pairAmountLp&&this.userLpTotalAmount&&this.pairAmountLeft&&this.leftToken)return(0,v.Zc)(this.userLpTotalAmount,this.pairAmountLeft,this.pairAmountLp,this.leftToken.decimals)}},{key:"currentRightAmount",get:function(){if(this.pairAmountLp&&this.userLpTotalAmount&&this.pairAmountRight&&this.rightToken)return(0,v.Zc)(this.userLpTotalAmount,this.pairAmountRight,this.pairAmountLp,this.rightToken.decimals)}},{key:"resultLpAmount",get:function(){if(this.userLpTotalAmount&&this.amountShifted)return new(J())(this.userLpTotalAmount).minus(this.amountShifted).toFixed()}},{key:"resultShare",get:function(){if(this.resultLpAmount&&this.pairAmountLp)return new(J())(this.resultLpAmount).multipliedBy(100).div(this.pairAmountLp).decimalPlaces(8,J().ROUND_DOWN).toFixed()}},{key:"resultLeftAmount",get:function(){if(this.pairAmountLp&&this.resultLpAmount&&this.pairAmountLeft&&this.leftToken)return(0,v.Zc)(this.resultLpAmount,this.pairAmountLeft,this.pairAmountLp,this.leftToken.decimals)}},{key:"resultRightAmount",get:function(){if(this.pairAmountLp&&this.resultLpAmount&&this.pairAmountRight&&this.rightToken)return(0,v.Zc)(this.resultLpAmount,this.pairAmountRight,this.pairAmountLp,this.rightToken.decimals)}},{key:"transactionHash",get:function(){return this.state.transactionHash}}]),e}())((0,f.O)(),(0,ye.mD)());function tr(){return er}var ar=(0,h.Pi)((function(){var e=(0,f.O)(),t=(0,o.k6)(),a=tr(),r=(0,o.UO)(),i=r.leftTokenRoot,s=r.rightTokenRoot;return n.useEffect((function(){a.dispose()}),[]),n.useEffect((function(){e.address&&i&&s&&a.getData(i,s)}),[e.address,i,s]),n.createElement("div",{className:"container container--small"},n.createElement(pn,null,n.createElement(zn,{receiveLeft:a.willReceiveLeft,receiveRight:a.willReceiveRight,currentShare:a.currentShare,resultShare:a.resultShare,currentLeftAmount:a.currentLeftAmount,currentRightAmount:a.currentRightAmount,resultLeftAmount:a.resultLeftAmount,resultRightAmount:a.resultRightAmount,leftTokenAddress:i,rightTokenAddress:s,amount:a.amount,amountIsValid:a.amountIsValid,amountIsPositiveNum:a.amountIsPositiveNum,amountIsLessOrEqualBalance:a.amountIsLessOrEqualBalance,userLpTotalAmount:a.userLpTotalAmount,lpDecimals:a.lpTokenDecimals,lpTokenSymbol:a.lpTokenSymbol,loading:a.loading,onChangeLeftToken:function(e){t.push(Nn.VP.poolRemoveLiquidity.makeUrl({leftTokenRoot:e,rightTokenRoot:s}))},onChangeRightToken:function(e){t.push(Nn.VP.poolRemoveLiquidity.makeUrl({leftTokenRoot:i,rightTokenRoot:e}))},onChangeAmount:a.setAmount,onSubmit:a.withdraw,walletConnected:e.isConnected,onClickConnect:function(){e.connect()}}),a.processing&&n.createElement(Qn,{amount:a.amount,symbol:a.lpTokenSymbol}),a.transactionHash&&n.createElement(jn,{leftAmount:a.receivedLeft,rightAmount:a.receivedRight,lpAmount:a.amount,lpSymbol:a.lpTokenSymbol,leftTokenAddress:i,rightTokenAddress:s,transactionHash:a.transactionHash,onClose:a.reset})))}));function nr(){return n.createElement(ar,null)}function rr(){return n.createElement("div",{className:"mb-5"},n.createElement("div",{className:"row"},n.createElement("img",{style:{width:"340px"},src:"/favicon.svg"})),n.createElement("div",{className:"row"},n.createElement("div",{className:"col"},n.createElement("div",{className:"text-center"},n.createElement("h1",{style:{fontSize:"39px"}},"A gift with a story")))),n.createElement("div",{className:"row"},n.createElement("div",{style:{width:"690px"},className:"col"},n.createElement("div",{className:"text-center"},n.createElement("h4",null,"DemeterGift uses the power of the Metis Layer 2 infrastructure to create the most easy, transparent, fun and digital charity auction on the web!")))),n.createElement("div",{className:"row"},n.createElement("div",{style:{width:"250px"},className:"col"},n.createElement("div",{style:{background:"#0BD6BE",textAlign:"center",cursor:"pointer",height:"73px",padding:"36px 0",width:"100%",margin:"0"},className:"card card-body"},n.createElement(s.OL,{to:"/donation"},n.createElement("div",{className:"card-body"},"Let’s donate!"))))),n.createElement("div",{className:"Event row"},n.createElement("img",{style:{padding:"0"},src:"https://www.metisgift.com/Event/Panel.svg"}),n.createElement("img",{style:{position:"absolute",bottom:"0"},src:"https://www.metisgift.com/Event/Group.svg"}),n.createElement("img",{style:{padding:"0px",position:"absolute",width:"56%",marginTop:"10%"},src:"https://www.metisgift.com/Event/CharityText.svg"}),n.createElement("div",{className:"card-body EventBTN"},n.createElement(s.OL,{to:"/CreateEvents"},n.createElement("div",null,"Start event")))))}var ir=a(34051),sr=a(31555),or=a(31945),lr=a(17833);function cr(e){var t=e.defaultValue,a=e.type,r=e.placeholder,i=e.id,s=(0,n.useState)(t||""),o=(0,Ft.Z)(s,2),l=o[0],c=o[1];return[l,n.createElement(lr.Z.Control,{value:l||"",placeholder:r,onChange:function(e){return c(e.target.value)},type:a,id:i}),c]}var ur=a(39969),dr=a.n(ur);function mr(e){return hr.apply(this,arguments)}function hr(){return hr=(0,g.Z)(k().mark((function e(t){var n,r,i,s,o,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a(83300),r="https://cors-anyhere.herokuapp.com/https://demetergift-database.vercel.app/api/events",i={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*"}},o=!0;case 4:if(!o){e.next=16;break}return e.prev=5,e.next=8,n(r,i).then((function(e){return e.json()})).then((function(e){return s=e}));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(5),e.abrupt("continue",4);case 13:return e.abrupt("break",16);case 16:l=0;case 17:if(!(l<s.length)){e.next=23;break}if(Number(s[l].id)!=t){e.next=20;break}return e.abrupt("return",s[l]);case 20:l++,e.next=17;break;case 23:case"end":return e.stop()}}),e,null,[[5,10]])}))),hr.apply(this,arguments)}function _r(e,t,a,n,r){return Er.apply(this,arguments)}function Er(){return Er=(0,g.Z)(k().mark((function e(t,n,r,i,s){var o,l,c,u,d,m,h,_,E;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=a(83300),m="https://cors-anyhere.herokuapp.com/https://demetergift-database.vercel.app/api/create",h={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*"},body:qe()(o=qe()(l=qe()(c=qe()(u='{"title":"'.concat(t,'","description":"')).call(u,n,'","endDate":"')).call(c,r,'","Goal":')).call(l,i,',"logolink":"')).call(o,s,'"}')},E=!0;case 4:if(!E){e.next=16;break}return e.prev=5,e.next=8,d(m,h).then((function(e){return e.json()})).then((function(e){return _=e}));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(5),e.abrupt("continue",4);case 13:return e.abrupt("break",16);case 16:return e.abrupt("return",_.id);case 17:case"end":return e.stop()}}),e,null,[[5,10]])}))),Er.apply(this,arguments)}function pr(e,t){var a=document.createElement("a");a.download=t,a.href=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}function fr(e){return vr.apply(this,arguments)}function vr(){return(vr=(0,g.Z)(k().mark((function e(t){var a,n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a='<html><head></head><body><iframe src="'.concat(t,'" style="width: 100%;height: 100%;" /></body></html>'),n=new Blob([a]),pr(dr().createObjectURL(n),"Generated Plugin.html"),console.log(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tr(){var e=function(){var e=(0,g.Z)(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_r(r,l,d,E,T);case 3:t=e.sent,document.getElementById("plugin").checked&&fr("http://localhost:3000/donation/auction/".concat(t)),window.location.href="/donation",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=cr({defaultValue:"",type:"text",placeholder:"Event Title",id:""}),a=(0,Ft.Z)(t,2),r=a[0],i=a[1],s=cr({defaultValue:"",type:"text",placeholder:"Event Description",id:""}),o=(0,Ft.Z)(s,2),l=o[0],c=(o[1],cr({defaultValue:"",type:"datetime-local",placeholder:"Event End Date ",id:"enddate"})),u=(0,Ft.Z)(c,2),d=u[0],m=u[1],h=cr({defaultValue:"",type:"text",placeholder:"Event Goal in EVER",id:"goal"}),_=(0,Ft.Z)(h,2),E=_[0],p=_[1],f=cr({defaultValue:"",type:"text",placeholder:"Event Logo Link",id:"logo"}),v=(0,Ft.Z)(f,2),T=v[0],A=v[1],N=cr({defaultValue:"",type:"checkbox",placeholder:"Generate plugin?",id:"plugin"}),L=(0,Ft.Z)(N,2);return L[0],L[1],n.createElement(n.Fragment,null,n.createElement(n.Fragment,null,n.createElement(ir.Z,null,n.createElement(sr.Z,null,n.createElement("div",{style:{width:"500px",background:"transparent",padding:"19px",borderRadius:"4px",height:"100%",border:"white solid"}},n.createElement("div",{style:{margin:"0px 0px 30px 0px"}},n.createElement("h1",null,"Create Event")),n.createElement("div",{style:{margin:"18px 0"}},n.createElement("h4",null,"Event Title"),i),n.createElement("div",{style:{margin:"18px 0"}},n.createElement("h4",null,"Event End Date"),m),n.createElement("div",{style:{margin:"18px 0"}},n.createElement("h4",null,"Event Goal"),p),n.createElement("div",{style:{margin:"18px 0"}},n.createElement("h4",null,"Event Logo Link"),A),n.createElement("div",{style:{margin:"18px 0px",display:"flex",alignContent:"center",flexDirection:"row",alignItems:"center",gap:"5px"}},n.createElement("input",{type:"checkbox",id:"plugin"}),n.createElement("h4",null,"Generate Plugin?")),n.createElement(or.Z,{style:{margin:"17px 0 0px 0px",width:"100%"},onClick:e},"Create Event"))))))}var gr=a(31581),Ar=a.n(gr),Nr=a(73586);function Lr(e){var t=e.show,r=e.onHide,i=e.contract,s=(e.senderAddress,e.type),o=e.EventID,l=e.SelectedTitle;e.enddate,console.log(i);var c=cr({type:"text",placeholder:"Enter name"}),u=(0,Ft.Z)(c,2),d=u[0],m=u[1],h=cr({as:"textarea",placeholder:"Enter description"}),_=(0,Ft.Z)(h,2),E=_[0],p=_[1],f=cr({type:"text",placeholder:"Enter image url"}),v=(0,Ft.Z)(f,2),T=v[0],A=v[1],N=cr({type:"text",placeholder:"Enter Price"}),L=(0,Ft.Z)(N,2),b=L[0],R=L[1],I=cr({type:"text",placeholder:"Enter NFT address"}),O=(0,Ft.Z)(I,2),S=(O[0],O[1]),y=cr({type:"text",placeholder:"Enter Cryptopunk address"}),C=(0,Ft.Z)(y,2),P=(C[0],C[1]);function w(){return(w=(0,g.Z)(k().mark((function e(){var t,n,r,i,l,c,u,m,h;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T,e.prev=3,m=a(83300),h={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*"},body:qe()(n=qe()(r=qe()(i=qe()(l=qe()(c=qe()(u='{"eventid":'.concat(o,',"name":"')).call(u,d,'","description":"')).call(c,E,'","Bidprice":')).call(l,b,',"price":')).call(i,b,',"type":"')).call(r,s,'","image":"')).call(n,t,'"}')},e.next=9,m("http://localhost:8080/https://demetergift-database.vercel.app/api/createtoken",h);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:window.location.href="/donation/auction/".concat(o),window.document.getElementsByClassName("btn-close")[0].click();case 16:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return n.createElement(Nr.Z,{show:t,onHide:r,"aria-labelledby":"contained-modal-title-vcenter",size:"lg",centered:!0},n.createElement(Nr.Z.Header,{closeButton:!0},n.createElement(Nr.Z.Title,{id:"contained-modal-title-vcenter"},"Donate ",s," - ",l)),n.createElement(Nr.Z.Body,{className:"show-grid"},n.createElement(lr.Z,null,n.createElement(lr.Z.Group,{className:"mb-3",controlId:"formGroupName"},n.createElement(lr.Z.Label,null,"Name"),m),n.createElement(lr.Z.Group,{className:"mb-3",controlId:"formGroupDescription"},n.createElement(lr.Z.Label,null,"Description"),p),n.createElement(lr.Z.Group,{className:"mb-3",controlId:"formGroupName"},n.createElement(lr.Z.Label,null,"Opening price in EVER"),R),n.createElement(lr.Z.Group,{className:"mb-3",controlId:"formGroupImageUrl"},n.createElement(lr.Z.Label,null,"Enter image URL"),A),"Cryptopunk"==s?n.createElement(lr.Z.Group,{className:"mb-3",controlId:"formGroupImageUrl"},n.createElement(lr.Z.Label,null,"Cryptopunk address"),P):n.createElement(lr.Z.Group,{className:"mb-3",controlId:"formGroupImageUrl"},n.createElement(lr.Z.Label,null,"NFT address"),S),n.createElement("div",{className:"d-grid"},n.createElement(or.Z,{variant:"primary",onClick:function(){return w.apply(this,arguments)}},"Donate ",s)))))}function br(){var e=(0,n.useState)(!1),t=(0,Ft.Z)(e,2),r=t[0],i=t[1],o=(0,n.useState)([]),l=(0,Ft.Z)(o,2),c=l[0],u=l[1],d=(0,n.useState)(""),m=(0,Ft.Z)(d,2),h=m[0],_=m[1],E=(0,n.useState)(""),p=(0,Ft.Z)(E,2),f=p[0],v=p[1],T=(0,n.useState)(""),A=(0,Ft.Z)(T,2),N=A[0],L=A[1],R=(0,n.useState)(""),I=(0,Ft.Z)(R,2),O=I[0],S=I[1];(0,n.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[]),Ar()((function(){!function(){try{for(var e=document.getElementsByName("DateCount"),t=0;t<e.length;t++){var a=e[t].getAttribute("date");e[t].innerHTML=D(a)}}catch(e){}}()}),1e3);var y=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});function C(){return(C=(0,g.Z)(k().mark((function e(){var t,n,r,i,s,o,l,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a(83300),n={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*"}},e.next=6,t("https://cors-anyhere.herokuapp.com/https://demetergift-database.vercel.app/api/events",n).then((function(e){return e.json()})).then((function(e){return r=e})).catch((function(e){return console.error("error:"+e)}));case 6:for(console.log(r),i=r.length,s=[],o=0;o<Number(i);o++){if(l=r[o],console.log(l),l){c=0;try{c=Number(.371936*l.Goal)}catch(e){}s.push({eventId:l.id,Title:l.title,Date:l.endDate,Goalusd:y.format(c),Goal:l.Goal,logo:l.logolink})}console.log(l)}u(s),document.getElementById("Loading").style="display:none",console.log(s),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function P(e){_(e.target.getAttribute("eventid")),L(e.target.getAttribute("eventtitle")),S(e.target.getAttribute("date")),v("NFT"),i(!0)}function w(e){_(e.target.getAttribute("eventid")),L(e.target.getAttribute("eventtitle")),S(e.target.getAttribute("date")),v("Cryptopunk"),i(!0)}function D(e){var t=new Date(e).getTime()-(new Date).getTime(),a=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),r=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);return a.toString()+" Days "+n.toString()+" hours "+r.toString()+" minutes "+i.toString()+" seconds"}return n.createElement(n.Fragment,null,n.createElement("div",{className:"row DonationBar"},n.createElement(s.OL,{to:"?q=All"},n.createElement("a",{className:"DonationBarLink active"},"All")),n.createElement(s.OL,{to:"?q=Today"},n.createElement("a",{className:"DonationBarLink"},"Today")),n.createElement(s.OL,{to:"?q=This Month"},n.createElement("a",{className:"DonationBarLink"},"This Month"))),n.createElement("div",{id:"Loading",className:"LoadingArea"},n.createElement("h1",null,"Loading...")),b()(c).call(c,(function(e){return n.createElement("div",{key:e.eventId,className:"row",style:{height:"397px",margin:"28px",display:"flex",background:"white",color:"black",overflow:"hidden",padding:"14px 7px",alignItems:"flex-start",alignContent:"flex-start"}},n.createElement("div",{style:{display:"flex",width:"100%",padding:"18px"}},n.createElement("h4",{style:{fontSize:"2.5rem",float:"left"},name:"DateCount",date:e.Date},D(e.Date))),n.createElement("div",{style:{display:"flex",width:"100%",padding:"38px 18px"}},n.createElement("img",{src:e.logo,style:{height:"238px",width:"284px"}}),n.createElement("div",{style:{marginLeft:"82px",display:"flex",flexDirection:"column",width:"100%",rowGap:"10px",alignContent:"stretch"}},n.createElement("h4",{style:{fontSize:"2.5rem"}},e.Title),n.createElement("div",{style:{display:"flex",whiteSpace:"pre-wrap"}},n.createElement("h4",{style:{fontSize:"2.5rem"}},"Goal:  "),n.createElement("h4",{style:{fontSize:"2.5rem"}},"$",e.Goalusd," (",e.Goal," EVER)")),n.createElement("div",{style:{display:"flex",height:"100%",float:"right",marginLeft:"0px",flexDirection:"column",justifyContent:"flex-end"}},n.createElement("div",{style:{display:"flex",gap:"14px"}},n.createElement("div",{style:{color:"white",overflow:"hidden",background:"#0BD6BE",textAlign:"center",cursor:"pointer",height:"72px",float:"right",padding:"0px"},eventid:e.eventId,date:e.Date,eventtitle:e.Title,className:"card",onClick:P},n.createElement("div",{eventid:e.eventId,date:e.Date,eventtitle:e.Title,className:"card-body",style:{height:"100%",paddingTop:"13%"}},"Donate NFT")),n.createElement("div",{style:{color:"white",overflow:"hidden",background:"#0BD6BE",textAlign:"center",cursor:"pointer",float:"right",padding:"0"},eventid:e.eventId,onClick:w,date:e.Date,eventtitle:e.Title,className:"card"},n.createElement("div",{eventid:e.eventId,date:e.Date,eventtitle:e.Title,className:"card-body",style:{height:"100%",paddingTop:"13%"}},"Donate Cryptopunk")),n.createElement("div",{style:{color:"white",overflow:"hidden",background:"#0BD6BE",textAlign:"center",cursor:"pointer",float:"right",padding:"0"},className:"card"},n.createElement(s.OL,{to:"/donation/auction/".concat(e.eventId)},n.createElement("div",{className:"card-body",style:{height:"100%",paddingTop:"13%"}},"Go to auction"))))))))})),n.createElement(Lr,{show:r,onHide:function(){i(!1)},EventID:h,type:f,SelectedTitle:N,enddate:O}))}function Rr(e){return kr.apply(this,arguments)}function kr(){return kr=(0,g.Z)(k().mark((function e(t){var n,r,i,s,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a(83300),r="https://cors-anyhere.herokuapp.com/https://demetergift-database.vercel.app/api/tokensbyevent",i={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*"}},o=!0;case 4:if(!o){e.next=16;break}return e.prev=5,e.next=8,n(r,i).then((function(e){return e.json()})).then((function(e){return s=e}));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(5),e.abrupt("continue",4);case 13:return e.abrupt("break",16);case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,null,[[5,10]])}))),kr.apply(this,arguments)}function Ir(e){var t=e.show,a=e.onHide,r=(e.contract,e.senderAddress,e.tokenId,e.eventId,e.type),i=e.Highestbid,s=(0,n.useState)(""),o=(0,Ft.Z)(s,2),l=o[0],c=o[1],u=cr({type:"text",placeholder:"Amount"}),d=(0,Ft.Z)(u,2),m=d[0],h=d[1],_=(0,f.O)();function E(){document.getElementById("alert").style="contents",c("Amount cannot be under ".concat(i," EVER"))}function p(){return v.apply(this,arguments)}function v(){return(v=(0,g.Z)(k().mark((function e(){var t,a,n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Number(m)<Number(i))){e.next=3;break}return E(),e.abrupt("return");case 3:if((a=(0,H.l)()).changeData("decimals",1e9*Number(m)),n=document.getElementById(""),console.log(a.decimals),_.account){e.next=11;break}return n.innerText="Connect to wallet",e.next=11,_.connect();case 11:if(null==a.decimals){e.next=14;break}return e.next=14,a.createToken();case 14:console.log(qe()(t=" given ".concat(m," highest => ")).call(t,i)),console.log(result),window.document.getElementsByClassName("btn-close")[0].click();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,me.g)(),n.createElement(Nr.Z,{show:t,onHide:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.createElement(Nr.Z.Header,{closeButton:!0},"Cryptopunk"==r?n.createElement(Nr.Z.Title,{id:"contained-modal-title-vcenter"},"Bid Cryptopunk"):n.createElement(Nr.Z.Title,{id:"contained-modal-title-vcenter"},"Bid NFT")),n.createElement(Nr.Z.Body,{className:"show-grid"},n.createElement(lr.Z,null,n.createElement("div",{id:"alert",style:{display:"none"},className:"alert alert-danger",role:"alert"},l),n.createElement(lr.Z.Group,{className:"mb-3",controlId:"formGroupName"},n.createElement(lr.Z.Label,null,"Bid Amount in EVER"),h),n.createElement("div",{className:"d-grid"},"Cryptopunk"==r?n.createElement(or.Z,{variant:"primary",onClick:p},"Bid Cryptopunk"):n.createElement(or.Z,{variant:"primary",onClick:p},"Bid NFT")))))}function Or(e){var t=e.show,a=e.onHide,r=e.id,i=e.title,s=(0,n.useState)([]),o=(0,Ft.Z)(s,2),l=o[0],c=o[1];function u(e){return e<10?"0".concat(e):e}function d(e){return e<12?"AM":"PM"}var m=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});function h(){return _.apply(this,arguments)}function _(){return(_=(0,g.Z)(k().mark((function e(){var t,a,n,i,s,o,l,h,_,E,p,f,v,T,g,A,N;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=43;break}return e.next=4,contract.tokenURI(r);case 4:return t=e.sent,console.log(t),a=[],e.next=9,contract.getBidsSearchToken(r);case 9:n=e.sent,console.log(n),i=0;case 12:if(!(i<Number(10))){e.next=39;break}return e.next=15,n[i];case 15:return s=e.sent,o={},e.prev=17,e.next=20,JSON.parse(s);case 20:o=e.sent,e.next=25;break;case 23:e.prev=23,e.t0=e.catch(17);case 25:if(!o.title){e.next=36;break}v=0;try{v=m.format(Number(.371936*o.properties.bid.description))}catch(e){}return e.t1=Number,e.next=31,contract.getBidIdByUri(s);case 31:e.t2=e.sent,T=(0,e.t1)(e.t2),g=new Date(o.properties.time.description),A=qe()(l=qe()(h=qe()(_=qe()(E=qe()(p=qe()(f="".concat(u(g.getDate()),"/")).call(f,u(g.getMonth()+1),"/")).call(p,u(g.getFullYear())," ")).call(E,u(g.getHours()),":")).call(_,u(g.getMinutes()),":")).call(h,u(g.getSeconds())," ")).call(l,d(g.getHours())),a.push({Id:T,name:o.properties.username.description,time:A,bidprice:o.properties.bid.description,bidpriceusd:v});case 36:i++,e.next=12;break;case 39:console.log(a),c(a),document.getElementById("Loading")&&(document.getElementById("Loading").style="display:none"),document.getElementById("Loadingtable")&&((N=document.getElementById("Loadingtable")).style="display:block",N.setAttribute("id",""));case 43:e.next=48;break;case 45:e.prev=45,e.t3=e.catch(0),console.error(e.t3);case 48:case"end":return e.stop()}}),e,null,[[0,45],[17,23]])})))).apply(this,arguments)}return(0,n.useEffect)((function(){h()}),[]),n.createElement(Nr.Z,{show:t,onHide:a,onShow:h,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",centered:!0},n.createElement(Nr.Z.Header,{closeButton:!0},n.createElement(Nr.Z.Title,{id:"contained-modal-title-vcenter"},"View Bid - ",i)),n.createElement(Nr.Z.Body,{className:"show-grid"},n.createElement("div",{id:"Loadingtable",style:{display:"none"},className:""},n.createElement("div",{className:"tableHeader"},n.createElement("div",{className:"tableHeaderContainer"},n.createElement("div",{className:"tableheaderDateContainer"},n.createElement("h4",{className:"header"},"Date")),n.createElement("div",{className:"tableheaderUserContainer"},n.createElement("h4",{className:"header"},"User Name")),n.createElement("div",{className:"tableheaderBidContainer"},n.createElement("h4",{className:"header"},"Bid"))))," ",b()(l).call(l,(function(e){return n.createElement("div",{key:e.Id,className:"tableFullRowContainer"},n.createElement("div",{className:"tableRowContainer"},n.createElement("div",{className:"tableRowCellContainer"},n.createElement("div",{className:"tableRowCellDateContainer"},n.createElement("h5",{className:"cell"},e.time)),n.createElement("div",{className:"tableRowCellUserContainer"},n.createElement("h5",{className:"cell"},e.name)),n.createElement("div",{className:"tableRowCellBidContainer"},n.createElement("h5",{className:"cell"},"$",e.bidpriceusd," (",e.bidprice," EVER)")))))})))))}function Sr(){var e=(0,o.UO)().id,t=(0,n.useState)(!1),a=(0,Ft.Z)(t,2),r=a[0],i=a[1],s=(0,n.useState)(-1),l=(0,Ft.Z)(s,2),c=l[0],u=l[1],d=(0,n.useState)([]),m=(0,Ft.Z)(d,2),h=m[0],_=m[1],E=(0,n.useState)(""),p=(0,Ft.Z)(E,2),f=p[0],v=p[1],T=(0,n.useState)(""),A=(0,Ft.Z)(T,2),N=A[0],L=A[1],R=(0,n.useState)(""),I=(0,Ft.Z)(R,2),O=I[0],S=I[1],y=(0,n.useState)(""),C=(0,Ft.Z)(y,2),P=C[0],w=C[1],D=(0,n.useState)(""),x=(0,Ft.Z)(D,2),M=x[0],B=x[1],U=(0,n.useState)(""),F=(0,Ft.Z)(U,2),G=F[0],Z=F[1],W=(0,n.useState)(""),V=(0,Ft.Z)(W,2),H=V[0],K=V[1],Y=(0,n.useState)(""),X=(0,Ft.Z)(Y,2),q=X[0],z=X[1],Q=(0,n.useState)(""),j=(0,Ft.Z)(Q,2),J=j[0],$=j[1],ee=(0,n.useState)(""),te=(0,Ft.Z)(ee,2),ae=te[0],ne=te[1],re=(0,n.useState)(""),ie=(0,Ft.Z)(re,2),se=ie[0],oe=ie[1],le=(0,n.useState)(""),ce=(0,Ft.Z)(le,2),ue=(ce[0],ce[1]),de=(0,n.useState)(!1),me=(0,Ft.Z)(de,2),he=me[0],_e=me[1],Ee=(0,n.useState)(!1),pe=(0,Ft.Z)(Ee,2),fe=pe[0],ve=pe[1],Te=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});function ge(e){var t=new Date(e).getTime()-(new Date).getTime(),a=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),r=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);return a.toString()+" Days "+n.toString()+" hours "+r.toString()+" minutes "+i.toString()+" seconds"}function Ae(e){var t=new Date(e).getTime()-(new Date).getTime(),a=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),r=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);return a.toString()+"d "+n.toString()+"h "+r.toString()+"m "+i.toString()+"s"}function Ne(){return Le.apply(this,arguments)}function Le(){return(Le=(0,g.Z)(k().mark((function t(){var a,n,r,i,s,o;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=38;break}case 1:return t.prev=2,u(e),t.next=6,mr(e);case 6:return a=t.sent,n=[],t.next=10,Rr(e);case 10:r=t.sent,i=0;case 12:if(!(i<r.length)){t.next=20;break}return t.next=15,r[i];case 15:if((s=t.sent).name){o=0;try{o=Te.format(Number(.371936*s.Bidprice))}catch(e){}n.push({Id:s.id,name:s.name,description:s.description,Bidprice:o,price:Number(s.price),type:s.type,image:s.image})}case 17:i++,t.next=12;break;case 20:return _(n),document.getElementById("Loading")&&(document.getElementById("Loading").style="display:none"),ue(a),v(a.title),L(Te.format(Number(.371936*a.Goal))),S(Number(a.Goal)),w(ge(a.endDate)),B(a.endDate),Z(Ae(a.endDate)),K(a.logolink),t.abrupt("break",38);case 33:return t.prev=33,t.t0=t.catch(2),t.abrupt("continue",1);case 36:t.next=1;break;case 38:case"end":return t.stop()}}),t,null,[[2,33]])})))).apply(this,arguments)}function be(e){z(e.target.getAttribute("tokenid")),$(e.target.getAttribute("title")),ve(!0)}function Re(e){z(e.target.getAttribute("tokenid")),oe(e.target.getAttribute("highestbid")),console.log(se),ne("NFT"),_e(!0)}function ke(e){z(e.target.getAttribute("tokenid")),ne("Cryptopunk"),oe(e.target.getAttribute("highestbid")),console.log(se),_e(!0)}function Ie(e){ne("NFT"),i(!0)}function Oe(e){ne("Cryptopunk"),i(!0)}return(0,n.useEffect)((function(){Ne()}),[]),Ar()((function(){!function(){try{for(var e=document.getElementsByName("dateleft"),t=0;t<e.length;t++){var a=e[t].getAttribute("date");e[t].innerHTML=ge(a)}e=document.getElementsByName("date");for(var n=0;n<e.length;n++)a=e[n].getAttribute("date"),e[n].innerHTML=Ae(a)}catch(e){}}()}),1e3),n.createElement(n.Fragment,null,n.createElement("div",{className:"row EventContainer"},n.createElement("div",{style:{display:"flex",width:"100%",position:"relative"}},n.createElement("img",{src:H,className:"AuctionImage"}),n.createElement("div",{className:"DetialsContainer",style:{rowGap:"16px",paddingTop:"70px"}},n.createElement("h4",{style:{fontSize:"2.5rem"}},f),n.createElement("div",{className:"TextContainer"},n.createElement("h4",{style:{fontSize:"2.5rem"}},"Goal: "),n.createElement("h4",{style:{fontSize:"2.5rem"}},"$ ",N," (",O," EVER)")),n.createElement("div",{className:"TextContainer"},n.createElement("h4",{style:{fontSize:"2.5rem"},name:"dateleft",date:M},P))),n.createElement("div",{style:{display:"flex",gap:"14px",position:"absolute",right:"25px"}},n.createElement("div",{onClick:Ie,className:"card",style:{color:"white",overflow:"hidden",background:"#0BD6BE",textAlign:"center",width:"172px",cursor:"pointer",height:"48px",margin:"0",padding:"0px"}},n.createElement("div",{onClick:Ie,className:"card-body",style:{height:"100%",paddingTop:"13%",fontSize:"21px"}},"Donate NFT")),n.createElement("div",{className:"card",onClick:Oe,style:{color:"white",overflow:"hidden",background:"#0BD6BE",textAlign:"center",cursor:"pointer",float:"right",width:"202px",height:"48px",padding:"0px"}},n.createElement("div",{onClick:Oe,className:"card-body",style:{height:"100%",paddingTop:"21px",fontSize:"21px"}},"Donate Cryptopunk"))))),n.createElement("div",{id:"Loading",className:"LoadingArea"},n.createElement("h1",null,"Loading...")),b()(h).call(h,(function(e){return n.createElement("div",{key:e.Id,className:"row ElementsContainer bgWhite"},n.createElement("div",{style:{width:"100%",display:"flex"}},"Cryptopunk"==e.type?n.createElement("img",{src:e.image,className:"AuctionBidImage pixel"}):n.createElement("img",{src:e.image,className:"AuctionBidImage"}),n.createElement("div",{style:{width:"100%"}},n.createElement("div",{className:"DetialsContainer",style:{rowGap:"5px"}},n.createElement("h1",null,e.name),n.createElement("h4",{style:{color:"rgb(139, 139, 139)"}},"Type: ",e.type),n.createElement("div",{className:"TextContainer"},n.createElement("h4",{style:{color:"#8B8B8B"}},e.description))),n.createElement("div",{className:"ElementBottomContainer"},n.createElement("div",{style:{width:"116px"}},n.createElement("h3",{className:"smallgrey"},"Current bid"),n.createElement("h4",{className:"bidprice"},"$ ",e.Bidprice," (",e.price," EVER)"),n.createElement("h7",{name:"date",date:M,className:"smallgrey"},G)),n.createElement("div",{className:"BidAllcontainer"},n.createElement("div",{className:"Bidsbutton"},n.createElement("div",{tokenid:e.Id,title:e.name,onClick:be,className:"Bidcontainer col"},n.createElement("div",{tokenid:e.Id,title:e.name,className:"card BidcontainerCard"},n.createElement("div",{tokenid:e.Id,title:e.name,className:"card-body bidbuttonText"},"View"))),"Cryptopunk"==e.type?n.createElement("div",{tokenid:e.Id,highestbid:e.price,className:"Bidcontainer col",onClick:ke},n.createElement("div",{tokenid:e.Id,highestbid:e.price,className:"card BidcontainerCard"},n.createElement("div",{tokenid:e.Id,highestbid:e.price,className:"card-body bidbuttonText"},"Bid"))):n.createElement("div",{tokenid:e.Id,highestbid:e.price,className:"Bidcontainer col",onClick:Re},n.createElement("div",{tokenid:e.Id,highestbid:e.price,className:"card BidcontainerCard"},n.createElement("div",{tokenid:e.Id,highestbid:e.price,className:"card-body bidbuttonText"},"Bid")))))))))})),n.createElement(Ir,{show:he,onHide:function(){_e(!1),Ne()},tokenId:q,type:ae,eventId:c,Highestbid:se}),n.createElement(Or,{show:fe,onHide:function(){ve(!1),Ne()},id:q,title:J}),n.createElement(Lr,{show:r,onHide:function(){i(!1)},EventID:c,type:ae,SelectedTitle:f,enddate:M}))}function yr(){return n.createElement(i.Z,{key:"intl",locale:"en",defaultLocale:"en",messages:m,onError:v.ZT},n.createElement(s.VK,null,n.createElement("div",{className:"wrapper"},n.createElement(d.h,{key:"header"}),n.createElement("main",{className:"main"},n.createElement(o.rs,null,n.createElement(o.AW,{exact:!0,path:"/"},n.createElement(rr,null)),n.createElement(o.AW,{exact:!0,path:"/CreateEvents"},n.createElement(Tr,null)),n.createElement(o.AW,{exact:!0,path:"/donation"},n.createElement(br,null)),n.createElement(o.AW,{exact:!0,path:"/donation/auction/:id"},n.createElement(Sr,null)),n.createElement(o.AW,{path:Nn.VP.swap.path},n.createElement(Ga,null)),n.createElement(o.AW,{exact:!0,path:Nn.VP.poolList.path},n.createElement(An,null)),n.createElement(o.AW,{exact:!0,path:Nn.VP.poolRemoveLiquidity.path},n.createElement(nr,null)),n.createElement(o.AW,{exact:!0,path:Nn.VP.poolItem.path},n.createElement(Hn,null)),n.createElement(o.AW,{exact:!0,path:Nn.VP.poolCreate.path},n.createElement(Ra,null)),n.createElement(o.AW,{exact:!0,path:Nn.VP.tokenList.path},n.createElement(Qa,null)),n.createElement(o.AW,{exact:!0,path:Nn.VP.tokenItem.path},n.createElement(on,null)),n.createElement(o.AW,{exact:!0,path:Nn.VP.pairList.path},n.createElement(Ye,null)),n.createElement(o.AW,{exact:!0,path:Nn.VP.pairItem.path},n.createElement($t,null)),n.createElement(o.AW,{exact:!0,path:Nn.VP.builder.path},n.createElement(x,null)),n.createElement(o.AW,{path:Nn.VP.builderCreate.path},n.createElement(_e,null)),n.createElement(o.AW,{exact:!0,path:Nn.VP.builderItem.path},n.createElement(Te,null)))),n.createElement(l.$,{key:"footer"})),n.createElement("div",{className:"wallets"},n.createElement(T,{key:"account"}),n.createElement(c.U,null),n.createElement(u.v,null))))}r.render(n.createElement(n.StrictMode,null,n.createElement(yr,null)),document.getElementById("root"))},88618:(e,t,a)=>{a.d(t,{zF:()=>r,Ah:()=>i,RU:()=>s,pJ:()=>o,sC:()=>l,KY:()=>c});var n=a(39392),r={filter:"",tokens:[],tokensCache:new(a.n(n)())},i={isLoading:!1},s={decimals:"",name:"",symbol:""},o={isCreating:!1},l={token:void 0,tokenCache:void 0,targetAddress:"",targetWalletBalance:"",amountToMint:"",amountToBurn:"",callbackAddress:"0:0000000000000000000000000000000000000000000000000000000000000000",callbackPayload:"",newOwnerAddress:""},c={tokenRoot:"",isLoading:!1,isMinting:!1,isBurning:!1,isTransfer:!1}},81931:(e,t,a)=>{a.d(t,{i:()=>X});var n=a(14310),r=a.n(n),i=a(34074),s=a.n(i),o=a(78914),l=a.n(o),c=a(39649),u=a.n(c),d=a(20368),m=a.n(d),h=a(63978),_=a.n(h),E=a(33938),p=a(68420),f=a(27344),v=a(44845),T=a(42424),g=a(30680),A=a(63109),N=a.n(A),L=a(20116),b=a.n(L),R=a(77149),k=a.n(R),I=a(93476),O=a.n(I),S=a(2991),y=a.n(S),C=a(86902),P=a.n(C),w=a(52424),D=a.n(w),x=a(68949),M=a(82740),B=a.n(M),U=a(73986),F=a(88618),G=a(38240),Z=a(21158);function W(e,t){var a=P()(e);if(r()){var n=r()(e);t&&(n=b()(n).call(n,(function(t){return s()(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)l()(a=W(Object(n),!0)).call(a,(function(t){(0,v.Z)(e,t,n[t])}));else if(u())m()(e,u()(n));else{var r;l()(r=W(Object(n))).call(r,(function(t){_()(e,t,s()(n,t))}))}}return e}function H(e,t,a){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,a)}var K=new(D()),Y=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Z.O)();(0,p.Z)(this,e),(0,v.Z)(this,"data",F.zF),(0,v.Z)(this,"state",F.Ah),H(this,K,{writable:!0,value:void 0}),this.wallet=t,(0,x.ky)(this,{handleWalletAddressChange:x.aD.bound})}var t,a,n,r;return(0,f.Z)(e,[{key:"changeData",value:function(e,t){this.data[e]=t}},{key:"changeState",value:function(e,t){this.state[e]=t}},{key:"init",value:function(){var e=this;(0,g.Z)(this,K,(0,x.U5)((function(){return e.wallet.address}),this.handleWalletAddressChange)),null!=this.wallet.address&&this.handleWalletAddressChange()}},{key:"dispose",value:function(){var e;null===(e=(0,T.Z)(this,K))||void 0===e||e.call(this),this.reset()}},{key:"filterTokens",value:(r=(0,E.Z)(N().mark((function e(){var t,a,n,r=this;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.changeState("isLoading",!0),""!==b()(this.data)){e.next=8;break}return e.next=5,this.loadTokensData();case 5:return t=e.sent,this.changeData("tokens",t),e.abrupt("return");case 8:return e.next=10,this.loadTokenData(b()(this.data));case 10:(a=e.sent)&&a.root_owner_address.toString()===this.wallet.address?(k()(n=(0,G.B)()).call(n,(function(e){return e===b()(r.data)}))||(0,G.s)(b()(this.data)),this.changeData("tokens",[V(V({},a),{},{name:atob(a.name),symbol:atob(a.symbol)})])):this.changeData("tokens",[]),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this.changeData("tokens",[]);case 17:return e.prev=17,this.changeState("isLoading",!1),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[0,14,17,20]])}))),function(){return r.apply(this,arguments)})},{key:"handleWalletAddressChange",value:(n=(0,E.Z)(N().mark((function e(t,a){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t===a||this.reset(),e.prev=1,e.next=4,this.loadTokensData();case 4:n=e.sent,this.changeData("tokens",n),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e,t){return n.apply(this,arguments)})},{key:"loadTokensData",value:(a=(0,E.Z)(N().mark((function e(){var t,a,n,r,i,s=this;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b()(t=(0,G.B)()).call(t,(function(e){return(0,U.NX)(e)})),this.changeState("isLoading",!0),n=[],e.prev=3,e.next=6,O().all(y()(a).call(a,(function(e){return s.loadTokenData(e)})));case 6:i=e.sent,n=y()(r=b()(i).call(i,(function(e,t){var n,r=V(V({},e),{},{root:a[t]});return P()(V({},r)).length>1&&void 0!==(null==r?void 0:r.root)&&(null===(n=r.root_owner_address)||void 0===n?void 0:n.toString())===s.wallet.address}))).call(r,(function(e){return V(V({},e),{},{name:atob(e.name),symbol:atob(e.symbol)})})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:return e.prev=12,this.changeState("isLoading",!1),e.finish(12);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this,[[3,10,12,15]])}))),function(){return a.apply(this,arguments)})},{key:"loadTokenData",value:(t=(0,E.Z)(N().mark((function e(t){var a,n,r,i,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.data.tokensCache.get(t.toString()),n=new M.Address(t),r=new M.Contract(U.Ow.Root,n),a){e.next=12;break}return e.next=6,B().getFullContractState({address:n});case 6:if(!(a=e.sent.state)){e.next=11;break}this.data.tokensCache.set(t,a),e.next=12;break;case 11:return e.abrupt("return",void 0);case 12:if(!a.isDeployed){e.next=18;break}return e.next=15,r.methods.getDetails({_answer_id:0}).call({cachedState:a});case 15:return i=e.sent,s=i.value0,e.abrupt("return",V(V({},s),{},{root:t}));case 18:return e.abrupt("return",void 0);case 19:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"reset",value:function(){this.resetData()}},{key:"resetData",value:function(){this.data=F.zF}},{key:"resetState",value:function(){this.state=F.Ah}},{key:"tokens",get:function(){return this.data.tokens}},{key:"filter",get:function(){return b()(this.data)}},{key:"isLoading",get:function(){return this.state.isLoading}}]),e}());function X(){return Y}},87592:(e,t,a)=>{a.d(t,{l:()=>V});var n=a(86902),r=a.n(n),i=a(14310),s=a.n(i),o=a(20116),l=a.n(o),c=a(34074),u=a.n(c),d=a(78914),m=a.n(d),h=a(39649),_=a.n(h),E=a(20368),p=a.n(E),f=a(63978),v=a.n(f),T=a(33938),g=a(68420),A=a(27344),N=a(44845),L=a(42424),b=a(30680),R=a(80426),k=a.n(R),I=a(52424),O=a.n(I),S=a(63109),y=a.n(S),C=a(68949),P=a(58019),w=a(82740),D=a.n(w),x=a(73986),M=a(88618),B=a(38240),U=a(21158);function F(e,t){var a=r()(e);if(s()){var n=s()(e);t&&(n=l()(n).call(n,(function(t){return u()(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e,t,a){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,a)}var Z=new(O()),W=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,U.O)();(0,g.Z)(this,e),(0,N.Z)(this,"data",M.RU),(0,N.Z)(this,"state",M.pJ),(0,N.Z)(this,"transactionResult",void 0),G(this,Z,{writable:!0,value:void 0}),this.wallet=t,(0,C.ky)(this,{changeData:C.aD.bound,createToken:C.aD.bound,handleWalletAccountChange:C.aD.bound,handleTransactionResult:C.aD.bound})}var t,a,n;return(0,A.Z)(e,[{key:"changeData",value:function(e,t){this.data[e]=t}},{key:"changeState",value:function(e,t){this.state[e]=t}},{key:"init",value:(n=(0,T.Z)(y().mark((function e(){var t=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.transactionSubscriber){e.next=4;break}return e.next=3,this.transactionSubscriber.unsubscribe();case 3:this.transactionSubscriber=void 0;case 4:this.transactionSubscriber=new w.Subscriber(D()),(0,b.Z)(this,Z,(0,C.U5)((function(){return t.wallet.address}),this.handleWalletAccountChange));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"dispose",value:(a=(0,T.Z)(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.transactionSubscriber){e.next=4;break}return e.next=3,this.transactionSubscriber.unsubscribe();case 3:this.transactionSubscriber=void 0;case 4:null===(t=(0,L.Z)(this,Z))||void 0===t||t.call(this),this.reset();case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"cleanTransactionResult",value:function(){this.transactionResult=void 0}},{key:"handleWalletAccountChange",value:function(e,t){e!==t&&this.reset()}},{key:"handleCreateTokenSuccess",value:function(e){var t=e.input,a=e.transaction;this.transactionResult={hash:a.id.hash,name:this.name,root:t.token_root.toString(),success:!0,symbol:this.symbol},this.changeState("isCreating",!1),this.changeData("decimals",""),this.changeData("name",""),this.changeData("symbol",""),(0,B.s)(t.token_root.toString())}},{key:"handleCreateTokenFailure",value:function(e){this.transactionResult={success:!1},this.changeState("isCreating",!1),this.changeData("decimals",""),this.changeData("name",""),this.changeData("symbol","")}},{key:"createToken",value:(t=(0,T.Z)(y().mark((function e(){var t,a,n,r,i,s,o,l,c,u,d=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wallet.address||this.changeState("isCreating",!1),s=(Math.floor(99999*Math.random())+1).toString(),this.changeState("isCreating",!0),console.log(this.decimals),e.prev=4,e.next=7,new w.Contract(x.Ow.Factory,x.ac.TokenFactoryAddress).methods.Token({answer_id:s,root_public_key:0,root_owner_address:new w.Address(this.wallet.address),name:btoa(""),symbol:btoa("this.symbol"),decimals:this.decimals}).send({from:new w.Address(this.wallet.address),amount:this.decimals.toString()});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0),this.changeState("isCreating",!1);case 13:if(o=new w.Contract(x.Ow.TokenRootDeployCallbacks,new w.Address(this.wallet.address)),l=null===(t=this.transactionSubscriber)||void 0===t?void 0:t.transactions(new w.Address(this.wallet.address)),c=null===(a=this.transactionSubscriber)||void 0===a?void 0:a.oldTransactions(new w.Address(this.wallet.address),{fromLt:null===(n=this.wallet.contract)||void 0===n||null===(r=n.lastTransactionId)||void 0===r?void 0:r.lt}),void 0!==l&&void 0!==c&&(l=l.merge(c)),u=null===(i=l)||void 0===i?void 0:k()(i).call(i,(function(e){return e.transactions})).filterMap(function(){var e=(0,T.Z)(y().mark((function e(t){var a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.decodeTransaction({transaction:t,methods:["notifyTokenRootDeployed","notifyTokenRootNotDeployed"]});case 2:if(void 0===(a=e.sent)){e.next=8;break}if("notifyTokenRootNotDeployed"!==a.method||a.input.answer_id.toString()!==s){e.next=6;break}return e.abrupt("return",P.t$({input:a.input}));case 6:if("notifyTokenRootDeployed"!==a.method||a.input.answer_id.toString()!==s){e.next=8;break}return e.abrupt("return",P.F2({input:a.input,transaction:t}));case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).first(),void 0===u){e.next=24;break}return e.t1=P.EQ((function(e){return d.handleCreateTokenFailure(e)}),(function(e){return d.handleCreateTokenSuccess(e)})),e.next=22,u;case 22:e.t2=e.sent,(0,e.t1)(e.t2);case 24:case"end":return e.stop()}}),e,this,[[4,9]])}))),function(){return t.apply(this,arguments)})},{key:"reset",value:function(){this.data=function(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)m()(a=F(Object(n),!0)).call(a,(function(t){(0,N.Z)(e,t,n[t])}));else if(_())p()(e,_()(n));else{var r;m()(r=F(Object(n))).call(r,(function(t){v()(e,t,u()(n,t))}))}}return e}({},M.RU)}},{key:"decimals",get:function(){return this.data.decimals}},{key:"name",get:function(){return this.data.name}},{key:"symbol",get:function(){return this.data.symbol}},{key:"isCreating",get:function(){return this.state.isCreating}},{key:"transaction",get:function(){return this.transactionResult}}]),e}());function V(){return W}},79991:(e,t,a)=>{a.d(t,{p:()=>H});var n=a(86902),r=a.n(n),i=a(14310),s=a.n(i),o=a(20116),l=a.n(o),c=a(34074),u=a.n(c),d=a(78914),m=a.n(d),h=a(39649),_=a.n(h),E=a(20368),p=a.n(E),f=a(63978),v=a.n(f),T=a(33938),g=a(68420),A=a(27344),N=a(44845),L=a(42424),b=a(30680),R=a(31581),k=a.n(R),I=a(52424),O=a.n(I),S=a(63109),y=a.n(S),C=a(68949),P=a(82740),w=a.n(P),D=a(44431),x=a.n(D),M=a(73986),B=a(88618),U=a(21158),F=a(99819);function G(e,t){var a=r()(e);if(s()){var n=s()(e);t&&(n=l()(n).call(n,(function(t){return u()(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)m()(a=G(Object(n),!0)).call(a,(function(t){(0,N.Z)(e,t,n[t])}));else if(_())p()(e,_()(n));else{var r;m()(r=G(Object(n))).call(r,(function(t){v()(e,t,u()(n,t))}))}}return e}var W=new(O()),V=new(function(){function e(t){var a,n,r;(0,g.Z)(this,e),(0,N.Z)(this,"data",B.sC),(0,N.Z)(this,"state",B.KY),r={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(a=this,n=W),n.set(a,r),this.wallet=t,(0,C.ky)(this,{handleWalletAddressChange:C.aD.bound})}var t,a,n,r,i,s;return(0,A.Z)(e,[{key:"changeData",value:function(e,t){this.data[e]=t}},{key:"changeState",value:function(e,t){this.state[e]=t}},{key:"init",value:function(){var e=this;(0,b.Z)(this,W,(0,C.U5)((function(){return e.wallet.address}),this.handleWalletAddressChange)),null!==this.wallet.address&&this.handleWalletAddressChange()}},{key:"handleWalletAddressChange",value:(s=(0,T.Z)(y().mark((function e(t,a){var n=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t===a||this.reset(),this.changeState("isLoading",!0),this.changeData("targetAddress",this.wallet.address?this.wallet.address:""),e.next=5,this.loadTokenData().then((function(e){return n.changeData("token",e)}));case 5:return e.next=7,this.loadTargetWalletBalance();case 7:this.changeState("isLoading",!1);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"loadTokenData",value:(i=(0,T.Z)(y().mark((function e(){var t,a,n,r,i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.data.tokenCache,a=new P.Address(this.state.tokenRoot),n=new P.Contract(M.Ow.Root,a),t){e.next=12;break}return e.next=6,w().getFullContractState({address:a});case 6:if(!(t=e.sent.state)){e.next=11;break}this.changeData("tokenCache",t),e.next=12;break;case 11:return e.abrupt("return",void 0);case 12:if(!t.isDeployed){e.next=18;break}return e.next=15,n.methods.getDetails({_answer_id:0}).call({cachedState:t});case 15:return r=e.sent,i=r.value0,e.abrupt("return",Z(Z({},i),{},{name:atob(i.name),symbol:atob(i.symbol),total_supply:new(x())(i.total_supply).shiftedBy(-i.decimals).toFixed(),root:this.state.tokenRoot}));case 18:return e.abrupt("return",void 0);case 19:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"mint",value:(r=(0,T.Z)(y().mark((function e(){var t,a,n=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address&&this.data.token&&this.data.targetAddress&&this.data.amountToMint){e.next=3;break}return this.changeState("isMinting",!1),e.abrupt("return");case 3:return this.changeState("isMinting",!0),e.prev=4,e.next=7,new P.Contract(M.Ow.Root,new P.Address(this.state.tokenRoot)).methods.deployWallet({tokens:new(x())(this.data.amountToMint).shiftedBy(Number(this.data.token.decimals)).toFixed(),deploy_grams:"100000000",wallet_public_key_:0,owner_address_:new P.Address(this.data.targetAddress),gas_back_address:new P.Address(this.data.targetAddress)}).send({from:new P.Address(this.wallet.address),amount:"600000000",bounce:!0});case 7:t=this.data.targetWalletBalance,a=k()((0,T.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadTargetWalletBalance();case 2:n.data.targetWalletBalance!==t&&(n.changeData("token",Z(Z({},n.data.token),{},{total_supply:new(x())(n.data.token.total_supply).plus(n.data.amountToMint).decimalPlaces(+n.data.token.decimals,x().ROUND_DOWN).toFixed()})),n.changeState("isMinting",!1),clearInterval(a));case 3:case"end":return e.stop()}}),e)}))),5e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),this.changeState("isMinting",!1),(0,F.vU)("Mint token failure",e.t0);case 15:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return r.apply(this,arguments)})},{key:"burn",value:(n=(0,T.Z)(y().mark((function e(){var t,a,n,r=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address&&this.data.token&&this.data.targetAddress&&this.data.amountToBurn){e.next=3;break}return this.changeState("isBurning",!1),e.abrupt("return");case 3:return this.changeState("isBurning",!0),e.next=6,w().packIntoCell({structure:[{name:"data",type:"bytes"}],data:{data:btoa(this.data.callbackPayload)}});case 6:return t=e.sent,e.prev=7,e.next=10,new P.Contract(M.Ow.Root,new P.Address(this.state.tokenRoot)).methods.proxyBurn({tokens:new(x())(this.data.amountToBurn).shiftedBy(Number(this.data.token.decimals)).toFixed(),sender_address:new P.Address(this.data.targetAddress),send_gas_to:new P.Address(this.data.targetAddress),callback_address:new P.Address(this.data.callbackAddress),callback_payload:t.boc}).send({from:new P.Address(this.wallet.address),amount:"500000000",bounce:!0});case 10:a=this.data.targetWalletBalance,n=k()((0,T.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.loadTargetWalletBalance();case 2:r.data.targetWalletBalance!==a&&(r.changeData("token",Z(Z({},r.data.token),{},{total_supply:new(x())(r.data.token.total_supply).minus(r.data.amountToBurn).decimalPlaces(+r.data.token.decimals,x().ROUND_DOWN).toFixed()})),r.changeState("isBurning",!1),clearInterval(n));case 3:case"end":return e.stop()}}),e)}))),5e3),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),this.changeState("isBurning",!1),(0,F.vU)("Burn token failure",e.t0);case 18:case"end":return e.stop()}}),e,this,[[7,14]])}))),function(){return n.apply(this,arguments)})},{key:"transfer",value:(a=(0,T.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address&&this.data.token&&this.data.newOwnerAddress){e.next=3;break}return this.changeState("isTransfer",!1),e.abrupt("return");case 3:return this.changeState("isTransfer",!0),e.prev=4,e.next=7,new P.Contract(M.Ow.Root,new P.Address(this.state.tokenRoot)).methods.transferOwner({root_public_key_:0,root_owner_address_:new P.Address(this.data.newOwnerAddress)}).send({from:new P.Address(this.wallet.address),amount:"5000000000",bounce:!0});case 7:this.changeState("isTransfer",!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),this.changeState("isTransfer",!1),(0,F.vU)("Transfer token failure",e.t0);case 14:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return a.apply(this,arguments)})},{key:"loadTargetWalletBalance",value:(t=(0,T.Z)(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.data.token){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,M.cI.balance({root:new P.Address(this.data.token.root),owner:new P.Address(this.data.targetAddress)});case 5:t=e.sent,this.changeData("targetWalletBalance",new(x())(t).shiftedBy(-this.data.token.decimals).toFixed()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.changeData("targetWalletBalance","0");case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return t.apply(this,arguments)})},{key:"dispose",value:function(){var e;null===(e=(0,L.Z)(this,W))||void 0===e||e.call(this),this.reset()}},{key:"reset",value:function(){this.resetData()}},{key:"resetData",value:function(){this.data=B.sC}},{key:"resetState",value:function(){this.state=B.KY}},{key:"token",get:function(){return this.data.token}},{key:"isLoading",get:function(){return this.state.isLoading}},{key:"targetAddress",get:function(){return this.data.targetAddress}},{key:"amountToMint",get:function(){return this.data.amountToMint}},{key:"amountToBurn",get:function(){return this.data.amountToBurn}},{key:"callbackAddress",get:function(){return this.data.callbackAddress}},{key:"callbackPayload",get:function(){return this.data.callbackPayload}},{key:"newOwnerAddress",get:function(){return this.data.newOwnerAddress}},{key:"targetWalletBalance",get:function(){return this.data.targetWalletBalance}},{key:"isMinting",get:function(){return this.state.isMinting}},{key:"isBurning",get:function(){return this.state.isBurning}},{key:"isTransfer",get:function(){return this.state.isTransfer}}]),e}())((0,U.O)());function H(e){return V.changeState("tokenRoot",e),V}},38240:(e,t,a)=>{a.d(t,{B:()=>c,s:()=>u});var n=a(71649),r=a(59340),i=a.n(r),s=a(77766),o=a.n(s),l=a(99819);function c(){return JSON.parse(l.tO.get("builder_tokens")||"[]")}function u(e){var t;l.tO.set("builder_tokens",i()(o()(t=[]).call(t,(0,n.Z)(c()),[e])))}},88787:(e,t,a)=>{a.d(t,{A:()=>fe});var n=a(86902),r=a.n(n),i=a(14310),s=a.n(i),o=a(20116),l=a.n(o),c=a(34074),u=a.n(c),d=a(78914),m=a.n(d),h=a(39649),_=a.n(h),E=a(20368),p=a.n(E),f=a(63978),v=a.n(f),T=a(95266),g=a(33938),A=a(68420),N=a(27344),L=a(44845),b=a(42424),R=a(30680),k=a(63109),I=a.n(k),O=a(78580),S=a.n(O),y=a(21306),C=a.n(y),P=a(72119),w=a.n(P),D=a(80426),x=a.n(D),M=a(94198),B=a.n(M),U=a(52424),F=a.n(U),G=a(44431),Z=a.n(G),W=a(58019),V=a(72307),H=a.n(V),K=a(68949),Y=a(82740),X=a.n(Y),q=a(97018),z=a(73986),Q={leftAmount:"",rightAmount:"",leftToken:void 0,rightToken:void 0},j={isAutoExchangeEnabled:!1,isDepositingLeft:!1,isDepositingLiquidity:!1,isDepositingLp:!1,isDepositingRight:!1,isSyncPairBalances:!1,isSyncPairRoots:!1,isWithdrawingLeft:!1,isWithdrawingLiquidity:!1,isWithdrawingRight:!1},J={isPoolEmpty:void 0},$=a(15973),ee=a(68470),te=a(4142),ae=a(21158),ne=a(37030),re=a(99819);function ie(e,t){var a=r()(e);if(s()){var n=s()(e);t&&(n=l()(n).call(n,(function(t){return u()(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)m()(a=ie(Object(n),!0)).call(a,(function(t){(0,L.Z)(e,t,n[t])}));else if(_())p()(e,_()(n));else{var r;m()(r=ie(Object(n))).call(r,(function(t){v()(e,t,u()(n,t))}))}}return e}function oe(e,t,a){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,a)}var le=new(F()),ce=new(F()),ue=new(F()),de=new(F()),me=new(F()),he=new(F()),_e=new(F()),Ee=new(F()),pe=new(function(){function e(t,a,n,r){(0,A.Z)(this,e),(0,L.Z)(this,"data",Q),(0,L.Z)(this,"pool",J),(0,L.Z)(this,"state",j),(0,L.Z)(this,"depositLiquidityReceipt",void 0),oe(this,le,{writable:!0,value:void 0}),oe(this,ce,{writable:!0,value:void 0}),oe(this,ue,{writable:!0,value:void 0}),oe(this,de,{writable:!0,value:void 0}),oe(this,me,{writable:!0,value:void 0}),oe(this,he,{writable:!0,value:void 0}),oe(this,_e,{writable:!0,value:void 0}),oe(this,Ee,{writable:!0,value:void 0}),this.wallet=t,this.tokensCache=a,this.dex=n,this.favoritePairs=r,(0,K.ky)(this,{changeData:K.aD.bound,handleLpBalanceChange:K.aD.bound,handleTokensChange:K.aD.bound,handleStepChange:K.aD.bound,handleWalletAddressChange:K.aD.bound})}var t,a,n,r,i,s,o,l,c,u,d,m,h,_,E,p,f,v,k,O,y,P,D;return(0,N.Z)(e,[{key:"changeData",value:function(e,t){var a;S()(a=["leftAmount","rightAmount"]).call(a,e)?this.changeAmount(e,t):this.data[e]=t}},{key:"init",value:(D=(0,g.Z)(I().mark((function e(){var t=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.unsubscribeTransactionSubscriber();case 2:if((0,R.Z)(this,le,new Y.Subscriber(X())),(0,R.Z)(this,ue,(0,K.U5)((function(){return t.isDexLeftBalanceValid}),(function(e){e&&t.changeState("isDepositingLeft",!1)}))),(0,R.Z)(this,de,(0,K.U5)((function(){return t.isDexRightBalanceValid}),(function(e){e&&t.changeState("isDepositingRight",!1)}))),(0,R.Z)(this,ce,(0,K.U5)((function(){return t.dex.balances}),function(){var e=(0,g.Z)(I().mark((function e(a,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H()(a?C()(null==a?void 0:w()(a).call(a)):{},n?C()(null==n?void 0:w()(n).call(n)):{})){e.next=4;break}return e.next=4,t.syncLpBalance();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),(0,R.Z)(this,me,(0,K.U5)((function(){return t.lpBalance}),this.handleLpBalanceChange,{delay:50})),(0,R.Z)(this,he,(0,K.U5)((function(){return t.step}),this.handleStepChange,{delay:50})),(0,R.Z)(this,_e,(0,K.U5)((function(){return[t.leftToken,t.rightToken]}),(0,re.Ds)(this.handleTokensChange,200))),(0,R.Z)(this,Ee,(0,K.U5)((function(){return t.wallet.address}),this.handleWalletAddressChange)),!this.wallet.address){e.next=15;break}return e.next=13,this.handleStepChange(void 0);case 13:return e.next=15,this.setStep($.m.INIT);case 15:case"end":return e.stop()}}),e,this)}))),function(){return D.apply(this,arguments)})},{key:"dispose",value:(P=(0,g.Z)(I().mark((function e(){var t,a,n,r,i,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.unsubscribeTransactionSubscriber();case 2:null===(t=(0,b.Z)(this,ce))||void 0===t||t.call(this),null===(a=(0,b.Z)(this,ue))||void 0===a||a.call(this),null===(n=(0,b.Z)(this,de))||void 0===n||n.call(this),null===(r=(0,b.Z)(this,he))||void 0===r||r.call(this),null===(i=(0,b.Z)(this,_e))||void 0===i||i.call(this),null===(s=(0,b.Z)(this,Ee))||void 0===s||s.call(this),this.reset(),this.dex.stopBalancesUpdater();case 10:case"end":return e.stop()}}),e,this)}))),function(){return P.apply(this,arguments)})},{key:"toggleAutoExchange",value:function(){this.changeState("isAutoExchangeEnabled",!this.isAutoExchangeEnabled),this.isAutoExchangeEnabled||this.updateAmount()}},{key:"connectDexAccount",value:(y=(0,g.Z)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.setStep($.m.CONNECTING_ACCOUNT),e.next=6,this.dex.connectOrCreate();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),(0,re.vU)("Connect DEX account error",e.t0),this.setStep($.m.CONNECT_ACCOUNT);case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return y.apply(this,arguments)})},{key:"createPool",value:(O=(0,g.Z)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.leftToken&&this.rightToken&&this.wallet.address){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.setStep($.m.CREATING_POOL),e.next=6,z.A$.createPair(new Y.Address(this.leftToken.root),new Y.Address(this.rightToken.root),new Y.Address(this.wallet.address));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),(0,re.vU)("Create pair error",e.t0),this.setStep($.m.CHECK_PAIR);case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return O.apply(this,arguments)})},{key:"connectPool",value:(k=(0,g.Z)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.leftToken&&this.rightToken&&this.wallet.address&&this.dex.address){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.setStep($.m.CONNECTING_POOL),e.next=6,z.A$.connectPair(new Y.Address(this.dex.address),new Y.Address(this.leftToken.root),new Y.Address(this.rightToken.root),new Y.Address(this.wallet.address));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),(0,re.vU)("Connect pair error",e.t0),this.setStep($.m.CHECK_PAIR);case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return k.apply(this,arguments)})},{key:"fetchPoolShare",value:(v=(0,g.Z)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncPoolShare();case 2:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"depositToken",value:(f=(0,g.Z)(I().mark((function e(t){var a,n,r,i,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address){e.next=2;break}return e.abrupt("return");case 2:if(a=this[t]){e.next=5;break}return e.abrupt("return");case 5:if(n=this.dex.getAccountWallet(a.root)){e.next=8;break}return e.abrupt("return");case 8:if("leftToken"===t?(r=this.leftAmount,i=this.dexLeftBalance,this.changeState("isDepositingLeft",!0)):"rightToken"===t&&(r=this.rightAmount,i=this.dexRightBalance,this.changeState("isDepositingRight",!0)),(s=new(Z())(r||0).shiftedBy(a.decimals).minus(i||0).decimalPlaces(0,Z().ROUND_UP)).isPositive()&&!s.isZero()&&s.isFinite()&&!s.isNaN()){e.next=12;break}return e.abrupt("return");case 12:return e.prev=12,e.next=15,z.cI.send({address:new Y.Address(a.root),recipient:n,owner:new Y.Address(this.wallet.address),grams:"1500000000",tokens:s.toFixed(),withDerive:!0});case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(12),(0,re.vU)("Cannot deposit token",e.t0),"leftToken"===t?this.changeState("isDepositingLeft",!1):"rightToken"===t&&this.changeState("isDepositingRight",!1);case 21:case"end":return e.stop()}}),e,this,[[12,17]])}))),function(e){return f.apply(this,arguments)})},{key:"supply",value:(p=(0,g.Z)(I().mark((function e(){var t,a,n,r,i,s,o,l,c,u=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.dex.address&&this.wallet.address&&this.leftToken&&this.rightToken&&this.lpRoot&&(this.leftAmount||this.rightAmount)){e.next=2;break}return e.abrupt("return");case 2:return this.cleanDepositLiquidityResult(),this.changeState("isDepositingLiquidity",!0),e.prev=4,e.next=7,this.dex.syncNonce();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),(0,re.vU)("Nonce sync error",e.t0);case 12:return s=new Y.Contract(z.iq.Callbacks,new Y.Address(this.wallet.address)),o=null===(t=(0,b.Z)(this,le))||void 0===t?void 0:t.transactions(new Y.Address(this.wallet.address)),l=null===(a=(0,b.Z)(this,le))||void 0===a?void 0:a.oldTransactions(new Y.Address(this.wallet.address),{fromLt:null===(n=this.wallet.contract)||void 0===n||null===(r=n.lastTransactionId)||void 0===r?void 0:r.lt}),void 0!==o&&void 0!==l&&(o=o.merge(l)),c=null===(i=o)||void 0===i?void 0:x()(i).call(i,(function(e){return e.transactions})).filterMap(function(){var e=(0,g.Z)(I().mark((function e(t){var a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.decodeTransaction({transaction:t,methods:["dexPairDepositLiquiditySuccess","dexPairOperationCancelled"]});case 2:if(void 0===(a=e.sent)){e.next=8;break}if("dexPairOperationCancelled"!==a.method||a.input.id.toString()!==u.dex.nonce){e.next=6;break}return e.abrupt("return",W.t$({input:a.input}));case 6:if("dexPairDepositLiquiditySuccess"!==a.method||a.input.id.toString()!==u.dex.nonce||!a.input.via_account){e.next=8;break}return e.abrupt("return",W.F2({input:a.input,transaction:t}));case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).first(),e.prev=17,e.next=20,z.A$.depositAccountLiquidity(new Y.Address(this.dex.address),new Y.Address(this.wallet.address),new Y.Address(this.leftToken.root),new Y.Address(this.rightToken.root),new Y.Address(this.lpRoot),new(Z())(this.leftAmount||0).shiftedBy(this.leftToken.decimals).decimalPlaces(0).toFixed(),new(Z())(this.rightAmount||0).shiftedBy(this.rightToken.decimals).decimalPlaces(0).toFixed(),this.isAutoExchangeEnabled);case 20:if(void 0===c){e.next=26;break}return e.t1=W.EQ((function(e){return u.handleLiquidityFailure(e)}),(function(e){return u.handleLiquiditySuccess(e)})),e.next=24,c;case 24:e.t2=e.sent,(0,e.t1)(e.t2);case 26:return e.next=28,this.dex.syncBalances();case 28:return e.next=30,this.syncPoolShare();case 30:e.next=36;break;case 32:e.prev=32,e.t3=e.catch(17),(0,re.vU)("Cannot deposit liquidity",e.t3),this.changeState("isDepositingLiquidity",!1);case 36:case"end":return e.stop()}}),e,this,[[4,9],[17,32]])}))),function(){return p.apply(this,arguments)})},{key:"cleanDepositLiquidityResult",value:function(){this.depositLiquidityReceipt=void 0}},{key:"withdrawToken",value:(E=(0,g.Z)(I().mark((function e(t,a){var n,r,i,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t===(null===(n=this.leftToken)||void 0===n?void 0:n.root)?this.changeState("isWithdrawingLeft",!0):t===(null===(r=this.rightToken)||void 0===r?void 0:r.root)&&this.changeState("isWithdrawingRight",!0),e.prev=1,e.next=4,this.dex.withdrawToken(t,a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),(0,re.vU)("Token withdraw error",e.t0);case 9:return e.prev=9,t===(null===(i=this.leftToken)||void 0===i?void 0:i.root)?this.changeState("isWithdrawingLeft",!1):t===(null===(s=this.rightToken)||void 0===s?void 0:s.root)&&this.changeState("isWithdrawingRight",!1),e.finish(9);case 12:return e.next=14,this.syncPoolShare();case 14:case"end":return e.stop()}}),e,this,[[1,6,9,12]])}))),function(e,t){return E.apply(this,arguments)})},{key:"withdrawLiquidity",value:(_=(0,g.Z)(I().mark((function e(){var t,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address&&this.dex.address&&this.leftToken&&this.rightToken&&this.lpWalletBalance&&this.lpRoot){e.next=2;break}return e.abrupt("return");case 2:return this.changeState("isWithdrawingLiquidity",!0),e.prev=3,e.next=6,z.A$.withdrawLiquidity(new Y.Address(this.wallet.address),new Y.Address(null===(t=this.leftToken)||void 0===t?void 0:t.root),new Y.Address(null===(a=this.rightToken)||void 0===a?void 0:a.root),new Y.Address(this.lpRoot),this.lpWalletBalance);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),this.changeState("isWithdrawingLiquidity",!1),e.abrupt("return");case 12:return e.next=14,this.dex.syncBalances();case 14:return e.next=16,this.syncLpBalance();case 16:return e.next=18,this.syncPoolShare();case 18:this.changeState("isWithdrawingLiquidity",!1);case 19:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(){return _.apply(this,arguments)})},{key:"handleLpBalanceChange",value:(h=(0,g.Z)(I().mark((function e(t,a){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t!==a&&this.pairAddress){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.syncPairRoots();case 4:return e.next=6,this.syncPairBalances();case 6:return e.next=8,this.syncPoolShare();case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"handleStepChange",value:(m=(0,g.Z)(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address){e.next=2;break}return e.abrupt("return");case 2:e.t0=t,e.next=e.t0===$.m.INIT?5:e.t0===$.m.CHECK_ACCOUNT?7:e.t0===$.m.CONNECTING_ACCOUNT?10:e.t0===$.m.CHECK_PAIR?13:e.t0===$.m.CREATING_POOL?19:e.t0===$.m.CONNECTING_POOL?22:25;break;case 5:return this.handleInitStep(),e.abrupt("break",25);case 7:return e.next=9,this.handleCheckDexAccountStep();case 9:return e.abrupt("break",25);case 10:return e.next=12,this.handleConnectingDexAccountStep();case 12:return e.abrupt("break",25);case 13:return this.resetPoolData(),this.resetState(),this.setStep($.m.CHECK_PAIR),e.next=18,this.handleCheckPairStep();case 18:return e.abrupt("break",25);case 19:return e.next=21,this.handleCreatingPoolStep();case 21:return e.abrupt("break",25);case 22:return e.next=24,this.handleConnectingPoolStep();case 24:return e.abrupt("break",25);case 25:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"handleTokensChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=(0,T.Z)(e,2),n=a[0],r=a[1],i=(0,T.Z)(t,2),s=i[0],o=i[1];if((null==n?void 0:n.root)!==(null==s?void 0:s.root)||(null==r?void 0:r.root)!==(null==o?void 0:o.root)){var l=void 0!==n&&(null==n?void 0:n.root)!==(null==s?void 0:s.root),c=void 0!==r&&(null==r?void 0:r.root)!==(null==o?void 0:o.root);if((null==n?void 0:n.root)===(null==r?void 0:r.root)){if(l){var u=this.leftAmount;this.data.rightToken=void 0,this.data.rightAmount=u,this.data.leftAmount=""}else if(c){var d=this.rightAmount;this.data.leftToken=void 0,this.data.leftAmount=d,this.data.rightAmount=""}this.changePoolData("pair",void 0)}null!=n&&n.root&&null!=r&&r.root&&this.setStep($.m.CHECK_PAIR)}}},{key:"handleWalletAddressChange",value:function(e,t){e&&e===t||(this.reset(),this.setStep($.m.INIT))}},{key:"handleLiquiditySuccess",value:(d=(0,g.Z)(I().mark((function e(t){var a,n,r,i,s,o,l,c,u,d,m,h,_,E,p,f,v,T,g,A,N,L,b,R,k,O,S,y,C,P,w,D,x,M,B=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.input,(n=t.transaction)&&this.wallet.address&&this.pairRoots&&this.leftToken&&this.rightToken&&this.pairBalances&&this.lpRoot&&this.lpDecimals){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,this.syncLpBalance();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),(0,re.vU)("Transaction LP Wallet balance error",e.t0);case 11:r=this.leftToken.decimals,i=this.rightToken.decimals,s=this.leftToken.symbol,o=this.rightToken.symbol,l=this.pairBalances,c=l.left,u=void 0===c?"0":c,d=l.lp,m=void 0===d?"0":d,h=l.right,_=void 0===h?"0":h,this.pairAddress&&(void 0!==(null===(E=this.pairRoots)||void 0===E?void 0:E.left)&&void 0!==this.pairRoots.right&&(T=null===(f=this.tokensCache.get(this.pairRoots.left.toString()))||void 0===f?void 0:f.symbol,g=null===(v=this.tokensCache.get(this.pairRoots.right.toString()))||void 0===v?void 0:v.symbol,void 0!==T&&void 0!==g&&(p=(0,re.Sh)(T,g))),this.favoritePairs.add(this.pairAddress,p)),A=new(Z())(a.result.step_1_lp_reward.toString()).plus(new(Z())(a.result.step_3_lp_reward.toString())).toFixed(),N=this.isPoolEmpty?"100.0":new(Z())(A).plus(this.lpWalletBalance||0).multipliedBy(100).dividedBy(new(Z())(m).plus(A)).decimalPlaces(8,Z().ROUND_DOWN).toFixed(),L=this.isPoolEmpty?"0.0":new(Z())(this.lpWalletBalance||0).multipliedBy(100).dividedBy(new(Z())(m)).decimalPlaces(8,Z().ROUND_DOWN).toFixed(),b=this.isPoolEmpty?"100.0":new(Z())(N).minus(L).decimalPlaces(8,Z().ROUND_DOWN).toFixed(),R=new(Z())(a.result.step_1_left_deposit).plus(a.result.step_3_left_deposit),k=new(Z())(a.result.step_1_right_deposit).plus(a.result.step_3_right_deposit),a.result.step_2_left_to_right&&(R=R.plus(a.result.step_2_spent),k=k.minus(a.result.step_2_received)),a.result.step_2_right_to_left&&(k=k.plus(a.result.step_2_spent),R=R.minus(a.result.step_2_received)),O=this.pairRoots.left.toString()!==this.leftToken.root,S=O?k.toFixed():R.toFixed(),y=O?R.toFixed():k.toFixed(),C=new(Z())(u).plus(S),P=new(Z())(_).plus(y),w=C.toFixed(),D=P.toFixed(),x=C.shiftedBy(-r).dividedBy(P.shiftedBy(-i)).decimalPlaces(r,Z().ROUND_UP).toFixed(),M=P.shiftedBy(-i).dividedBy(C.shiftedBy(-r)).decimalPlaces(i,Z().ROUND_UP).toFixed(),(0,K.z)((function(){B.depositLiquidityReceipt={success:!0,successData:{leftDecimals:r,rightDecimals:i,leftDeposit:S,rightDeposit:y,hash:n.id.hash,leftSymbol:s,rightSymbol:o,lpDecimals:B.lpDecimals,lpRoot:B.lpRoot,newLeft:w,newRight:D,newLeftPrice:x,newRightPrice:M,currentSharePercent:L,share:A,shareChangePercent:b,sharePercent:N},errorData:void 0},B.data.leftAmount="",B.data.rightAmount=""})),this.setStep($.m.CHECK_PAIR),this.unsubscribeTransactionSubscriber().catch((function(e){return(0,re.vU)(e)}));case 36:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e){return d.apply(this,arguments)})},{key:"handleLiquidityFailure",value:function(e){var t=this;this.leftToken&&this.rightToken&&((0,K.z)((function(){t.depositLiquidityReceipt={success:!1,errorData:{leftSymbol:t.leftToken.symbol,rightSymbol:t.rightToken.symbol},successData:void 0},t.data.leftAmount="",t.data.rightAmount=""})),this.changeState("isDepositingLiquidity",!1))}},{key:"handleInitStep",value:function(){this.resetPoolData(),this.setStep($.m.CHECK_ACCOUNT)}},{key:"handleCheckDexAccountStep",value:(u=(0,g.Z)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.dex.connectAndSync();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,re.vU)("DEX account connect and sync error",e.t0);case 8:if(this.dex.address){e.next=11;break}return this.setStep($.m.CONNECT_ACCOUNT),e.abrupt("return");case 11:this.leftToken&&this.rightToken?this.setStep($.m.CHECK_PAIR):this.setStep($.m.SELECT_PAIR);case 12:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return u.apply(this,arguments)})},{key:"handleConnectingDexAccountStep",value:(c=(0,g.Z)(I().mark((function e(){var t,a=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=(0,re.Ds)((0,g.Z)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.dex.address){e.next=3;break}return a.setStep($.m.CHECK_PAIR),e.abrupt("return");case 3:return e.prev=3,e.next=6,a.dex.connect();case 6:void 0!==a.dex.address&&a.setStep($.m.CHECK_PAIR),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a.setStep($.m.CONNECT_ACCOUNT);case 12:return e.prev=12,a.dex.address||a.step!==$.m.CONNECTING_ACCOUNT||t(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])}))),5e3))();case 2:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"handleCheckPairStep",value:(l=(0,g.Z)(I().mark((function e(){var t,a,n,r,i,s,o,l,c,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.leftToken&&this.rightToken){e.next=3;break}return this.setStep($.m.SELECT_PAIR),e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,z.Ov)(this.leftToken.root,this.rightToken.root);case 6:n=e.sent,this.changePoolData("pair",{address:null==n?void 0:n.toString()}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),(0,re.vU)(e.t0);case 13:if(this.pairAddress){e.next=16;break}return this.setStep($.m.CREATE_POOL),e.abrupt("return");case 16:return e.prev=16,e.next=19,z.A$.pairLpRoot(new Y.Address(this.pairAddress));case 19:r=e.sent,this.changePoolData("lpRoot",r.toString()),e.next=25;break;case 23:e.prev=23,e.t1=e.catch(16);case 25:if(this.dex.address){e.next=28;break}return this.setStep($.m.INIT),e.abrupt("return");case 28:return e.prev=28,e.next=31,this.dex.syncWallets();case 31:return e.next=33,this.dex.syncBalances();case 33:e.next=37;break;case 35:e.prev=35,e.t2=e.catch(28);case 37:return e.next=39,this.syncLpBalance();case 39:return e.next=41,this.syncPairRoots();case 41:return e.next=43,this.syncPairBalances();case 43:if(!1===this.isPoolEmpty&&(o=this.leftToken.decimals,l=this.rightToken.decimals,c=new(Z())((null===(i=this.pairBalances)||void 0===i?void 0:i.left)||0).shiftedBy(-o),u=new(Z())((null===(s=this.pairBalances)||void 0===s?void 0:s.right)||0).shiftedBy(-l),this.changePoolData("leftPrice",c.dividedBy(u).decimalPlaces(o,Z().ROUND_UP).toFixed()),this.changePoolData("rightPrice",u.dividedBy(c).decimalPlaces(l,Z().ROUND_UP).toFixed()),this.updateAmount()),this.dex.getAccountWallet(null===(t=this.leftToken)||void 0===t?void 0:t.root)&&this.dex.getAccountWallet(null===(a=this.rightToken)||void 0===a?void 0:a.root)&&this.dex.getAccountWallet(this.lpRoot)){e.next=47;break}return this.setStep($.m.CONNECT_POOL),e.abrupt("return");case 47:this.setStep($.m.DEPOSIT_LIQUIDITY);case 48:case"end":return e.stop()}}),e,this,[[3,10],[16,23],[28,35]])}))),function(){return l.apply(this,arguments)})},{key:"handleCreatingPoolStep",value:(o=(0,g.Z)(I().mark((function e(){var t,a=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.leftToken&&this.rightToken){e.next=3;break}return this.setStep($.m.SELECT_PAIR),e.abrupt("return");case 3:(t=(0,re.Ds)((0,g.Z)(I().mark((function e(){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.leftToken&&a.rightToken&&a.step===$.m.CREATING_POOL){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,z.Ov)(a.leftToken.root,a.rightToken.root);case 5:void 0!==(n=e.sent)&&(a.changePoolData("pair",se(se({},a.pool.pair),{},{address:n.toString()})),a.setStep($.m.CHECK_PAIR)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.setStep($.m.CHECK_PAIR);case 12:return e.prev=12,a.pairAddress||a.step!==$.m.CREATING_POOL||t(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])}))),5e3))();case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"handleConnectingPoolStep",value:(s=(0,g.Z)(I().mark((function e(){var t,a=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.leftToken&&this.rightToken&&this.lpRoot&&this.dex.address){e.next=3;break}return this.setStep($.m.CHECK_PAIR),e.abrupt("return");case 3:(t=(0,re.Ds)((0,g.Z)(I().mark((function e(){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.leftToken&&a.rightToken&&a.lpRoot&&a.dex.address&&a.step===$.m.CONNECTING_POOL){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,a.dex.syncWallets();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),a.setStep($.m.CHECK_PAIR);case 10:return e.prev=10,a.dex.getAccountWallet(null===(n=a.leftToken)||void 0===n?void 0:n.root)&&a.dex.getAccountWallet(null===(r=a.rightToken)||void 0===r?void 0:r.root)&&a.dex.getAccountWallet(a.lpRoot)?a.step===$.m.CONNECTING_POOL&&a.setStep($.m.DEPOSIT_LIQUIDITY):t(),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])}))),5e3))();case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"unsubscribeTransactionSubscriber",value:(i=(0,g.Z)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(0,b.Z)(this,le)){e.next=10;break}return e.prev=1,e.next=4,(0,b.Z)(this,le).unsubscribe();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),(0,re.vU)("Transaction unsubscribe error",e.t0);case 9:(0,R.Z)(this,le,void 0);case 10:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return i.apply(this,arguments)})},{key:"changePoolData",value:function(e,t){this.pool[e]=t}},{key:"changeState",value:function(e,t){this.state[e]=t}},{key:"setStep",value:function(e){this.changeState("step",e)}},{key:"changeAmount",value:function(e,t){if(this.data[e]=t,this.isPoolEmpty)this.syncPoolShare().catch((function(e){return(0,re.vU)(e)}));else if(this.isAutoExchangeEnabled)this.syncPoolShare().catch((function(e){return(0,re.vU)(e)}));else{var a=function(e,t,a){return new(Z())(e||0).multipliedBy(t).decimalPlaces(a,Z().ROUND_UP)};if("leftAmount"===e&&this.isLeftAmountValid&&this.rightToken){var n,r=a(this.rightPrice||"0",this.leftAmount,null===(n=this.rightToken)||void 0===n?void 0:n.decimals);(0,re.yp)(r)?this.data.rightAmount=r.toFixed():this.data.rightAmount=""}else if("rightAmount"===e&&this.isRightAmountValid&&this.leftToken){var i=a(this.leftPrice||"0",this.rightAmount,this.leftToken.decimals);(0,re.yp)(i)?this.data.leftAmount=i.toFixed():this.data.leftAmount=""}}}},{key:"updateAmount",value:function(){this.isLeftAmountValid?this.changeAmount("leftAmount",this.leftAmount):this.isRightAmountValid&&this.changeAmount("rightAmount",this.rightAmount)}},{key:"syncPairBalances",value:(r=(0,g.Z)(I().mark((function e(){var t,a,n,r,i,s,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pairAddress&&!this.isSyncPairBalances){e.next=2;break}return e.abrupt("return");case 2:return this.changeState("isSyncPairBalances",!0),e.prev=3,e.next=6,z.A$.pairBalances(new Y.Address(this.pairAddress));case 6:n=e.sent,r=n.left,i=n.lp,s=n.right,o=(null===(t=this.pairRoots)||void 0===t?void 0:t.left.toString())!==(null===(a=this.leftToken)||void 0===a?void 0:a.root),this.changePoolData("pair",se(se({},this.pool.pair),{},{balances:{left:o?s:r,lp:i,right:o?r:s}})),this.changePoolData("isPoolEmpty","0"===i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),(0,re.vU)("DEX account balances error",e.t0);case 18:return e.prev=18,this.changeState("isSyncPairBalances",!1),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,15,18,21]])}))),function(){return r.apply(this,arguments)})},{key:"syncPairRoots",value:(n=(0,g.Z)(I().mark((function e(){var t,a,n,r,i,s,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pairAddress&&!this.isSyncPairRoots){e.next=2;break}return e.abrupt("return");case 2:return this.changeState("isSyncPairRoots",!0),e.prev=3,e.next=6,z.A$.pairTokenRoots(new Y.Address(this.pairAddress));case 6:n=e.sent,this.changePoolData("pair",se(se({},this.pool.pair),{},{roots:n})),(null===(t=this.pairRoots)||void 0===t?void 0:t.left.toString())!==(null===(a=this.leftToken)||void 0===a?void 0:a.root)&&this.pairBalances&&(r=this.pairBalances,i=r.left,s=r.lp,o=r.right,this.changePoolData("pair",se(se({},this.pool.pair),{},{balances:{lp:s,left:o,right:i}}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),(0,re.vU)("DEX account roots error",e.t0);case 14:return e.prev=14,this.changeState("isSyncPairRoots",!1),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,11,14,17]])}))),function(){return n.apply(this,arguments)})},{key:"syncLpBalance",value:(a=(0,g.Z)(I().mark((function e(){var t,a,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.lpRoot){e.next=2;break}return e.abrupt("return");case 2:if(this.lpDecimals){e.next=13;break}return e.prev=3,e.next=6,z.cI.decimal(new Y.Address(this.lpRoot));case 6:a=e.sent,this.changePoolData("lpDecimals",a?B()(a,10):void 0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),(0,re.vU)("LP Wallet decimals error",e.t0);case 13:if(this.changePoolData("lpBalance",(null===(t=this.dex.balances)||void 0===t?void 0:t.get(this.lpRoot))||"0"),this.lpWalletAddress||!this.wallet.address){e.next=26;break}return e.prev=15,e.next=18,z.cI.walletAddress({root:new Y.Address(this.lpRoot),owner:new Y.Address(this.wallet.address)});case 18:n=e.sent,this.changePoolData("lpWalletAddress",n.toString()),e.next=26;break;case 22:e.prev=22,e.t1=e.catch(15),(0,re.vU)("LP Wallet address error",e.t1),this.changePoolData("lpWalletAddress",void 0);case 26:if(!this.lpWalletAddress){e.next=38;break}return e.prev=27,e.next=30,z.cI.balance({wallet:new Y.Address(this.lpWalletAddress)});case 30:r=e.sent,this.changePoolData("lpWalletBalance",r),e.next=38;break;case 34:e.prev=34,e.t2=e.catch(27),(0,re.vU)("LP Wallet balance error",e.t2),this.changePoolData("lpWalletBalance",void 0);case 38:case"end":return e.stop()}}),e,this,[[3,10],[15,22],[27,34]])}))),function(){return a.apply(this,arguments)})},{key:"syncPoolShare",value:(t=(0,g.Z)(I().mark((function e(){var t,a,n,r,i,s,o,l,c,u,d,m,h,_,E,p;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pairAddress&&this.pairRoots&&this.leftToken&&this.rightToken){e.next=2;break}return e.abrupt("return");case 2:return t=new(Z())(this.leftAmount||0).shiftedBy(this.leftToken.decimals).decimalPlaces(0).toFixed(),a=new(Z())(this.rightAmount||0).shiftedBy(this.rightToken.decimals).decimalPlaces(0).toFixed(),n=this.pairRoots.left.toString()!==this.leftToken.root,r=n?a:t,i=n?t:a,e.prev=7,e.next=10,z.A$.pairExpectedDepositLiquidity(new Y.Address(this.pairAddress),this.isAutoExchangeEnabled,r,i);case 10:c=e.sent,this.changePoolData("share",new(Z())(c.step_1_lp_reward.toString()).plus(new(Z())(c.step_3_lp_reward.toString())).toFixed()),u=null===(s=this.pairBalances)||void 0===s?void 0:s.lp,d=(null===(o=this.pairBalances)||void 0===o?void 0:o.left)||"0",m=(null===(l=this.pairBalances)||void 0===l?void 0:l.right)||"0",this.lpRoot&&void 0!==u?(this.isPoolEmpty?(this.changePoolData("sharePercent","100.0"),this.changePoolData("currentSharePercent","0.0"),this.changePoolData("currentShareLeft","0.0"),this.changePoolData("currentShareRight","0.0"),this.changePoolData("shareChangePercent","100.0")):(this.changePoolData("sharePercent",new(Z())(this.poolShare||0).plus(this.lpWalletBalance||0).multipliedBy(100).dividedBy(new(Z())(u).plus(this.poolShare||0)).decimalPlaces(8,Z().ROUND_DOWN).toFixed()),this.changePoolData("currentSharePercent",new(Z())(this.lpWalletBalance||0).multipliedBy(100).dividedBy(new(Z())(u)).decimalPlaces(8,Z().ROUND_DOWN).toFixed()),void 0!==this.leftToken&&this.changePoolData("currentShareLeft",new(Z())(this.lpWalletBalance||0).times(new(Z())(n?m:d)).dividedBy(new(Z())(u)).decimalPlaces(0,Z().ROUND_DOWN).shiftedBy(-this.leftToken.decimals).toFixed()),void 0!==this.rightToken&&this.changePoolData("currentShareRight",new(Z())(this.lpWalletBalance||"0").times(new(Z())(n?d:m)).dividedBy(new(Z())(u)).decimalPlaces(0,Z().ROUND_DOWN).shiftedBy(-this.rightToken.decimals).toFixed()),this.changePoolData("shareChangePercent",new(Z())(this.sharePercent||0).minus(this.currentSharePercent||0).decimalPlaces(8,Z().ROUND_DOWN).toFixed())),h=new(Z())(c.step_1_left_deposit).plus(c.step_3_left_deposit),_=new(Z())(c.step_1_right_deposit).plus(c.step_3_right_deposit),c.step_2_left_to_right&&(h=h.plus(c.step_2_spent),_=_.minus(c.step_2_received)),c.step_2_right_to_left&&(_=_.plus(c.step_2_spent),h=h.minus(c.step_2_received)),this.changePoolData("leftDeposit",n?_.toFixed():h.toFixed()),this.changePoolData("rightDeposit",n?h.toFixed():_.toFixed()),E=new(Z())(d).plus(this.leftDeposit||0),p=new(Z())(m).plus(this.rightDeposit||0),this.changePoolData("newLeft",E.toFixed()),this.changePoolData("newRight",p.toFixed()),this.leftToken&&this.rightToken&&(this.changePoolData("newLeftPrice",E.shiftedBy(-this.leftToken.decimals).dividedBy(p.shiftedBy(-this.rightToken.decimals)).decimalPlaces(this.leftToken.decimals,Z().ROUND_UP).toFixed()),this.changePoolData("newRightPrice",p.shiftedBy(-this.rightToken.decimals).dividedBy(E.shiftedBy(-this.leftToken.decimals)).decimalPlaces(this.rightToken.decimals,Z().ROUND_UP).toFixed()))):(this.changePoolData("sharePercent",void 0),this.changePoolData("shareChangePercent",void 0),this.changePoolData("currentSharePercent",void 0),this.changePoolData("newLeft",void 0),this.changePoolData("newRight",void 0),this.changePoolData("newLeftPrice",void 0),this.changePoolData("newRightPrice",void 0),this.changePoolData("leftDeposit",void 0),this.changePoolData("rightDeposit",void 0)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),(0,re.vU)("Pool share sync error",e.t0);case 21:case"end":return e.stop()}}),e,this,[[7,18]])}))),function(){return t.apply(this,arguments)})},{key:"reset",value:function(){this.resetData(),this.resetPoolData(),this.resetState()}},{key:"resetData",value:function(){this.data=Q}},{key:"resetPoolData",value:function(){this.pool=J}},{key:"resetState",value:function(){this.state=j}},{key:"isAutoExchangeAvailable",get:function(){return!this.isPoolEmpty&&void 0!==this.leftToken&&void 0!==this.rightToken&&this.step===$.m.DEPOSIT_LIQUIDITY}},{key:"isDexAccountDataAvailable",get:function(){return void 0!==this.dex.address&&void 0!==this.wallet.address&&(void 0!==this.leftToken||void 0!==this.rightToken)}},{key:"isPoolDataAvailable",get:function(){return void 0!==this.pairAddress&&void 0!==this.pairBalances&&void 0!==this.leftToken&&void 0!==this.rightToken&&this.step!==$.m.CHECK_PAIR}},{key:"isPoolShareDataAvailable",get:function(){return void 0!==this.leftToken&&void 0!==this.rightToken&&this.isSupplyComputeReady}},{key:"isSupplyComputeReady",get:function(){return this.isAutoExchangeEnabled?this.isLeftAmountValid||this.isRightAmountValid:this.isLeftAmountValid&&this.isRightAmountValid}},{key:"isSupplyReady",get:function(){return console.log(this.isLeftAmountValid,this.isRightAmountValid,this.isDexLeftBalanceValid,this.isDexRightBalanceValid),this.isAutoExchangeEnabled&&(this.isLeftAmountValid&&0===this.rightAmount.length&&this.isDexLeftBalanceValid||this.isRightAmountValid&&0===this.leftAmount.length&&this.isDexRightBalanceValid)||this.isLeftAmountValid&&this.isRightAmountValid&&this.isDexLeftBalanceValid&&this.isDexRightBalanceValid}},{key:"dexLeftBalance",get:function(){var e,t;return void 0!==this.leftToken&&(null===(e=this.dex.balances)||void 0===e?void 0:e.get(null===(t=this.leftToken)||void 0===t?void 0:t.root))||"0"}},{key:"isDexLeftBalanceValid",get:function(){var e;return!!this.leftToken&&new(Z())(this.leftAmount||0).shiftedBy(null!==(e=this.leftToken.decimals)&&void 0!==e?e:q.p8).lte(this.dexLeftBalance||0)}},{key:"isLeftTokenWithdrawAvailable",get:function(){return void 0!==this.dexLeftBalance&&"0"!==this.dexLeftBalance}},{key:"dexRightBalance",get:function(){var e,t;return void 0!==this.rightToken&&(null===(e=this.dex.balances)||void 0===e?void 0:e.get(null===(t=this.rightToken)||void 0===t?void 0:t.root))||"0"}},{key:"isDexRightBalanceValid",get:function(){var e;return!!this.rightToken&&new(Z())(this.rightAmount||0).shiftedBy(null!==(e=this.rightToken.decimals)&&void 0!==e?e:q.p8).lte(this.dexRightBalance||0)}},{key:"isRightTokenWithdrawAvailable",get:function(){return void 0!==this.dexRightBalance&&"0"!==this.dexRightBalance}},{key:"transaction",get:function(){return this.depositLiquidityReceipt}},{key:"isWithdrawLpAvailable",get:function(){return void 0!==this.lpBalance&&"0"!==this.lpBalance}},{key:"isWithdrawLiquidityAvailable",get:function(){return void 0!==this.lpWalletBalance&&"0"!==this.lpWalletBalance}},{key:"isLeftAmountValid",get:function(){return(0,re.yp)(new(Z())(this.leftAmount||0),!1)}},{key:"isRightAmountValid",get:function(){return(0,re.yp)(new(Z())(this.rightAmount||0),!1)}},{key:"leftAmount",get:function(){return this.data.leftAmount}},{key:"leftToken",get:function(){return void 0!==this.data.leftToken?this.tokensCache.get(this.data.leftToken):void 0}},{key:"rightAmount",get:function(){return this.data.rightAmount}},{key:"rightToken",get:function(){return void 0!==this.data.rightToken?this.tokensCache.get(this.data.rightToken):void 0}},{key:"isAutoExchangeEnabled",get:function(){return this.state.isAutoExchangeEnabled}},{key:"isDepositingLeft",get:function(){return this.state.isDepositingLeft}},{key:"isDepositingLiquidity",get:function(){return this.state.isDepositingLiquidity}},{key:"isDepositingRight",get:function(){return this.state.isDepositingRight}},{key:"isSyncPairBalances",get:function(){return this.state.isSyncPairBalances}},{key:"isSyncPairRoots",get:function(){return this.state.isSyncPairRoots}},{key:"isWithdrawingLeftToken",get:function(){return this.state.isWithdrawingLeft}},{key:"isWithdrawingLiquidity",get:function(){return this.state.isWithdrawingLiquidity}},{key:"isWithdrawingRightToken",get:function(){return this.state.isWithdrawingRight}},{key:"step",get:function(){return this.state.step}},{key:"isPoolEmpty",get:function(){return this.pool.isPoolEmpty}},{key:"lpBalance",get:function(){return this.pool.lpBalance}},{key:"lpDecimals",get:function(){return this.pool.lpDecimals}},{key:"lpRoot",get:function(){return this.pool.lpRoot}},{key:"lpWalletAddress",get:function(){return this.pool.lpWalletAddress}},{key:"lpWalletBalance",get:function(){return this.pool.lpWalletBalance}},{key:"poolShare",get:function(){return this.pool.share}},{key:"sharePercent",get:function(){return this.pool.sharePercent}},{key:"shareChangePercent",get:function(){return this.pool.shareChangePercent}},{key:"currentShareLeft",get:function(){return this.pool.currentShareLeft}},{key:"currentSharePercent",get:function(){return this.pool.currentSharePercent}},{key:"currentShareRight",get:function(){return this.pool.currentShareRight}},{key:"leftPrice",get:function(){return this.pool.leftPrice}},{key:"rightPrice",get:function(){return this.pool.rightPrice}},{key:"newLeftPrice",get:function(){return this.pool.newLeftPrice}},{key:"newRightPrice",get:function(){return this.pool.newRightPrice}},{key:"leftDeposit",get:function(){return this.pool.leftDeposit}},{key:"rightDeposit",get:function(){return this.pool.rightDeposit}},{key:"pair",get:function(){return this.pool.pair}},{key:"pairAddress",get:function(){var e;return null===(e=this.pair)||void 0===e?void 0:e.address}},{key:"pairBalances",get:function(){var e;return null===(e=this.pair)||void 0===e?void 0:e.balances}},{key:"pairRoots",get:function(){var e;return null===(e=this.pair)||void 0===e?void 0:e.roots}}]),e}())((0,ae.O)(),(0,te.mD)(),(0,ee.m)(),(0,ne.Qi)());function fe(){return pe}},15973:(e,t,a)=>{var n;a.d(t,{m:()=>n}),function(e){e.INIT="init",e.CHECK_ACCOUNT="checkAccount",e.CONNECT_ACCOUNT="connectAccount",e.CONNECTING_ACCOUNT="connectingAccount",e.SELECT_PAIR="selectPair",e.CHECK_PAIR="checkPair",e.CREATE_POOL="createPool",e.CREATING_POOL="creatingPool",e.CONNECT_POOL="connectPool",e.CONNECTING_POOL="connectingPool",e.DEPOSIT_LIQUIDITY="depositLiquidity"}(n||(n={}))},97018:(e,t,a)=>{a.d(t,{NW:()=>r,ZL:()=>i,p8:()=>s,W0:()=>o,eA:()=>l,Ss:()=>c});var n=a(7529),r="0:0ee39330eddb680ce731cd6a443c71d9069db06d149a9bec9569d1eb8d04eb37",i="0:751b6e22687891bdc1706c8d91bf77281237f7453d27dc3106c640ec165a2abf",s=18,o={amount:void 0,expectedAmount:void 0,fee:void 0,minExpectedAmount:void 0,priceImpact:void 0},l={bestCrossExchangeRoute:void 0,bill:o,crossPairs:[],leftAmount:"",leftToken:void 0,priceLeftToRight:void 0,priceRightToLeft:void 0,rightAmount:"",rightToken:void 0,routes:[],slippage:"0.5"},c={direction:n.B.LTR,exchangeMode:n.r.DIRECT_EXCHANGE,isCalculating:!1,isConfirmationAwait:!1,isCrossExchangeCalculating:!1,isCrossExchangePreparing:!1,isEnoughLiquidity:!1,isPairChecking:!1,isSwapping:!1,priceDirection:n.B.LTR}},99217:(e,t,a)=>{a.d(t,{g:()=>Be});var n=a(86902),r=a.n(n),i=a(14310),s=a.n(i),o=a(34074),l=a.n(o),c=a(39649),u=a.n(c),d=a(20368),m=a.n(d),h=a(63978),_=a.n(h),E=a(66419),p=a.n(E),f=a(65420),v=a.n(f),T=a(19996),g=a.n(T),A=a(41511),N=a.n(A),L=a(71649),b=a(95266),R=a(33938),k=a(68420),I=a(27344),O=a(44845),S=a(30680),y=a(42424),C=a(2084),P=a.n(C),w=a(80426),D=a.n(w),x=a(3649),M=a.n(x),B=a(77149),U=a.n(B),F=a(77766),G=a.n(F),Z=a(2991),W=a.n(Z),V=a(62462),H=a.n(V),K=a(10062),Y=a.n(K),X=a(93476),q=a.n(X),z=a(97093),Q=a.n(z),j=a(94473),J=a.n(j),$=a(20116),ee=a.n($),te=a(78580),ae=a.n(te),ne=a(78914),re=a.n(ne),ie=a(59340),se=a.n(ie),oe=a(52424),le=a.n(oe),ce=a(63109),ue=a.n(ce),de=a(44431),me=a.n(de),he=a(58019),_e=a(68949),Ee=a(82740),pe=a.n(Ee),fe=a(9588),ve=a(73986),Te=a(97018),ge=a(7529),Ae=a(99899),Ne=a(4142),Le=a(21158),be=a(41120),Re=a(99819);function ke(e,t){var a=void 0!==v()&&g()(e)||e["@@iterator"];if(!a){if(N()(e)||(a=function(e,t){var a;if(e){if("string"==typeof e)return Ie(e,t);var n=M()(a=Object.prototype.toString.call(e)).call(a,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw i}}}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Oe(e,t){var a=r()(e);if(s()){var n=s()(e);t&&(n=ee()(n).call(n,(function(t){return l()(e,t).enumerable}))),a.push.apply(a,n)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)re()(a=Oe(Object(n),!0)).call(a,(function(t){(0,O.Z)(e,t,n[t])}));else if(u())m()(e,u()(n));else{var r;re()(r=Oe(Object(n))).call(r,(function(t){_()(e,t,l()(n,t))}))}}return e}function ye(e,t,a){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,a)}var Ce=new(le()),Pe=new(le()),we=new(le()),De=new(le()),xe=new(le()),Me=new(function(){function e(t,a){(0,k.Z)(this,e),(0,O.Z)(this,"data",Te.eA),(0,O.Z)(this,"state",Te.Ss),(0,O.Z)(this,"transactionReceipt",void 0),(0,O.Z)(this,"api",(0,be.Z)()),ye(this,Ce,{writable:!0,value:void 0}),ye(this,Pe,{writable:!0,value:void 0}),ye(this,we,{writable:!0,value:void 0}),ye(this,De,{writable:!0,value:void 0}),ye(this,xe,{writable:!0,value:void 0}),this.wallet=t,this.tokensCache=a,(0,_e.ky)(this,{changeData:_e.aD.bound,cleanTransactionResult:_e.aD.bound,toggleDirection:_e.aD.bound,toggleSwapExchangeMode:_e.aD.bound,handleSlippageChange:_e.aD.bound,handleTokensChange:_e.aD.bound,handleWalletAccountChange:_e.aD.bound})}var t,a,n,r,i,s,o,l,c,u,d,m,h,_,E,p,f,v,T,g,A,N,C;return(0,I.Z)(e,[{key:"changeData",value:function(e,t){this.data[e]=t}},{key:"changeState",value:function(e,t){this.state[e]=t}},{key:"init",value:(C=(0,R.Z)(ue().mark((function e(){var t,a=this;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=(0,y.Z)(this,xe))||void 0===t||t.call(this),(0,S.Z)(this,xe,(0,_e.U5)((function(){return a.wallet.address}),this.handleWalletAccountChange)),void 0!==this.wallet.account){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.unsubscribeTransactionSubscriber();case 6:return(0,S.Z)(this,Ce,new Ee.Subscriber(pe())),(0,S.Z)(this,we,(0,_e.U5)((function(){return a.data.slippage}),this.handleSlippageChange)),(0,S.Z)(this,De,(0,_e.U5)((function(){return[a.data.leftToken,a.data.rightToken]}),(0,Re.Ds)(this.handleTokensChange,100))),e.prev=9,this.changeData("slippage",Re.tO.get("slippage")||"0.5"),e.next=13,this.handleTokensChange([this.data.leftToken,this.data.rightToken]);case 13:return this.finalizeDirectCalculation(),e.next=16,this.recalculate(!0);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),(0,Re.vU)(e.t0);case 21:case"end":return e.stop()}}),e,this,[[9,18]])}))),function(){return C.apply(this,arguments)})},{key:"dispose",value:(N=(0,R.Z)(ue().mark((function e(){var t,a,n,r=arguments;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(r.length>0&&void 0!==r[0])||r[0],e.next=3,this.unsubscribeTransactionSubscriber();case 3:null===(t=(0,y.Z)(this,De))||void 0===t||t.call(this),a&&(null===(n=(0,y.Z)(this,xe))||void 0===n||n.call(this)),this.cleanTransactionResult(),this.cleanPairUpdatesInterval(),this.reset();case 8:case"end":return e.stop()}}),e,this)}))),function(){return N.apply(this,arguments)})},{key:"swap",value:(A=(0,R.Z)(ue().mark((function e(){var t,a,n,r,i,s,o,l,c,u,d,m,h,_,E=this;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDirectSwapValid){e.next=3;break}return this.changeState("isSwapping",!1),e.abrupt("return");case 3:return o=void 0===(null===(t=this.rightToken)||void 0===t?void 0:t.balance)?"100000000":"0",e.next=6,ve.cI.walletAddress({root:this.leftTokenAddress,owner:this.pair.address});case 6:return l=e.sent,c=new(me())(Math.floor(Math.random()*(P()-1))+1).toFixed(),e.next=10,this.pair.contract.methods.buildExchangePayload({id:c,expected_amount:this.data.bill.minExpectedAmount,deploy_wallet_grams:o}).call({cachedState:(0,_e.ZN)(this.pair.state)});case 10:return u=e.sent,d=u.value0,this.changeState("isSwapping",!0),m=null===(a=(0,y.Z)(this,Ce))||void 0===a?void 0:a.transactions(this.wallet.account.address),h=null===(n=(0,y.Z)(this,Ce))||void 0===n?void 0:n.oldTransactions(this.wallet.account.address,{fromLt:null===(r=this.wallet.contract)||void 0===r||null===(i=r.lastTransactionId)||void 0===i?void 0:i.lt}),void 0!==m&&void 0!==h&&(m=m.merge(h)),_=null===(s=m)||void 0===s?void 0:D()(s).call(s,(function(e){return e.transactions})).filterMap(function(){var e=(0,R.Z)(ue().mark((function e(t){var a,n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(a=E.wallet.walletContractCallbacks)||void 0===a?void 0:a.decodeTransaction({transaction:t,methods:["dexPairExchangeSuccess","dexPairOperationCancelled"]});case 2:if(void 0===(n=e.sent)){e.next=8;break}if("dexPairOperationCancelled"!==n.method||n.input.id.toString()!==c){e.next=6;break}return e.abrupt("return",he.t$({input:n.input}));case 6:if("dexPairExchangeSuccess"!==n.method||n.input.id.toString()!==c){e.next=8;break}return e.abrupt("return",he.F2({input:n.input,transaction:t}));case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).first(),e.prev=17,e.next=20,ve.cI.send({address:new Ee.Address(this.leftToken.wallet),grams:new(me())(25e8).plus(o).toFixed(),owner:this.wallet.account.address,payload:d,recipient:l,tokens:this.data.bill.amount});case 20:if(void 0===_){e.next=26;break}return e.t0=he.EQ((function(e){return E.handleSwapFailure(e)}),(function(e){return E.handleSwapSuccess(e)})),e.next=24,_;case 24:e.t1=e.sent,(0,e.t0)(e.t1);case 26:e.next=32;break;case 28:e.prev=28,e.t2=e.catch(17),(0,Re.vU)("decodeTransaction error: ",e.t2),this.changeState("isSwapping",!1);case 32:case"end":return e.stop()}}),e,this,[[17,28]])}))),function(){return A.apply(this,arguments)})},{key:"crossExchangeSwap",value:(g=(0,R.Z)(ue().mark((function e(){var t,a,n,r,i,s,o,l,c,u,d,m,h,_,E,p,f,v,T,g,A,N,L,b,k,I,O=this;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=null===(t=this.bestCrossExchangeRoute)||void 0===t?void 0:M()(a=t.pairs).call(a).shift(),this.isCrossExchangeSwapValid&&void 0!==(null==h?void 0:h.address)&&void 0!==h.contract){e.next=4;break}return this.changeState("isSwapping",!1),e.abrupt("return");case 4:return _=M()(n=this.bestCrossExchangeRoute.tokens).call(n),E=U()(r=G()(_).call(_,this.rightToken)).call(r,(function(e){return void 0===e.balance}))?"100000000":"0",e.next=8,ve.cI.walletAddress({root:this.leftTokenAddress,owner:h.address});case 8:return p=e.sent,f=new(me())(Math.floor(Math.random()*(P()-1))+1).toFixed(),v=M()(i=this.bestCrossExchangeRoute.steps).call(i),T=null===(s=M()(v).call(v).shift())||void 0===s?void 0:s.minExpectedAmount,g={_answer_id:"0",id:f,expected_amount:T,deploy_wallet_grams:E,steps:W()(o=M()(v).call(v,1,v.length)).call(o,(function(e){return{amount:e.minExpectedAmount,root:e.receiveAddress}}))},e.next=15,h.contract.methods.buildCrossPairExchangePayload(g).call({cachedState:(0,_e.ZN)(h.state)});case 15:return A=e.sent,N=A.value0,this.changeState("isSwapping",!0),L=null===(l=(0,y.Z)(this,Ce))||void 0===l?void 0:l.transactions(this.wallet.account.address),b=null===(c=(0,y.Z)(this,Ce))||void 0===c?void 0:c.oldTransactions(this.wallet.account.address,{fromLt:null===(u=this.wallet.contract)||void 0===u||null===(d=u.lastTransactionId)||void 0===d?void 0:d.lt}),void 0!==L&&void 0!==b&&(L=L.merge(b)),k=W()(v).call(v,(function(e){return{step:e}})),I=null===(m=L)||void 0===m?void 0:D()(m).call(m,(function(e){return e.transactions})).filterMap(function(){var e=(0,R.Z)(ue().mark((function e(t){var a,n,r,i,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(a=O.wallet.walletContractCallbacks)||void 0===a?void 0:a.decodeTransaction({transaction:t,methods:["dexPairExchangeSuccess","dexPairOperationCancelled"]});case 2:if(void 0===(n=e.sent)){e.next=25;break}if("dexPairOperationCancelled"!==n.method||n.input.id.toString()!==f){e.next=13;break}if(k=W()(k).call(k,(function(e){return(0,Ae.hL)(e,t,t.inMessage.src,void 0,"cancel")})),0!==(r=H()(k).call(k,(function(e){return"cancel"===e.status})))){e.next=9;break}return e.abrupt("return",he.t$({}));case 9:if(k=M()(k).call(k,0,r+1),!U()(k).call(k,(function(e){return void 0===e.status}))){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",he.t$({cancelStep:k[r],index:r,step:k[r-1]}));case 13:if("dexPairExchangeSuccess"!==n.method||n.input.id.toString()!==f){e.next=25;break}if(k=W()(k).call(k,(function(e){return(0,Ae.hL)(e,t,t.inMessage.src,n.input.result.received.toString(),"success",n.input)})),!U()(k).call(k,(function(e){return void 0===e.status}))&&0!==k.length){e.next=17;break}return e.abrupt("return",void 0);case 17:if(!(k.length>0&&Y()(k).call(k,(function(e){return"success"===e.status})))){e.next=20;break}return i=M()(k).call(k).pop(),e.abrupt("return",he.F2({input:i.input,transaction:i.transaction}));case 20:if(0!==(s=H()(k).call(k,(function(e){return"cancel"===e.status})))){e.next=23;break}return e.abrupt("return",he.t$({}));case 23:if(!(s>0)){e.next=25;break}return e.abrupt("return",he.t$({cancelStep:k[s],index:s,step:k[s-1]}));case 25:return e.abrupt("return",void 0);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).first(),e.prev=23,e.next=26,ve.cI.send({address:new Ee.Address(this.leftToken.wallet),grams:new(me())(v.length).times(1e9).plus(15e8).plus(E).toFixed(),owner:this.wallet.account.address,payload:N,recipient:p,tokens:this.bestCrossExchangeRoute.bill.amount});case 26:if(void 0===I){e.next=32;break}return e.t0=he.EQ((function(e){return O.handleSwapFailure(e)}),(function(e){return O.handleSwapSuccess(e)})),e.next=30,I;case 30:e.t1=e.sent,(0,e.t0)(e.t1);case 32:e.next=38;break;case 34:e.prev=34,e.t2=e.catch(23),(0,Re.vU)("decodeTransaction error: ",e.t2),this.changeState("isSwapping",!1);case 38:case"end":return e.stop()}}),e,this,[[23,34]])}))),function(){return g.apply(this,arguments)})},{key:"recalculate",value:(T=(0,R.Z)(ue().mark((function e(t){var a;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||!this.isCalculating){e.next=2;break}return e.abrupt("return");case 2:if(void 0!==(null===(a=this.pair)||void 0===a?void 0:a.address)||this.isCrossExchangeAvailable){e.next=8;break}return this.changeData("priceLeftToRight",void 0),this.changeData("priceRightToLeft",void 0),this.changeState("isEnoughLiquidity",!1),(0,Re.fF)("#recalculate reset when no pair",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill)),e.abrupt("return");case 8:if(this.changeState("isEnoughLiquidity",!this.pairLeftBalanceNumber.isZero()&&!this.pairRightBalanceNumber.isZero()),this.direction!==ge.B.LTR){e.next=18;break}if(!this.isLeftAmountValid){e.next=13;break}return e.next=13,this.calculateByLeftAmount(t);case 13:if(!this.isLeftAmountValid||!this.isCrossExchangeAvailable){e.next=16;break}return e.next=16,this.calculateLtrCrossExchangeBill(t);case 16:e.next=25;break;case 18:if(this.direction!==ge.B.RTL){e.next=25;break}if(!this.isRightAmountValid){e.next=22;break}return e.next=22,this.calculateByRightAmount(t);case 22:if(!this.isRightAmountValid||!this.isCrossExchangeAvailable){e.next=25;break}return e.next=25,this.calculateRtlCrossExchangeBill(t);case 25:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)})},{key:"toggleDirection",value:(v=(0,R.Z)(ue().mark((function e(){var t,a,n,r,i,s,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading&&!this.isSwapping){e.next=2;break}return e.abrupt("return");case 2:t=this.data,a=t.leftAmount,n=t.rightAmount,r=t.leftToken,i=t.rightToken,s=t.priceLeftToRight,o=t.priceRightToLeft,this.changeData("priceLeftToRight",o),this.changeData("priceRightToLeft",s),this.changeData("leftToken",i),this.changeData("rightToken",r),this.direction===ge.B.RTL?(this.changeState("direction",ge.B.LTR),this.changeData("leftAmount",n),this.changeData("rightAmount","")):this.direction===ge.B.LTR&&(this.changeState("direction",ge.B.RTL),this.changeData("rightAmount",a),this.changeData("leftAmount","")),this.forceInvalidate();case 9:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"togglePriceDirection",value:function(){this.priceDirection!==ge.B.LTR?this.changeState("priceDirection",ge.B.LTR):this.changeState("priceDirection",ge.B.RTL)}},{key:"toggleSwapExchangeMode",value:function(){this.isCrossExchangeMode||!this.isCrossExchangeAvailable?this.toDirectSwap():this.toCrossExchangeSwap()}},{key:"toCrossExchangeSwap",value:function(){this.changeState("exchangeMode",ge.r.CROSS_PAIR_EXCHANGE)}},{key:"toDirectSwap",value:function(){this.changeState("exchangeMode",ge.r.DIRECT_EXCHANGE)}},{key:"cleanTransactionResult",value:function(){this.transactionReceipt=void 0}},{key:"forceInvalidate",value:function(){this.resetBill(),this.changeData("bestCrossExchangeRoute",void 0),this.finalizeDirectCalculation()}},{key:"handleSlippageChange",value:(f=(0,R.Z)(ue().mark((function e(t,a){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a||!(0,Re.yp)(new(me())(t||0))){e.next=7;break}if(!this.isCrossExchangeMode){e.next=5;break}return this.changeData("bestCrossExchangeRoute",void 0),e.next=5,this.recalculate(!this.isCalculating);case 5:void 0!==this.data.bill.expectedAmount&&this.changeBillData("minExpectedAmount",(0,Ae.qQ)(new(me())(this.data.bill.expectedAmount||0),t).toFixed()),Re.tO.set("slippage",t);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"handleTokensChange",value:(p=(0,R.Z)(ue().mark((function e(){var t,a,n,r,i,s,o,l,c,u,d,m,h,_,E,p,f=arguments;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>0&&void 0!==f[0]?f[0]:[],n=f.length>1&&void 0!==f[1]?f[1]:[],!this.isPairChecking&&!this.isSwapping){e.next=4;break}return e.abrupt("return");case 4:if(r=(0,b.Z)(a,2),i=r[0],s=r[1],o=(0,b.Z)(n,2),l=o[0],c=o[1],d=s!==c,m=i===c&&s===l,h=((u=i!==l)||d)&&!m,i===s&&(d?(_=this.leftAmount,this.changeData("rightAmount",_),this.changeData("leftAmount",""),this.changeState("direction",ge.B.RTL)):u&&(E=this.rightAmount,this.changeData("leftAmount",E),this.changeData("rightAmount",""),this.changeState("direction",ge.B.LTR))),this.forceInvalidate(),(0,Re.fF)("#handleTokensChange reset bill"),m||(this.resetCrossExchangeData(),(0,Re.fF)("#handleTokensChange reset cross-exchange data")),h&&(this.changeData("pair",void 0),(0,Re.fF)("#handleTokensChange change token")),void 0!==i&&void 0!==s){e.next=19;break}return this.changeData("pair",void 0),(0,Re.fF)("#handleTokensChange only one token selected -> reset",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill)),e.abrupt("return");case 19:if(void 0!==this.pair){e.next=32;break}return this.changeState("isPairChecking",!0),e.prev=21,e.next=24,(0,ve.Ov)(i,s);case 24:p=e.sent,this.changeData("pair",void 0!==p?{address:p,contract:new Ee.Contract(ve.iq.Pair,p)}:void 0),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(21),(0,Re.vU)("Check pair error",e.t0),this.changeData("pair",void 0);case 32:if(void 0===(null===(t=this.pair)||void 0===t?void 0:t.address)||m){e.next=46;break}return e.prev=33,this.cleanPairUpdatesInterval(),e.next=37,this.syncPairState();case 37:return e.next=39,q().all([this.syncPairBalances(),this.syncPairData()]);case 39:this.changeState("isEnoughLiquidity",!this.pairLeftBalanceNumber.isZero()&&!this.pairRightBalanceNumber.isZero()),this.finalizeDirectCalculation(),e.next=46;break;case 43:e.prev=43,e.t1=e.catch(33),(0,Re.vU)("Sync pair data error",e.t1);case 46:if(this.changeState("isPairChecking",!1),!h){e.next=51;break}return e.next=50,this.prepareCrossExchange();case 50:(0,Re.fF)("#handleTokensChange prepare cross-exchange");case 51:return e.next=53,this.recalculate(!this.isCalculating);case 53:this.checkCrossExchange(),(0,Re.fF)("#handleTokensChange check cross-exchange",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill));case 55:case"end":return e.stop()}}),e,this,[[21,28],[33,43]])}))),function(){return p.apply(this,arguments)})},{key:"handleWalletAccountChange",value:(E=(0,R.Z)(ue().mark((function e(t){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dispose(!1);case 2:if(void 0===t){e.next=7;break}return e.next=5,this.init();case 5:return e.next=7,this.recalculate(!0);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"handleSwapSuccess",value:(_=(0,R.Z)(ue().mark((function e(t){var a,n,r,i,s,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.input,o=t.transaction,this.transactionReceipt={amount:s.result.received.toString(),hash:o.id.hash,receivedDecimals:this.rightTokenDecimals,receivedIcon:null===(a=this.rightToken)||void 0===a?void 0:a.icon,receivedRoot:null===(n=this.rightToken)||void 0===n?void 0:n.root,receivedSymbol:null===(r=this.rightToken)||void 0===r?void 0:r.symbol,spentAmount:s.result.spent.toString(),spentDecimals:this.leftTokenDecimals,spentFee:s.result.fee.toString(),spentSymbol:null===(i=this.leftToken)||void 0===i?void 0:i.symbol,success:!0},this.changeState("isSwapping",!1),this.changeData("leftAmount",""),this.changeData("rightAmount",""),this.forceInvalidate(),this.isCrossExchangeOnly||this.toDirectSwap(),e.next=9,this.syncPairState();case 9:return e.next=11,this.syncCrossExchangePairsStates();case 11:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"handleSwapFailure",value:function(e){var t,a=e.cancelStep,n=e.index,r=e.step,i=void 0!==(null==a?void 0:a.step.spentAddress)?this.tokensCache.get(a.step.spentAddress.toString()):void 0,s=void 0!==(null==a?void 0:a.step.receiveAddress)?this.tokensCache.get(a.step.receiveAddress.toString()):void 0;this.transactionReceipt={amount:null==r?void 0:r.amount,hash:null==a||null===(t=a.transaction)||void 0===t?void 0:t.id.hash,isCrossExchangeCanceled:void 0!==r,receivedDecimals:null==s?void 0:s.decimals,receivedRoot:null==s?void 0:s.root,receivedSymbol:null==s?void 0:s.symbol,slippage:void 0!==n?(0,Ae.dL)(this.data.slippage,n+1):void 0,spentDecimals:null==i?void 0:i.decimals,spentIcon:null==i?void 0:i.icon,spentRoot:null==i?void 0:i.root,spentSymbol:null==i?void 0:i.symbol,success:!1},this.changeState("isSwapping",!1),this.forceInvalidate(),this.toDirectSwap()}},{key:"calculateByLeftAmount",value:(h=(0,R.Z)(ue().mark((function e(t){var a,n,r,i,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||!this.isCalculating&&void 0!==this.leftToken&&void 0!==this.rightToken){e.next=3;break}return(0,Re.fF)("#calculateByLeftAmount reset before start",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill)),e.abrupt("return");case 3:if(this.changeState("isCalculating",!t),(0,Re.fF)("#calculateByLeftAmount start",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill)),!this.isEnoughLiquidity||!this.isLeftAmountValid||void 0===this.leftTokenAddress){e.next=20;break}if(void 0===(null===(a=this.pair)||void 0===a?void 0:a.contract)){e.next=20;break}return e.prev=7,e.next=10,(0,Ae.ML)(this.pair.contract,this.leftAmountNumber.toFixed()||"0",this.leftTokenAddress,(0,_e.ZN)(this.pair.state));case 10:n=e.sent,r=n.expected_amount,i=n.expected_fee,s=new(me())(r||0),this.changeData("bill",{amount:this.leftAmountNumber.toFixed(),expectedAmount:s.toFixed(),fee:i,minExpectedAmount:(0,Ae.qQ)(s,this.data.slippage).toFixed()}),this.changeData("rightAmount",(0,Re.yp)(s)?s.shiftedBy(-this.rightTokenDecimals).toFixed():""),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:this.finalizeDirectCalculation(),this.changeState("isCalculating",!1),(0,Re.fF)("#calculateByLeftAmount done",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill));case 23:case"end":return e.stop()}}),e,this,[[7,18]])}))),function(e){return h.apply(this,arguments)})},{key:"calculateByRightAmount",value:(m=(0,R.Z)(ue().mark((function e(t){var a,n,r,i,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||!this.isCalculating&&void 0!==this.leftToken&&void 0!==this.rightToken){e.next=3;break}return(0,Re.fF)("#calculateByRightAmount reset before start",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill)),e.abrupt("return");case 3:if(this.changeState("isCalculating",!t),(0,Re.fF)("#calculateByRightAmount start",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill)),this.isEnoughLiquidity&&this.isRightAmountValid&&(this.changeState("isEnoughLiquidity",this.rightAmountNumber.lt(this.isPairInverted?this.pairLeftBalanceNumber:this.pairRightBalanceNumber)),this.isEnoughLiquidity||this.changeData("leftAmount","")),!this.isEnoughLiquidity||!this.isRightAmountValid||void 0===this.rightTokenAddress){e.next=20;break}if(void 0===(null===(a=this.pair)||void 0===a?void 0:a.contract)){e.next=20;break}return e.prev=8,e.next=11,(0,Ae.Cz)(this.pair.contract,this.rightAmountNumber.toFixed(),this.rightTokenAddress,(0,_e.ZN)(this.pair.state));case 11:n=e.sent,r=n.expected_amount,i=n.expected_fee,s=new(me())(r||0),(0,Re.yp)(s)?(this.changeData("bill",{amount:s.toFixed(),expectedAmount:this.rightAmountNumber.toFixed(),fee:i,minExpectedAmount:(0,Ae.qQ)(this.rightAmountNumber,this.data.slippage).toFixed()}),this.changeData("leftAmount",s.shiftedBy(-this.leftTokenDecimals).toFixed())):(this.changeData("leftAmount",""),this.changeData("rightAmount","")),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(8);case 20:this.finalizeDirectCalculation(),this.changeState("isCalculating",!1),(0,Re.fF)("#calculateByRightAmount done",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill));case 23:case"end":return e.stop()}}),e,this,[[8,18]])}))),function(e){return m.apply(this,arguments)})},{key:"finalizeDirectCalculation",value:function(){if(!this.isEnoughLiquidity)return this.changeData("priceLeftToRight",void 0),void this.changeData("priceRightToLeft",void 0);var e=this.isPairInverted?this.pairRightBalanceNumber:this.pairLeftBalanceNumber,t=this.isPairInverted?this.pairLeftBalanceNumber:this.pairRightBalanceNumber,a=(0,Ae.pN)(e.shiftedBy(-this.leftTokenDecimals),t.shiftedBy(-this.rightTokenDecimals),this.leftTokenDecimals),n=(0,Ae.pN)(t.shiftedBy(-this.rightTokenDecimals),e.shiftedBy(-this.leftTokenDecimals),this.rightTokenDecimals);if(!this.isRightAmountValid||void 0===this.data.bill.amount||void 0===this.data.bill.expectedAmount||void 0===this.pair||void 0===this.pair.contract||void 0===this.pair.denominator||void 0===this.pair.numerator)return(0,Re.yp)(a)&&this.changeData("priceLeftToRight",a.toFixed()),void((0,Re.yp)(n)&&this.changeData("priceRightToLeft",n.toFixed()));var r=new(me())(this.data.bill.amount||0),i=new(me())(this.data.bill.expectedAmount||0);a=(0,Ae._u)(r,i,this.rightTokenDecimals),n=(0,Ae._u)(i,r,this.leftTokenDecimals),r=r.times(new(me())(this.pair.denominator).minus(this.pair.numerator)).div(this.pair.denominator),this.changeBillData("priceImpact",(0,Ae.h3)(t.div(e).times(r),i).toFixed()),(0,Re.yp)(a)&&this.changeData("priceLeftToRight",a.toFixed()),(0,Re.yp)(n)&&this.changeData("priceRightToLeft",n.toFixed())}},{key:"changeBillData",value:function(e,t){this.data.bill[e]=t}},{key:"unsubscribeTransactionSubscriber",value:(d=(0,R.Z)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(0,y.Z)(this,Ce)){e.next=10;break}return e.prev=1,e.next=4,(0,y.Z)(this,Ce).unsubscribe();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),(0,Re.vU)("Transaction unsubscribe error",e.t0);case 9:(0,S.Z)(this,Ce,void 0);case 10:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return d.apply(this,arguments)})},{key:"cleanPairUpdatesInterval",value:function(){void 0!==(0,y.Z)(this,Pe)&&(clearInterval((0,y.Z)(this,Pe)),(0,S.Z)(this,Pe,void 0))}},{key:"reset",value:function(){this.forceInvalidate(),this.resetCrossExchangeData(),this.resetData(),this.resetState()}},{key:"resetBill",value:function(){this.data.bill=Te.W0}},{key:"resetData",value:function(){this.data=Se(Se({},Te.eA),{},{slippage:Re.tO.get("slippage")||"0.5",leftToken:this.data.leftToken,rightToken:this.data.rightToken})}},{key:"resetState",value:function(){this.state=Te.Ss}},{key:"syncPairData",value:(u=(0,R.Z)(ue().mark((function e(){var t,a,n,r,i,s,o,l,c;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(t=this.pair)||void 0===t?void 0:t.contract)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,q().all([this.pair.contract.methods.getTokenRoots({_answer_id:0}).call({cachedState:(0,_e.ZN)(this.pair.state)}),this.pair.contract.methods.getFeeParams({_answer_id:0}).call({cachedState:(0,_e.ZN)(this.pair.state)})]);case 4:a=e.sent,n=(0,b.Z)(a,2),r=n[0],i=r.left,s=r.right,o=n[1],l=o.denominator,c=o.numerator,this.changeData("pair",Se(Se({},this.pair),{},{denominator:l,numerator:c,roots:{left:i,right:s}}));case 13:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"syncPairBalances",value:(c=(0,R.Z)(ue().mark((function e(){var t,a,n,r,i;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(t=this.pair)||void 0===t?void 0:t.contract)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,q().all([this.pair.contract.methods.left_balance({}).call({cachedState:(0,_e.ZN)(this.pair.state)}),this.pair.contract.methods.right_balance({}).call({cachedState:(0,_e.ZN)(this.pair.state)})]);case 5:a=e.sent,n=(0,b.Z)(a,2),r=n[0].left_balance,i=n[1].right_balance,this.changeData("pair",Se(Se({},this.pair),{},{balances:{left:r,right:i}})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),(0,Re.vU)(e.t0);case 15:case"end":return e.stop()}}),e,this,[[2,12]])}))),function(){return c.apply(this,arguments)})},{key:"syncPairState",value:(l=(0,R.Z)(ue().mark((function e(){var t,a,n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(t=this.pair)||void 0===t?void 0:t.address)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pe().getFullContractState({address:this.pair.address});case 4:a=e.sent,n=a.state,this.changeData("pair",Se(Se({},this.pair),{},{state:n}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"calculateLtrCrossExchangeBill",value:(o=(0,R.Z)(ue().mark((function e(t){var a,n,r,i,s,o,l,c,u,d,m,h,_,E,p=this;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.leftToken&&void 0!==this.rightToken&&this.isLeftAmountValid){e.next=2;break}return e.abrupt("return");case 2:if(t||!this.isCrossExchangeCalculating){e.next=4;break}return e.abrupt("return");case 4:return this.changeState("isCrossExchangeCalculating",!t),(0,Re.fF)("#calculateLtrCrossExchangeBill invalidate routes",(0,_e.ZN)(this.data.bestCrossExchangeRoute),(0,_e.ZN)(this.data.bill)),e.next=8,(0,R.Z)(ue().mark((function e(){var t,a,n,r,i,s,o,l,c,u,d,m,h,_,E,f,v,T,g,A;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=ke(p.routes),e.prev=2,a.s();case 4:if((n=a.n()).done){e.next=59;break}r=n.value,i=Se({},r),s=p.getRouteTokensMap(i.tokens,!0),i.bill.amount=p.leftAmountNumber.toFixed(),i.bill.expectedAmount=p.leftAmountNumber.toFixed(),i.bill.minExpectedAmount=p.leftAmountNumber.toFixed(),i.pairs=[],i.steps=[],o=ke(s),e.prev=14,o.s();case 16:if((l=o.n()).done){e.next=48;break}if(c=l.value,u=c.idx,d=c.token,!(u+1<s.length)){e.next=46;break}if(m=s[u+1].token,void 0!==(null==(h=p.getRouteStepPair(d.root,m.root))?void 0:h.address)){e.next=23;break}return e.abrupt("break",48);case 23:return void 0===h.contract&&(h.contract=new Ee.Contract(ve.iq.Pair,h.address)),i.pairs.push(h),_=new Ee.Address(d.root),e.prev=26,e.next=29,q().all([(0,Ae.ML)(h.contract,i.bill.expectedAmount,_,(0,_e.ZN)(h.state)),(0,Ae.ML)(h.contract,i.bill.minExpectedAmount,_,(0,_e.ZN)(h.state))]);case 29:E=e.sent,f=(0,b.Z)(E,2),v=f[0],T=v.expected_amount,g=v.expected_fee,A=f[1].expected_amount,i.bill.minExpectedAmount=(0,Ae.qQ)(new(me())(A||0),p.data.slippage).toFixed(),i.steps.push({amount:i.bill.expectedAmount,expectedAmount:T,fee:g,from:d.symbol,minExpectedAmount:i.bill.minExpectedAmount,pair:h,receiveAddress:new Ee.Address(m.root),spentAddress:_,to:m.symbol}),i.bill.expectedAmount=T,e.next=46;break;case 40:e.prev=40,e.t0=e.catch(26),i.bill={},i.pairs=[],i.steps=[],(0,Re.vU)("Get expected amounts error",e.t0,i,d);case 46:e.next=16;break;case 48:e.next=53;break;case 50:e.prev=50,e.t1=e.catch(14),o.e(e.t1);case 53:return e.prev=53,o.f(),e.finish(53);case 56:t.push(i);case 57:e.next=4;break;case 59:e.next=64;break;case 61:e.prev=61,e.t2=e.catch(2),a.e(e.t2);case 64:return e.prev=64,a.f(),e.finish(64);case 67:p.changeData("routes",t);case 68:case"end":return e.stop()}}),e,null,[[2,61,64,67],[14,50,53,56],[26,40]])})))();case 8:a=this.data.bestCrossExchangeRoute&&Se({},this.data.bestCrossExchangeRoute),n=void 0!==(null==a?void 0:a.bill.amount)?new(me())(a.bill.amount||0):this.leftAmountNumber,r=n.gt(this.leftAmountNumber),i=new(me())(this.data.bill.expectedAmount||0),s=new(me())(r?0:(null==a?void 0:a.bill.expectedAmount)||0),this.changeData("bestCrossExchangeRoute",void 0),l=ke(this.routes),e.prev=15,l.s();case 17:if((c=l.n()).done){e.next=25;break}if(0!==(u=c.value).steps.length){e.next=21;break}return e.abrupt("break",25);case 21:(d=new(me())(u.bill.expectedAmount||0)).gt(i)&&d.gt(s)&&(m={},h=(0,Ae._u)(this.leftAmountNumber.shiftedBy(-this.leftTokenDecimals),d.shiftedBy(-this.rightTokenDecimals),this.leftTokenDecimals),(0,Re.yp)(h)&&(m.priceLeftToRight=h.toFixed()),_=(0,Ae._u)(d.shiftedBy(-this.rightTokenDecimals),this.leftAmountNumber.shiftedBy(-this.leftTokenDecimals),this.rightTokenDecimals),(0,Re.yp)(_)&&(m.priceRightToLeft=_.toFixed()),E=(0,Ae.o0)(this.leftAmountNumber,this.leftToken,u.pairs),o=Se(Se(Se({},u),m),{},{bill:Se(Se({},u.bill),{},{expectedAmount:d.toFixed(),fee:(0,Ae.K8)(u.steps).toFixed(),priceImpact:(0,Ae.S7)(E,d).toFixed()}),leftAmount:this.leftAmountNumber.shiftedBy(-this.leftTokenDecimals).toFixed(),rightAmount:d.shiftedBy(-this.rightTokenDecimals).toFixed(),slippage:(0,Ae.dL)(this.data.slippage,u.steps.length)}),s=d);case 23:e.next=17;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(15),l.e(e.t0);case 30:return e.prev=30,l.f(),e.finish(30);case 33:this.changeData("bestCrossExchangeRoute",o),void 0===o&&this.toDirectSwap(),this.changeState("isCrossExchangeCalculating",!1),(0,Re.fF)("#calculateLtrCrossExchangeBill done",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill));case 37:case"end":return e.stop()}}),e,this,[[15,27,30,33]])}))),function(e){return o.apply(this,arguments)})},{key:"calculateRtlCrossExchangeBill",value:(s=(0,R.Z)(ue().mark((function e(t){var a,n,r,i,s,o,l,c,u,d,m,h,_,E,p,f,v=this;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.leftToken&&void 0!==this.rightToken&&this.isRightAmountValid){e.next=2;break}return e.abrupt("return");case 2:if(t||!this.isCrossExchangeCalculating){e.next=4;break}return e.abrupt("return");case 4:return this.changeState("isCrossExchangeCalculating",!t),(0,Re.fF)("#calculateRtlCrossExchangeBill invalidate routes",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill)),a=[],e.next=9,(0,R.Z)(ue().mark((function e(){var t,n,r,i,s,o,l,c,u,d,m,h,_,E,p,f,T;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=ke(v.routes),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=53;break}i=r.value,s=Se({},i),o=v.getRouteTokensMap(s.tokens,!1),s.bill.expectedAmount=v.rightAmountNumber.toFixed(),s.pairs=[],s.steps=[],l=ke(o),e.prev=12,l.s();case 14:if((c=l.n()).done){e.next=42;break}if(u=c.value,d=u.idx,m=u.token,!(d+1<o.length)){e.next=40;break}if(h=o[d+1].token,void 0!==(null==(_=v.getRouteStepPair(m.root,h.root))?void 0:_.address)){e.next=21;break}return e.abrupt("break",42);case 21:return void 0===_.contract&&(_.contract=new Ee.Contract(ve.iq.Pair,_.address)),s.pairs.unshift(_),E=new Ee.Address(m.root),e.prev=24,e.next=27,(0,Ae.Cz)(_.contract,0===d?s.bill.expectedAmount:s.bill.amount,E,(0,_e.ZN)(_.state));case 27:p=e.sent,f=p.expected_amount,T=p.expected_fee,s.steps.unshift({amount:f,expectedAmount:0===d?s.bill.expectedAmount:s.bill.amount,fee:T,from:h.symbol,minExpectedAmount:0===d?s.bill.expectedAmount:s.bill.amount,pair:_,receiveAddress:E,spentAddress:new Ee.Address(h.root),to:m.symbol}),s.bill.amount=f,e.next=40;break;case 34:e.prev=34,e.t0=e.catch(24),s.bill={},s.pairs=[],s.steps=[],(0,Re.vU)("Get expected spend amounts error",e.t0,s,m);case 40:e.next=14;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(12),l.e(e.t1);case 47:return e.prev=47,l.f(),e.finish(47);case 50:t.push(s);case 51:e.next=4;break;case 53:e.next=58;break;case 55:e.prev=55,e.t2=e.catch(2),n.e(e.t2);case 58:return e.prev=58,n.f(),e.finish(58);case 61:a=t;case 62:case"end":return e.stop()}}),e,null,[[2,55,58,61],[12,44,47,50],[24,34]])})))();case 9:return(0,Re.fF)("#calculateRtlCrossExchangeBill first iteration",(0,_e.ZN)(Se(Se({},this.data),{},{routes:a})),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill)),e.next=12,(0,R.Z)(ue().mark((function e(){var t,n,r,i,s,o,l,c,u,d,m,h,_,E,p;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=ke(a),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=42;break}s=r.value,o=Se({},s),l=W()(i=o.steps).call(i,(function(e,t){return{idx:t,step:e}})),c=ke(l),e.prev=9,c.s();case 11:if((u=c.n()).done){e.next=31;break}if(m=u.value,h=m.idx,_=m.step,void 0!==(null===(d=_.pair)||void 0===d?void 0:d.address)){e.next=15;break}return e.abrupt("break",31);case 15:return void 0===_.pair.contract&&(_.pair.contract=new Ee.Contract(ve.iq.Pair,_.pair.address)),e.prev=16,e.next=19,(0,Ae.ML)(_.pair.contract,0===h?o.bill.amount:o.bill.minExpectedAmount,_.spentAddress,(0,_e.ZN)(_.pair.state));case 19:E=e.sent,p=E.expected_amount,o.bill.minExpectedAmount=(0,Ae.qQ)(new(me())(p||0),v.data.slippage).toFixed(),_.expectedAmount=p,_.minExpectedAmount=o.bill.minExpectedAmount,e.next=29;break;case 26:e.prev=26,e.t0=e.catch(16),(0,Re.vU)("Get reverted min expected amount error",e.t0);case 29:e.next=11;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(9),c.e(e.t1);case 36:return e.prev=36,c.f(),e.finish(36);case 39:t.push(o);case 40:e.next=4;break;case 42:e.next=47;break;case 44:e.prev=44,e.t2=e.catch(2),n.e(e.t2);case 47:return e.prev=47,n.f(),e.finish(47);case 50:a=t;case 51:case"end":return e.stop()}}),e,null,[[2,44,47,50],[9,33,36,39],[16,26]])})))();case 12:n=this.data.bestCrossExchangeRoute&&Se({},this.data.bestCrossExchangeRoute),r=void 0!==(null==n?void 0:n.bill.amount)?new(me())(n.bill.amount||0):this.rightAmountNumber,i=r.gte(this.rightAmountNumber),s=new(me())(this.data.bill.amount||0),o=new(me())(i?0:(null==n?void 0:n.bill.amount)||0),this.changeData("bestCrossExchangeRoute",void 0),c=ke(a),e.prev=19,c.s();case 21:if((u=c.n()).done){e.next=29;break}if(0!==(d=u.value).steps.length){e.next=25;break}return e.abrupt("break",29);case 25:m=new(me())(d.bill.amount||0),(!this.isEnoughLiquidity||s.isZero()&&m.gt(0)||s.gt(m)&&(o.isZero()||o.gt(m)))&&(_={},E=(0,Ae._u)(m.shiftedBy(-this.leftTokenDecimals),this.rightAmountNumber.shiftedBy(-this.rightTokenDecimals),this.leftTokenDecimals),(0,Re.yp)(E)&&(_.priceLeftToRight=E.toFixed()),p=(0,Ae._u)(this.rightAmountNumber.shiftedBy(-this.rightTokenDecimals),m.shiftedBy(-this.leftTokenDecimals),this.rightTokenDecimals),(0,Re.yp)(p)&&(_.priceRightToLeft=p.toFixed()),f=(0,Ae.o0)(m,this.leftToken,d.pairs),l=Se(Se(Se({},d),_),{},{bill:Se(Se({},d.bill),{},{amount:m.toFixed(),fee:(0,Ae.K8)(d.steps).toFixed(),priceImpact:(0,Ae.S7)(f,this.rightAmountNumber).toFixed()}),leftAmount:m.shiftedBy(-this.leftTokenDecimals).toFixed(),rightAmount:this.rightAmountNumber.shiftedBy(-this.rightTokenDecimals).toFixed(),slippage:(0,Ae.dL)(this.data.slippage,d.steps.length)}),o=new(me())((null===(h=l)||void 0===h?void 0:h.bill.minExpectedAmount)||0));case 27:e.next=21;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(19),c.e(e.t0);case 34:return e.prev=34,c.f(),e.finish(34);case 37:this.changeData("routes",a),this.changeData("bestCrossExchangeRoute",l),void 0===l&&this.toDirectSwap(),this.changeState("isCrossExchangeCalculating",!1),(0,Re.fF)("#calculateRtlCrossExchangeBill done",(0,_e.ZN)(this.data),(0,_e.ZN)(this.state),(0,_e.ZN)(this.data.bill));case 42:case"end":return e.stop()}}),e,this,[[19,31,34,37]])}))),function(e){return s.apply(this,arguments)})},{key:"getRouteTokensMap",value:function(e,t){var a;if(void 0===this.leftToken||void 0===this.rightToken)return[];var n=G()(a=[this.leftToken]).call(a,(0,L.Z)(M()(e).call(e)),[this.rightToken]);return t||Q()(n).call(n),W()(n).call(n,(function(e,t){return{idx:t,token:e}}))}},{key:"getRouteStepPair",value:function(e,t){var a;return J()(a=this.data.crossPairs).call(a,(function(a){var n=a.roots,r=null==n?void 0:n.left.toString(),i=null==n?void 0:n.right.toString();return e===r&&t===i||e===i&&t===r}))}},{key:"checkCrossExchange",value:function(){void 0===this.pair&&this.isCrossExchangeAvailable?this.changeState("exchangeMode",ge.r.CROSS_PAIR_EXCHANGE):this.isEnoughLiquidity&&void 0!==this.pair||!this.isCrossExchangeAvailable||this.isCrossExchangeMode||this.changeState("exchangeMode",ge.r.CROSS_PAIR_EXCHANGE)}},{key:"prepareCrossExchange",value:(i=(0,R.Z)(ue().mark((function e(){var t,a,n,r,i,s,o,l,c,u,d,m,h,_,E,p,f,v,T,g=this;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isCrossExchangePreparing&&!this.isSwapping&&void 0!==this.leftToken&&void 0!==this.rightToken){e.next=2;break}return e.abrupt("return");case 2:return this.changeState("isCrossExchangePreparing",!0),e.prev=3,e.next=6,this.loadCrossPairs();case 6:l=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),(0,Re.vU)("Load cross-pairs error",e.t0);case 12:if(void 0!==l){e.next=15;break}return this.changeState("isCrossExchangePreparing",!1),e.abrupt("return");case 15:return c=l,u=(0,b.Z)(c,2),d=u[0],m=u[1],h=ee()(t=d.pairs).call(t,(function(e){var t=e.tvl;return new(me())(t).dp(0,me().ROUND_DOWN).gte(1e5)})),_=ee()(a=m.pairs).call(a,(function(e){var t=e.tvl;return new(me())(t).dp(0,me().ROUND_DOWN).gte(1e5)})),E=ee()(n=W()(r=G()(i=[]).call(i,(0,L.Z)(h),(0,L.Z)(_))).call(r,(function(e){var t,a,n=e.meta,r={address:new Ee.Address(n.poolAddress),contract:new Ee.Contract(ve.iq.Pair,new Ee.Address(n.poolAddress)),decimals:{left:Te.p8,right:Te.p8},roots:{left:new Ee.Address(n.baseAddress),right:new Ee.Address(n.counterAddress)},symbols:{left:n.base,right:n.counter}};if(void 0!==(null===(t=r.roots)||void 0===t?void 0:t.left)&&void 0!==(null===(a=r.roots)||void 0===a?void 0:a.right)){var i,s,o=g.tokensCache.get(n.baseAddress);r.decimals.left=null!==(i=null==o?void 0:o.decimals)&&void 0!==i?i:Te.p8;var l=g.tokensCache.get(n.counterAddress);r.decimals.right=null!==(s=null==l?void 0:l.decimals)&&void 0!==s?s:Te.p8}return r}))).call(n,(function(e){var t,a,n;return(null===(t=e.address)||void 0===t?void 0:t.toString())!==(null===(a=g.pair)||void 0===a||null===(n=a.address)||void 0===n?void 0:n.toString())})),this.changeData("crossPairs",E),e.next=22,this.syncCrossExchangePairsStates();case 22:return e.next=24,this.syncCrossExchangePairs();case 24:return e.next=26,this.syncCrossExchangePairsBalances();case 26:return p=W()(h).call(h,(function(e){var t=e.meta;return[t.baseAddress,t.counterAddress]})),f=W()(_).call(_,(function(e){var t=e.meta;return[t.baseAddress,t.counterAddress]})),v=ee()(s=Ae.jV.apply(void 0,G()(o=(0,L.Z)(p)).call(o,(0,L.Z)(f)))).call(s,(function(e){var t,a,n;return!ae()(t=[null===(a=g.leftToken)||void 0===a?void 0:a.root,null===(n=g.rightToken)||void 0===n?void 0:n.root]).call(t,e)})),T=[],e.prev=30,e.next=33,(0,R.Z)(ue().mark((function e(){var t,a,n,r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ke(fe.ax),e.prev=1,t.s();case 3:if((a=t.n()).done){e.next=13;break}if(n=a.value,!ae()(v).call(v,n)){e.next=11;break}if(void 0===(r=g.tokensCache.get(n))){e.next=11;break}return e.next=10,g.tokensCache.syncToken(r.root);case 10:T.push({bill:{},leftAmount:g.leftAmount,pairs:[],rightAmount:g.rightAmount,steps:[],tokens:[r]});case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})))();case 33:e.next=37;break;case 35:e.prev=35,e.t1=e.catch(30);case 37:return e.prev=37,this.changeData("routes",T),this.changeState("isCrossExchangePreparing",!1),e.finish(37);case 41:case"end":return e.stop()}}),e,this,[[3,9],[30,35,37,41]])}))),function(){return i.apply(this,arguments)})},{key:"syncCrossExchangePairs",value:(r=(0,R.Z)(ue().mark((function e(){var t=this;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.Z)(ue().mark((function e(){var a,n,r,i,s,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ke(t.data.crossPairs),e.prev=1,a.s();case 3:if((n=a.n()).done){e.next=17;break}if(void 0!==(r=n.value).address){e.next=7;break}return e.abrupt("break",17);case 7:return void 0===r.contract&&(r.contract=new Ee.Contract(ve.iq.Pair,r.address)),e.next=10,r.contract.methods.getFeeParams({_answer_id:0}).call({cachedState:(0,_e.ZN)(r.state)});case 10:i=e.sent,s=i.denominator,o=i.numerator,r.denominator=s,r.numerator=o;case 15:e.next=3;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,19,22,25]])})))();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,Re.vU)("Sync cross exchange pairs error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),function(){return r.apply(this,arguments)})},{key:"syncCrossExchangePairsBalances",value:(n=(0,R.Z)(ue().mark((function e(){var t=this;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.Z)(ue().mark((function e(){var a,n,r,i,s,o,l;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ke(t.data.crossPairs),e.prev=1,a.s();case 3:if((n=a.n()).done){e.next=17;break}if(void 0!==(r=n.value).address){e.next=7;break}return e.abrupt("break",17);case 7:return void 0===r.contract&&(r.contract=new Ee.Contract(ve.iq.Pair,r.address)),e.next=10,q().all([r.contract.methods.left_balance({}).call({cachedState:(0,_e.ZN)(r.state)}),r.contract.methods.right_balance({}).call({cachedState:(0,_e.ZN)(r.state)})]);case 10:i=e.sent,s=(0,b.Z)(i,2),o=s[0].left_balance,l=s[1].right_balance,r.balances={left:o,right:l};case 15:e.next=3;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,19,22,25]])})))();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,Re.vU)("Sync cross exchange pairs balances error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),function(){return n.apply(this,arguments)})},{key:"syncCrossExchangePairsStates",value:(a=(0,R.Z)(ue().mark((function e(){var t,a,n,r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=M()(t=this.data.crossPairs).call(t),n=W()(a).call(a,(function(e){return pe().getFullContractState({address:e.address})})),e.next=5,q().all(n);case 5:r=e.sent,re()(r).call(r,(function(e,t){var n=e.state;a[t]=Se(Se({},a[t]),{},{state:n})})),this.changeData("crossPairs",a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,Re.vU)("Sync cross exchange pairs states error",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return a.apply(this,arguments)})},{key:"loadCrossPairs",value:(t=(0,R.Z)(ue().mark((function e(){var t,a=this;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.leftToken&&void 0!==this.rightToken){e.next=2;break}return e.abrupt("return",void 0);case 2:return t=function(e){return a.api.crossPairs({},{body:se()({fromCurrencyAddress:e,toCurrencyAddresses:fe.ax})})},e.prev=3,e.next=6,q().all([t(this.leftToken.root),t(this.rightToken.root)]);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),(0,Re.vU)("Load selected tokens cross-pairs error",e.t0),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return t.apply(this,arguments)})},{key:"resetCrossExchangeData",value:function(){this.changeData("bestCrossExchangeRoute",void 0),this.changeData("crossPairs",[]),this.changeData("routes",[])}},{key:"invalidateCrossExchangeRoutes",value:function(){var e;this.changeData("routes",W()(e=this.routes).call(e,(function(e){return Se(Se({},e),{},{bill:{},leftAmount:"",pairs:[],rightAmount:"",slippage:"",steps:[]})})))}},{key:"isLeftAmountValid",get:function(){return(0,Re.yp)(this.leftAmountNumber)}},{key:"isRightAmountValid",get:function(){return(0,Re.yp)(this.rightAmountNumber)}},{key:"isCrossExchangeAvailable",get:function(){return this.routes.length>0}},{key:"isCrossExchangeOnly",get:function(){return(void 0===this.pair||!this.isEnoughLiquidity)&&this.isCrossExchangeAvailable}},{key:"isCrossExchangeMode",get:function(){return this.exchangeMode===ge.r.CROSS_PAIR_EXCHANGE}},{key:"isCrossExchangeSwapValid",get:function(){var e,t,a,n,r,i;return this.isCrossExchangeAvailable&&void 0!==(null===(e=this.wallet.account)||void 0===e?void 0:e.address)&&void 0!==(null===(t=this.leftToken)||void 0===t?void 0:t.wallet)&&void 0!==this.leftTokenAddress&&new(me())((null===(a=this.bestCrossExchangeRoute)||void 0===a?void 0:a.bill.amount)||0).gt(0)&&new(me())((null===(n=this.bestCrossExchangeRoute)||void 0===n?void 0:n.bill.expectedAmount)||0).gt(0)&&new(me())((null===(r=this.bestCrossExchangeRoute)||void 0===r?void 0:r.bill.minExpectedAmount)||0).gt(0)&&new(me())(this.leftToken.balance||0).gte((null===(i=this.bestCrossExchangeRoute)||void 0===i?void 0:i.bill.amount)||0)}},{key:"isDirectSwapValid",get:function(){var e,t,a,n;return this.isEnoughLiquidity&&void 0!==(null===(e=this.wallet.account)||void 0===e?void 0:e.address)&&void 0!==(null===(t=this.pair)||void 0===t?void 0:t.address)&&void 0!==(null===(a=this.pair)||void 0===a?void 0:a.contract)&&void 0!==(null===(n=this.leftToken)||void 0===n?void 0:n.wallet)&&void 0!==this.leftTokenAddress&&new(me())(this.data.bill.amount||0).gt(0)&&new(me())(this.data.bill.expectedAmount||0).gt(0)&&new(me())(this.data.bill.minExpectedAmount||0).gt(0)&&new(me())(this.leftToken.balance||0).gte(this.data.bill.amount||0)}},{key:"isLoading",get:function(){return this.isCalculating||this.isCrossExchangeCalculating||this.isPairChecking}},{key:"isPairInverted",get:function(){var e,t,a;return(null===(e=this.pair)||void 0===e||null===(t=e.roots)||void 0===t?void 0:t.left.toString())!==(null===(a=this.leftToken)||void 0===a?void 0:a.root)}},{key:"leftTokenDecimals",get:function(){var e,t;return null!==(e=null===(t=this.leftToken)||void 0===t?void 0:t.decimals)&&void 0!==e?e:Te.p8}},{key:"rightTokenDecimals",get:function(){var e,t;return null!==(e=null===(t=this.rightToken)||void 0===t?void 0:t.decimals)&&void 0!==e?e:Te.p8}},{key:"pairLeftBalanceNumber",get:function(){var e,t;return new(me())((null===(e=this.pair)||void 0===e||null===(t=e.balances)||void 0===t?void 0:t.left)||"0")}},{key:"pairRightBalanceNumber",get:function(){var e,t;return new(me())((null===(e=this.pair)||void 0===e||null===(t=e.balances)||void 0===t?void 0:t.right)||"0")}},{key:"leftAmountNumber",get:function(){return new(me())(this.leftAmount).shiftedBy(this.leftTokenDecimals).dp(0,me().ROUND_DOWN)}},{key:"rightAmountNumber",get:function(){return new(me())(this.rightAmount).shiftedBy(this.rightTokenDecimals).dp(0,me().ROUND_DOWN)}},{key:"leftTokenAddress",get:function(){var e,t;return void 0!==(null===(e=this.leftToken)||void 0===e?void 0:e.root)?new Ee.Address(null===(t=this.leftToken)||void 0===t?void 0:t.root):void 0}},{key:"rightTokenAddress",get:function(){var e,t;return void 0!==(null===(e=this.rightToken)||void 0===e?void 0:e.root)?new Ee.Address(null===(t=this.rightToken)||void 0===t?void 0:t.root):void 0}},{key:"crossExchangeLeftAmount",get:function(){var e;return(null===(e=this.bestCrossExchangeRoute)||void 0===e?void 0:e.leftAmount)||""}},{key:"crossExchangeRightAmount",get:function(){var e;return(null===(e=this.bestCrossExchangeRoute)||void 0===e?void 0:e.rightAmount)||""}},{key:"crossExchangeSlippage",get:function(){var e;if(void 0!==(null===(e=this.bestCrossExchangeRoute)||void 0===e?void 0:e.slippage))return(0,Ae.dL)(this.data.slippage,this.bestCrossExchangeRoute.steps.length)}},{key:"amount",get:function(){var e;return this.isCrossExchangeMode?null===(e=this.bestCrossExchangeRoute)||void 0===e?void 0:e.bill.amount:this.data.bill.amount}},{key:"fee",get:function(){var e;return this.isCrossExchangeMode?null===(e=this.bestCrossExchangeRoute)||void 0===e?void 0:e.bill.fee:this.data.bill.fee}},{key:"minExpectedAmount",get:function(){var e;return this.isCrossExchangeMode?null===(e=this.bestCrossExchangeRoute)||void 0===e?void 0:e.bill.minExpectedAmount:this.data.bill.minExpectedAmount}},{key:"priceImpact",get:function(){var e;return this.isCrossExchangeMode?null===(e=this.bestCrossExchangeRoute)||void 0===e?void 0:e.bill.priceImpact:this.data.bill.priceImpact}},{key:"priceLeftToRight",get:function(){var e;return this.isCrossExchangeMode?null===(e=this.bestCrossExchangeRoute)||void 0===e?void 0:e.priceLeftToRight:this.data.priceLeftToRight}},{key:"priceRightToLeft",get:function(){var e;return this.isCrossExchangeMode?null===(e=this.bestCrossExchangeRoute)||void 0===e?void 0:e.priceRightToLeft:this.data.priceRightToLeft}},{key:"bestCrossExchangeRoute",get:function(){return this.data.bestCrossExchangeRoute}},{key:"leftAmount",get:function(){return this.data.leftAmount}},{key:"leftToken",get:function(){return void 0!==this.data.leftToken?this.tokensCache.get(this.data.leftToken):void 0}},{key:"pair",get:function(){return this.data.pair}},{key:"routes",get:function(){return this.data.routes}},{key:"rightAmount",get:function(){return this.data.rightAmount}},{key:"rightToken",get:function(){return void 0!==this.data.rightToken?this.tokensCache.get(this.data.rightToken):void 0}},{key:"slippage",get:function(){return this.data.slippage}},{key:"direction",get:function(){return this.state.direction}},{key:"exchangeMode",get:function(){return this.state.exchangeMode}},{key:"isCalculating",get:function(){return this.state.isCalculating}},{key:"isCrossExchangeCalculating",get:function(){return this.state.isCrossExchangeCalculating}},{key:"isCrossExchangePreparing",get:function(){return this.state.isCrossExchangePreparing}},{key:"isEnoughLiquidity",get:function(){return this.state.isEnoughLiquidity}},{key:"isConfirmationAwait",get:function(){return this.state.isConfirmationAwait}},{key:"isPairChecking",get:function(){return this.state.isPairChecking}},{key:"isSwapping",get:function(){return this.state.isSwapping}},{key:"priceDirection",get:function(){return this.state.priceDirection}},{key:"transaction",get:function(){return this.transactionReceipt}}]),e}())((0,Le.O)(),(0,Ne.mD)());function Be(){return Me}},7529:(e,t,a)=>{var n,r;a.d(t,{r:()=>n,B:()=>r}),function(e){e.CROSS_PAIR_EXCHANGE="crossPair",e.DIRECT_EXCHANGE="direct"}(n||(n={})),function(e){e.LTR="ltr",e.RTL="rtl"}(r||(r={}))},99899:(e,t,a)=>{a.d(t,{hL:()=>F,ML:()=>G,Cz:()=>W,pN:()=>H,_u:()=>K,h3:()=>Y,qQ:()=>X,dL:()=>q,K8:()=>z,o0:()=>Q,S7:()=>j,jV:()=>J});var n=a(86902),r=a.n(n),i=a(14310),s=a.n(i),o=a(34074),l=a.n(o),c=a(39649),u=a.n(c),d=a(20368),m=a.n(d),h=a(63978),_=a.n(h),E=a(95266),p=a(71649),f=a(33938),v=a(44845),T=a(63109),g=a.n(T),A=a(38018),N=a.n(A),L=a(32366),b=a.n(L),R=a(77766),k=a.n(R),I=a(78914),O=a.n(I),S=a(2991),y=a.n(S),C=a(20116),P=a.n(C),w=a(26295),D=a.n(w),x=a(44431),M=a.n(x);function B(e,t){var a=r()(e);if(s()){var n=s()(e);t&&(n=P()(n).call(n,(function(t){return l()(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)O()(a=B(Object(n),!0)).call(a,(function(t){(0,v.Z)(e,t,n[t])}));else if(u())m()(e,u()(n));else{var r;O()(r=B(Object(n))).call(r,(function(t){_()(e,t,l()(n,t))}))}}return e}function F(e,t,a,n,r,i){var s;return(null===(s=e.step.pair.address)||void 0===s?void 0:s.toString())===(null==a?void 0:a.toString())&&void 0===e.status?U(U({},e),{},{amount:n,input:i,status:r,transaction:t}):e}function G(e,t,a,n){return Z.apply(this,arguments)}function Z(){return(Z=(0,f.Z)(g().mark((function e(t,a,n,r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.expectedExchange({_answer_id:0,amount:a,spent_token_root:n}).call({cachedState:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,a,n){return V.apply(this,arguments)}function V(){return(V=(0,f.Z)(g().mark((function e(t,a,n,r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.expectedSpendAmount({_answer_id:0,receive_amount:a,receive_token_root:n}).call({cachedState:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,a){return e.div(t).dp(a,M().ROUND_UP).shiftedBy(a)}function K(e,t,a){return e.div(t).shiftedBy(a).dp(0,M().ROUND_DOWN)}function Y(e,t){return t.minus(e).div(e).abs().times(100).dp(2,M().ROUND_UP)}function X(e,t){return e.div(100).times(new(M())(100).minus(t)).dp(0,M().ROUND_DOWN)}function q(e,t){return new(M())(100).plus(e).div(100).exponentiatedBy(t).minus(1).times(100).toFixed()}function z(e){return N()(e).call(e,(function(e,t,a,n){var r,i;return e.plus(t.fee).times((null===(r=n[a-1])||void 0===r?void 0:r.amount)||1).div((null===(i=n[a-1])||void 0===i?void 0:i.expectedAmount)||1)}),new(M())(0)).dp(0,M().ROUND_DOWN)}function Q(e,t,a){var n=t.root;return b()(a).call(a,(function(e,t){var a,r,i,s,o,l,c;if(void 0===t.denominator||void 0===t.numerator||void 0===(null===(a=t.balances)||void 0===a?void 0:a.left)||void 0===(null===(r=t.balances)||void 0===r?void 0:r.right)||void 0===(null===(i=t.decimals)||void 0===i?void 0:i.left)||void 0===(null===(s=t.decimals)||void 0===s?void 0:s.right))return e;var u,d,m=(null===(o=t.roots)||void 0===o?void 0:o.left.toString())!==n,h=new(M())(t.balances.left),_=new(M())(t.balances.right);return n=m?null===(l=t.roots)||void 0===l?void 0:l.left.toString():null===(c=t.roots)||void 0===c?void 0:c.right.toString(),e.times((u=t.denominator,d=t.numerator,new(M())(u).minus(d).div(u))).times(m?h:_).div(m?_:h)}),e)}function j(e,t){return new(M())(e.minus(t)).div(e).times(100).dp(2,M().ROUND_UP)}function J(){for(var e,t,a={},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=b()(r).call(r,(function(e,t){return k()(e).apply(e,(0,p.Z)(t))}),[]);return O()(s).call(s,(function(e){void 0!==a[e]?a[e]+=1:a[e]=1})),y()(e=P()(t=D()(a)).call(t,(function(e){var t=(0,E.Z)(e,2);return t[0],t[1]>1}))).call(e,(function(e){return(0,E.Z)(e,1)[0]}))}},42496:(e,t,a)=>{a.d(t,{QP:()=>o,P8:()=>l,VP:()=>c});var n=a(68420),r=a(27344),i=a(5977),s=function(){function e(t){(0,n.Z)(this,e),this.path=t}return(0,r.Z)(e,[{key:"makeUrl",value:function(e){return(0,i.Gn)(this.path,e)}}]),e}(),o={pairs:new s("/pairs"),crossPairs:new s("/pairs/cross_pairs"),pair:new s("/pairs/address/:address([0][:][0-9a-f]{64})?"),pairOhlcv:new s("/pairs/address/:address([0][:][0-9a-f]{64})?/ohlcv"),pairTvl:new s("/pairs/address/:address([0][:][0-9a-f]{64})?/tvl"),pairVolume:new s("/pairs/address/:address([0][:][0-9a-f]{64})?/volume"),transactions:new s("/transactions"),currencies:new s("/currencies"),currency:new s("/currencies/:address"),currencyPrices:new s("/currencies/:address/prices"),currencyVolume:new s("/currencies/:address/volume"),currencyTvl:new s("/currencies/:address/tvl")},l={transactions:new s("/transactions"),farmingPools:new s("/farming_pools"),farmingPool:new s("/farming_pools/:address"),graphicTvl:new s("/graphic/tvl"),graphicApr:new s("/graphic/apr")},c={swap:new s("/swap/:leftTokenRoot([0][:][0-9a-f]{64})?/:rightTokenRoot([0][:][0-9a-f]{64})?"),poolList:new s("/pools"),poolRemoveLiquidity:new s("/pools/burn-liquidity/:leftTokenRoot([0][:][0-9a-f]{64})?/:rightTokenRoot([0][:][0-9a-f]{64})?"),poolItem:new s("/pools/:address([0][:][0-9a-f]{64})?"),poolCreate:new s("/pool/:leftTokenRoot([0][:][0-9a-f]{64})?/:rightTokenRoot([0][:][0-9a-f]{64})?"),tokenList:new s("/tokens"),tokenItem:new s("/tokens/:address([0][:][0-9a-f]{64})?"),pairList:new s("/pairs"),pairItem:new s("/pairs/:poolAddress"),auction:new s("/donation/auction/:id"),farming:new s("/farming"),farmingItem:new s("/farming/:address"),farmingCreate:new s("/farming/create"),builder:new s("/builder"),builderCreate:new s("/builder/create"),builderItem:new s("/builder/:tokenRoot"),donation:new s("/donation")}},68470:(e,t,a)=>{a.d(t,{m:()=>S});var n=a(33938),r=a(68420),i=a(27344),s=a(44845),o=a(42424),l=a(30680),c=a(93476),u=a.n(c),d=a(94198),m=a.n(d),h=a(31581),_=a.n(h),E=a(52424),p=a.n(E),f=a(63109),v=a.n(f),T=a(68949),g=a(82740),A=a(73986),N=a(21158),L=a(99819);function b(e,t,a){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,a)}var R={address:void 0,balances:void 0,wallets:void 0},k=new(p()),I=new(p()),O=new(function(){function e(t){var a=this;(0,r.Z)(this,e),(0,s.Z)(this,"data",R),b(this,k,{writable:!0,value:void 0}),b(this,I,{writable:!0,value:void 0}),this.wallet=t,(0,T.ky)(this),(0,l.Z)(this,k,(0,T.U5)((function(){return a.wallet.address}),(function(){a.data=R})))}var t,a,c,d,h,E,p,f,N,O;return(0,i.Z)(e,[{key:"connect",value:(O=(0,n.Z)(v().mark((function e(){var t,a=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,A.Aq)(this.wallet.address);case 4:t=e.sent,(0,T.z)((function(){a.data.address=t}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return O.apply(this,arguments)})},{key:"create",value:(N=(0,n.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",A.A$.createAccount(new g.Address(this.wallet.address)));case 3:case"end":return e.stop()}}),e,this)}))),function(){return N.apply(this,arguments)})},{key:"connectOrCreate",value:(f=(0,n.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.connect();case 4:if(this.address){e.next=7;break}return e.next=7,this.create();case 7:return e.next=9,this.connect();case 9:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"checkConnect",value:(p=(0,n.Z)(v().mark((function e(){var t,a=this,r=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:6e4,e.abrupt("return",(0,L.GR)(new(u())((function(e,t){var r=(0,L.Ds)((0,n.Z)(v().mark((function n(){return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a.isConnected){n.next=3;break}return e(),n.abrupt("return");case 3:return n.prev=3,n.next=6,a.connect();case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(3),t(n.t0);case 11:return n.prev=11,r(),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[3,8,11,14]])}))),5e3);r()})),t));case 2:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"connectAndSync",value:(E=(0,n.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.connect();case 4:if(this.address){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.sync();case 8:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"sync",value:(h=(0,n.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncNonce();case 2:return e.next=4,this.syncBalances();case 4:return e.next=6,this.syncWallets();case 6:this.runBalancesUpdater();case 7:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"syncBalances",value:(d=(0,n.Z)(v().mark((function e(){var t,a=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.account&&this.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,A.A$.accountBalances(new g.Address(this.address));case 4:t=e.sent,(0,T.z)((function(){a.data.balances=t}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"syncNonce",value:(c=(0,n.Z)(v().mark((function e(){var t,a=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,A.A$.accountNonce(new g.Address(this.address));case 4:t=e.sent,(0,T.z)((function(){a.data.nonce=(m()(t,10)+1).toString()}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"syncWallets",value:(a=(0,n.Z)(v().mark((function e(){var t,a=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.account&&this.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,A.A$.accountWallets(new g.Address(this.address));case 4:t=e.sent,(0,T.z)((function(){a.data.wallets=t}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"withdrawToken",value:(t=(0,n.Z)(v().mark((function e(t,a){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.address&&this.address&&t&&a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,A.A$.withdrawAccountTokens(new g.Address(this.address),new g.Address(t),new g.Address(this.wallet.address),a);case 4:case"end":return e.stop()}}),e,this)}))),function(e,a){return t.apply(this,arguments)})},{key:"getAccountWallet",value:function(e){var t;if(e)return null===(t=this.wallets)||void 0===t?void 0:t.get(e)}},{key:"getBalance",value:function(e){var t;return null===(t=this.balances)||void 0===t?void 0:t.get(e.toString())}},{key:"address",get:function(){return this.data.address}},{key:"balances",get:function(){return this.data.balances}},{key:"nonce",get:function(){return this.data.nonce}},{key:"wallets",get:function(){return this.data.wallets}},{key:"isConnected",get:function(){return Boolean(this.address)}},{key:"stopBalancesUpdater",value:function(){void 0!==(0,o.Z)(this,I)&&(clearInterval((0,o.Z)(this,I)),(0,l.Z)(this,I,void 0))}},{key:"runBalancesUpdater",value:function(){var e=this;this.stopBalancesUpdater(),(0,l.Z)(this,I,_()((0,n.Z)(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.syncBalances();case 2:case"end":return t.stop()}}),t)}))),5e3))}}]),e}())((0,N.O)());function S(){return O}},37030:(e,t,a)=>{a.d(t,{Qi:()=>B});var n=a(95266),r=a(71649),i=a(68420),s=a(27344),o=a(44845),l=a(94473),c=a.n(l),u=a(77766),d=a.n(u),m=a(62462),h=a.n(m),_=a(92762),E=a.n(_),p=a(59340),f=a.n(p),v=a(32366),T=a.n(v),g=a(26295),A=a.n(g),N=a(41511),L=a.n(N),b=a(20116),R=a.n(b),k=a(81643),I=a.n(k),O=a(2991),S=a.n(O),y=a(47302),C=a.n(y),P=a(68949),w=a(21158),D=a(99819),x=function(){function e(t,a,n){var r=this;(0,i.Z)(this,e),(0,o.Z)(this,"state",{data:{}}),this.storage=t,this.wallet=a,this.storageKey=n,this.syncWithStorage(),(0,P.ky)(this),window.addEventListener("storage",(function(e){e.key===r.storageKey&&r.syncWithStorage()}))}return(0,s.Z)(e,[{key:"has",value:function(e){if(!this.wallet.address)return!1;var t=this.state.data[this.wallet.address];return!!t&&Boolean(c()(t).call(t,(function(t){return t.address===e})))}},{key:"add",value:function(e,t){var a;if(this.wallet.address&&!this.has(e)){var n={name:t,address:e};this.state.data[this.wallet.address]=this.state.data[this.wallet.address]?d()(a=[]).call(a,(0,r.Z)(this.state.data[this.wallet.address]),[n]):[n],this.saveToStorage()}}},{key:"remove",value:function(e){var t,a;if(this.wallet.address&&this.has(e)){var n=h()(t=this.state.data[this.wallet.address]).call(t,(function(t){return t.address===e}));E()(a=this.state.data[this.wallet.address]).call(a,n,1),this.saveToStorage()}}},{key:"toggle",value:function(e,t){this.has(e)?this.remove(e):this.add(e,t)}},{key:"saveToStorage",value:function(){var e=f()(this.state.data);this.storage.set(this.storageKey,e)}},{key:"syncWithStorage",value:function(){this.state.data=this.readFromStorage()}},{key:"readFromStorage",value:function(){var e=this.storage.get(this.storageKey);if(!e)return{};try{var t,a=JSON.parse(e);return(0,D.Kn)(a)?T()(t=A()(a)).call(t,(function(e,t){var a=(0,n.Z)(t,2),r=a[0],i=a[1];return L()(i)&&(e[r]=R()(i).call(i,(function(e){return(0,D.Kn)(e)&&(!e.name||(0,D.HD)(e.name))&&(0,D.HD)(e.address)}))),e}),{}):{}}catch(e){(0,D.vU)(e)}return{}}},{key:"filterData",value:function(t){if(!this.wallet.address)return[];var a=this.state.data[this.wallet.address]||[],n=t?R()(a).call(a,(function(e){var a,n=e.name;return n&&I()(a=n.toLocaleLowerCase()).call(a,t)>-1})):a;return e.sortByName(n)}},{key:"count",get:function(){return this.wallet.address?(this.state.data[this.wallet.address]||[]).length:0}},{key:"data",get:function(){return this.wallet.address&&this.state.data[this.wallet.address]||[]}},{key:"addresses",get:function(){var e=this.data;return S()(e).call(e,(function(e){return e.address}))}},{key:"isConnected",get:function(){return this.wallet.isConnected}}],[{key:"sortByName",value:function(e){return C()(e).call(e,(function(e,t){return e.name?t.name?e.name<t.name?-1:e.name>t.name?1:0:-1:1}))}}]),e}(),M=new x(D.tO,(0,w.O)(),"favorite_pairs"),B=(new x(D.tO,(0,w.O)(),"favorite_farmings"),function(){return M})},4142:(e,t,a)=>{a.d(t,{DS:()=>le,mD:()=>me});var n=a(86902),r=a.n(n),i=a(14310),s=a.n(i),o=a(34074),l=a.n(o),c=a(39649),u=a.n(c),d=a(20368),m=a.n(d),h=a(63978),_=a.n(h),E=a(95266),p=a(33938),f=a(68420),v=a(27344),T=a(44845),g=a(42424),A=a(30680),N=a(39392),L=a.n(N),b=a(2991),R=a.n(b),k=a(78914),I=a.n(k),O=a(93476),S=a.n(O),y=a(20116),C=a.n(y),P=a(3649),w=a.n(P),D=a(62462),x=a.n(D),M=a(78580),B=a.n(M),U=a(59340),F=a.n(U),G=a(81643),Z=a.n(G),W=a(11128),V=a.n(W),H=a(77766),K=a.n(H),Y=a(52424),X=a.n(Y),q=a(63109),z=a.n(q),Q=a(79068),j=a(68949),J=a(82740),$=a.n(J),ee=a(73986),te=a(84255),ae=a(21158),ne=a(99819);function re(e,t){var a=r()(e);if(s()){var n=s()(e);t&&(n=C()(n).call(n,(function(t){return l()(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)I()(a=re(Object(n),!0)).call(a,(function(t){(0,T.Z)(e,t,n[t])}));else if(u())m()(e,u()(n));else{var r;I()(r=re(Object(n))).call(r,(function(t){_()(e,t,l()(n,t))}))}}return e}function se(e,t,a){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,a)}var oe="imported_tokens";function le(){return JSON.parse(ne.tO.get(oe)||"[]")}var ce=new(X()),ue=new(X()),de=new(function(){function e(t,a){var n=this;(0,f.Z)(this,e),(0,T.Z)(this,"data",{tokens:[]}),se(this,ce,{writable:!0,value:void 0}),se(this,ue,{writable:!0,value:void 0}),this.wallet=t,this.tokensList=a,(0,j.ky)(this),(0,j.U5)((function(){return[n.tokensList.time,n.wallet.address]}),function(){var e=(0,p.Z)(z().mark((function e(t,a){var r,i,s,o,l,c;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,E.Z)(t,2),i=r[0],s=r[1],o=(0,E.Z)(a,2),l=o[0],c=o[1],i===l&&s===c){e.next=5;break}return e.next=5,n.build();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),{delay:100}),(0,A.Z)(this,ce,new(L())),(0,A.Z)(this,ue,new Q.Mutex)}var t,a,n,r,i,s,o,l;return(0,v.Z)(e,[{key:"build",value:(l=(0,p.Z)(z().mark((function e(){var t,a,n,r,i,s=this;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.tokensList.tokens.length){e.next=2;break}return e.abrupt("return");case 2:if(this.data.tokens=null===(t=this.tokensList)||void 0===t?void 0:R()(a=t.tokens).call(a,(function(e){return{balance:void 0,decimals:e.decimals,icon:e.logoURI,isUpdating:!1,isUpdatingWalletAddress:!1,name:e.name,root:e.address,symbol:e.symbol,updatedAt:-1,wallet:void 0}})),!((n=le()).length>0)){e.next=10;break}return I()(n).call(n,(function(e){s.add({root:e})})),e.next=8,S().all(R()(n).call(n,(function(e){return ee.cI.getTokenData(e)})));case 8:i=e.sent,I()(r=C()(i).call(i,(function(e){return void 0!==e}))).call(r,(function(e){(0,j.z)((function(){var t;s.data.tokens=R()(t=s.data.tokens).call(t,(function(t){return t.root===e.root?ie(ie({},t),e):t}))}))}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"_byRoot",get:function(){var e,t={};return I()(e=this.tokens).call(e,(function(e){t[e.root]=e})),t}},{key:"tokens",get:function(){return this.data.tokens}},{key:"roots",get:function(){var e;return R()(e=this.tokens).call(e,(function(e){return e.root}))}},{key:"get",value:function(e){return this._byRoot[e]}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"add",value:function(e){var t,a=w()(t=this.tokens).call(t),n=x()(a).call(a,(function(t){return t.root===e.root}));n>-1?a[n]=ie(ie({},a[n]),e):a.push(e),this.data.tokens=a}},{key:"update",value:function(e,t,a){var n=this.get(e);void 0!==n&&(n[t]=a)}},{key:"import",value:function(e){try{var t=le();B()(t).call(t,e.root)||(t.push(e.root),ne.tO.set(oe,F()(t))),this.add(e)}catch(e){(0,ne.vU)("Can't import token",e)}}},{key:"fetchIfNotExist",value:(o=(0,p.Z)(z().mark((function e(t){var a;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=this.get(t))){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ee.cI.getTokenData(t);case 5:(a=e.sent)&&this.add(a);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"search",value:(s=(0,p.Z)(z().mark((function e(t){var a,n,r;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=C()(a=this.tokens).call(a,(function(e){var a,n,r,i,s,o,l,c,u,d,m,h;return(null===(a=e.symbol)||void 0===a||null===(n=a.toLowerCase)||void 0===n?void 0:Z()(r=n.call(a)).call(r,null==t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t)))>-1||(null===(s=e.name)||void 0===s||null===(o=s.toLowerCase)||void 0===o?void 0:Z()(l=o.call(s)).call(l,null==t||null===(c=t.toLowerCase)||void 0===c?void 0:c.call(t)))>-1||(null===(u=e.root)||void 0===u||null===(d=u.toLowerCase)||void 0===d?void 0:Z()(m=d.call(u)).call(m,null==t||null===(h=t.toLowerCase)||void 0===h?void 0:h.call(t)))>-1})),0!==n.length||!(0,ee.NX)(t)){e.next=11;break}return e.prev=2,e.next=5,ee.cI.getTokenData(t);case 5:void 0!==(r=e.sent)&&n.push(r),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return s.apply(this,arguments)})},{key:"syncToken",value:(i=(0,p.Z)(z().mark((function e(t,a){var n;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.wallet.address){e.next=2;break}return e.abrupt("return");case 2:if(void 0!==(n=this.get(t))&&(a||!(n.isUpdating||V()()-n.updatedAt<6e4))){e.next=5;break}return e.abrupt("return");case 5:if(this.update(t,"isUpdating",!0),void 0!==n.wallet||n.isUpdatingWalletAddress){e.next=16;break}return e.prev=7,e.next=10,this.updateTokenWalletAddress(t);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),(0,ne.vU)("Sync token wallet address error",e.t0),this.update(t,"wallet",void 0);case 16:if(void 0===n.wallet){e.next=26;break}return e.prev=17,e.next=20,this.updateTokenBalance(t);case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(17),(0,ne.vU)("Sync token balance error",e.t1),this.update(t,"balance",void 0);case 26:this.update(t,"updatedAt",V()()),this.update(t,"isUpdating",!1);case 28:case"end":return e.stop()}}),e,this,[[7,12],[17,22]])}))),function(e,t){return i.apply(this,arguments)})},{key:"watch",value:(r=(0,p.Z)(z().mark((function e(t,a){var n,r,i,s=this;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.wallet.address){e.next=2;break}return e.abrupt("return");case 2:if(void 0!==(n=this.get(t))){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,this.syncToken(t);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(5);case 12:if(void 0===n.wallet){e.next=16;break}return i=K()(r="".concat(a,"-")).call(r,t),e.next=16,(0,g.Z)(this,ue).use((0,p.Z)(z().mark((function e(){var a,r,o,l;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(0,g.Z)(s,ce).get(i)&&void 0!==n.wallet){e.next=3;break}return e.abrupt("return");case 3:return o=new J.Address(n.wallet),e.next=6,$().subscribe("contractStateChanged",{address:o});case 6:l=e.sent.on("data",function(){var e=(0,p.Z)(z().mark((function e(a){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,ne.fF)("%cTON Provider%c The token's `contractStateChanged` event was captured","font-weight: bold; background: #4a5772; color: #fff; border-radius: 2px; padding: 3px 6.5px","color: #c5e4f3",a),e.next=3,s.syncToken(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,g.Z)(s,ce).set(i,l),(0,ne.fF)(K()(a=K()(r="%cTON Provider%c Subscribe to a token %c".concat(n.symbol,"%c wallet (%c")).call(r,n.wallet,"%c) balance updates.\n               Key: (")).call(a,i,")"),"font-weight: bold; background: #4a5772; color: #fff; border-radius: 2px; padding: 3px 6.5px","color: #c5e4f3","color: #bae701","color: #c5e4f3","color: #bae701","color: #c5e4f3");case 9:case"end":return e.stop()}}),e)}))));case 16:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e,t){return r.apply(this,arguments)})},{key:"unwatch",value:(n=(0,p.Z)(z().mark((function e(t,a){var n,r,i,s=this;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.wallet.address){e.next=2;break}return e.abrupt("return");case 2:if(void 0!==(r=this.get(t))){e.next=5;break}return e.abrupt("return");case 5:return i=K()(n="".concat(a,"-")).call(n,r.root),e.next=8,(0,g.Z)(this,ue).use((0,p.Z)(z().mark((function e(){var t,a,n;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,g.Z)(s,ce).get(i),e.prev=1,e.next=4,null==n?void 0:n.unsubscribe();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),(0,ne.vU)("Cannot unsubscribe from token balance update",e.t0);case 9:(0,g.Z)(s,ce).delete(i),(0,ne.fF)(K()(t=K()(a="%cTON Provider%c Unsubscribe to a token %c".concat(r.symbol,"%c wallet (%c")).call(a,r.wallet,"%c) balance updates.\n                Key: (")).call(t,i,")"),"font-weight: bold; background: #4a5772; color: #fff; border-radius: 2px; padding: 3px 6.5px","color: #c5e4f3","color: #bae701","color: #c5e4f3","color: #bae701","color: #c5e4f3");case 11:case"end":return e.stop()}}),e,null,[[1,6]])}))));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"updateTokenBalance",value:(a=(0,p.Z)(z().mark((function e(t){var a,n,r;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&void 0!==(null===(a=this.wallet.account)||void 0===a?void 0:a.address)){e.next=2;break}return e.abrupt("return");case 2:if(void 0!==(n=this.get(t))&&void 0!==n.wallet){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,ee.cI.balance({wallet:new J.Address(n.wallet)});case 8:r=e.sent,this.update(t,"balance",r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),(0,ne.vU)("Token balance update error",e.t0),this.update(t,"balance",void 0);case 16:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(e){return a.apply(this,arguments)})},{key:"updateTokenWalletAddress",value:(t=(0,p.Z)(z().mark((function e(t){var a,n,r;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&void 0!==(null===(a=this.wallet.account)||void 0===a?void 0:a.address)){e.next=2;break}return e.abrupt("return");case 2:if(void 0!==(n=this.get(t))){e.next=5;break}return e.abrupt("return");case 5:if(void 0!==n.wallet){e.next=20;break}return this.update(t,"isUpdatingWalletAddress",!0),e.prev=7,e.next=10,ee.cI.walletAddress({owner:this.wallet.account.address,root:new J.Address(n.root)});case 10:r=e.sent,this.update(t,"wallet",r.toString()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),(0,ne.vU)("Token wallet address update error",e.t0);case 17:return e.prev=17,this.update(t,"isUpdatingWalletAddress",!1),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[7,14,17,20]])}))),function(e){return t.apply(this,arguments)})}]),e}())((0,ae.O)(),(0,te.s)());function me(){return de}},84255:(e,t,a)=>{a.d(t,{s:()=>m});var n=a(68420),r=a(27344),i=a(44845),s=a(94473),o=a.n(s),l=a(68949),c=a(73986),u=a(99819),d=new(function(){function e(t){(0,n.Z)(this,e),(0,i.Z)(this,"data",{tokens:[]}),(0,i.Z)(this,"state",{isFetching:!1}),(0,l.ky)(this),this.fetch(t)}return(0,r.Z)(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=this;this.isFetching||(this.state.isFetching=!0,fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(a){(0,l.z)((function(){t.data.tokens=a.tokens,t.state={isFetching:!1,time:(new Date).getTime(),uri:e}}))})).catch((function(e){(0,u.vU)("Cannot load token list",e),(0,l.z)((function(){t.state.isFetching=!1}))})))}))},{key:"getUri",value:function(e){var t,a;return null===(t=o()(a=this.data.tokens).call(a,(function(t){return t.address===e})))||void 0===t?void 0:t.logoURI}},{key:"isFetching",get:function(){return this.state.isFetching}},{key:"time",get:function(){return this.state.time}},{key:"tokens",get:function(){return this.data.tokens}}]),e}())(c.ac.TokenListURI);function m(){return d}},21158:(e,t,a)=>{a.d(t,{O:()=>L});var n=a(33938),r=a(68420),i=a(27344),s=a(44845),o=a(42424),l=a(30680),c=a(52424),u=a.n(c),d=a(63109),m=a.n(d),h=a(68949),_=a(82740),E=a.n(_),p=a(21015),f=a(99819),v=a(73986);var T={account:void 0,balance:"0",contract:void 0,transaction:void 0},g={hasProvider:!1,isConnecting:!1,isInitialized:!1,isInitializing:!1},A=new(u()),N=new(function(){function e(){var t,a,n,i=this;(0,r.Z)(this,e),(0,s.Z)(this,"data",T),(0,s.Z)(this,"state",g),n={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,a=A),a.set(t,n),(0,l.Z)(this,A,void 0),(0,h.ky)(this,{connect:h.aD.bound,disconnect:h.aD.bound}),(0,h.U5)((function(){return i.data.contract}),(function(e){i.data.balance=(null==e?void 0:e.balance)||"0"})),(0,h.U5)((function(){return i.data.account}),(function(e,t){var a,n;(null==t||null===(a=t.address)||void 0===a?void 0:a.toString())!==(null==e||null===(n=e.address)||void 0===n?void 0:n.toString())?i.handleAccountChange(e).then((function(){(0,h.z)((function(){i.state.isConnecting=!1}))})):i.state.isConnecting=!1})),this.init().catch((function(e){(0,f.vU)("Wallet init error",e),(0,h.z)((function(){i.state.isConnecting=!1}))}))}var t,a,c,u;return(0,i.Z)(e,[{key:"init",value:(u=(0,n.Z)(m().mark((function e(){var t,a=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,h.z)((function(){a.state.isInitializing=!0})),e.next=3,(0,_.hasTonProvider)();case 3:if(t=e.sent){e.next=7;break}return(0,h.z)((function(){a.state.isInitializing=!1,a.state.hasProvider=!1})),e.abrupt("return");case 7:return(0,h.z)((function(){a.state.hasProvider=t})),e.next=10,E().ensureInitialized();case 10:return(0,h.z)((function(){a.state.isInitializing=!1,a.state.isInitialized=!0,a.state.isConnecting=!0})),e.next=13,E().subscribe("permissionsChanged");case 13:return e.sent.on("data",(function(e){(0,h.z)((function(){a.data.account=e.permissions.accountInteraction}))})),e.next=17,E().getProviderState();case 17:if(void 0!==e.sent.permissions.accountInteraction){e.next=21;break}return(0,h.z)((function(){a.state.isConnecting=!1})),e.abrupt("return");case 21:return(0,h.z)((function(){a.state.isConnecting=!0})),e.next=24,(0,p.ZS)();case 24:(0,h.z)((function(){a.state.isConnecting=!1}));case 25:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"connect",value:(c=(0,n.Z)(m().mark((function e(){var t,a=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnecting){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,_.hasTonProvider)();case 4:return t=e.sent,(0,h.z)((function(){a.state.hasProvider=t,a.state.isConnecting=!0})),e.prev=6,e.next=9,(0,p.ZS)();case 9:(0,h.z)((function(){a.state.isConnecting=!1})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),(0,f.vU)("Wallet connect error",e.t0),(0,h.z)((function(){a.state.isConnecting=!1}));case 16:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(){return c.apply(this,arguments)})},{key:"disconnect",value:(a=(0,n.Z)(m().mark((function e(){var t=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnecting){e.next=2;break}return e.abrupt("return");case 2:return this.state.isConnecting=!0,e.prev=3,e.next=6,E().disconnect();case 6:this.reset(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),(0,f.vU)("Wallet disconnect error",e.t0),(0,h.z)((function(){t.state.isConnecting=!1}));case 13:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return a.apply(this,arguments)})},{key:"cancelConnecting",value:function(){this.state.isConnecting=!1}},{key:"reset",value:function(){this.data=T,this.state.isConnecting=!1}},{key:"handleAccountChange",value:(t=(0,n.Z)(m().mark((function e(t){var a,n,r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(0,o.Z)(this,A)){e.next=11;break}if(void 0===t){e.next=10;break}return e.prev=2,e.next=5,(0,o.Z)(this,A).unsubscribe();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),(0,f.vU)(e.t0);case 10:(0,l.Z)(this,A,void 0);case 11:if(void 0!==t){e.next=13;break}return e.abrupt("return");case 13:return e.prev=13,e.next=16,E().getFullContractState({address:t.address});case 16:a=e.sent,n=a.state,(0,h.z)((function(){r.data.contract=n})),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(13),(0,f.vU)(e.t1);case 24:return e.prev=24,e.t2=l.Z,e.t3=this,e.t4=A,e.next=30,E().subscribe("contractStateChanged",{address:t.address});case 30:e.t5=e.sent,(0,e.t2)(e.t3,e.t4,e.t5),(0,o.Z)(this,A).on("data",(function(e){(0,f.fF)("%cTON Provider%c The wallet's `contractStateChanged` event was captured","font-weight: bold; background: #4a5772; color: #fff; border-radius: 2px; padding: 3px 6.5px","color: #c5e4f3",e),(0,h.z)((function(){r.data.contract=e.state}))})),e.next=39;break;case 35:e.prev=35,e.t6=e.catch(24),(0,f.vU)(e.t6),(0,l.Z)(this,A,void 0);case 39:case"end":return e.stop()}}),e,this,[[2,7],[13,21],[24,35]])}))),function(e){return t.apply(this,arguments)})},{key:"account",get:function(){return this.data.account}},{key:"address",get:function(){var e;return null===(e=this.data.account)||void 0===e?void 0:e.address.toString()}},{key:"balance",get:function(){return this.data.balance}},{key:"contract",get:function(){return this.data.contract}},{key:"walletContractCallbacks",get:function(){var e,t;return void 0!==(null===(e=this.account)||void 0===e?void 0:e.address)?new _.Contract(v.iq.Callbacks,null===(t=this.account)||void 0===t?void 0:t.address):void 0}},{key:"transaction",get:function(){return this.data.transaction}},{key:"hasProvider",get:function(){return this.state.hasProvider}},{key:"isConnecting",get:function(){return this.state.isConnecting}},{key:"isInitialized",get:function(){return this.state.isInitialized}},{key:"isInitializing",get:function(){return this.state.isInitializing}},{key:"isConnected",get:function(){return Boolean(this.address)}}]),e}());function L(){return N}},51821:(e,t,a)=>{a.d(t,{o:()=>y});var n=a(86902),r=a.n(n),i=a(14310),s=a.n(i),o=a(20116),l=a.n(o),c=a(34074),u=a.n(c),d=a(78914),m=a.n(d),h=a(39649),_=a.n(h),E=a(20368),p=a.n(E),f=a(63978),v=a.n(f),T=a(44845),g=a(33938),A=a(63109),N=a.n(A),L=a(77766),b=a.n(L),R=a(59340),k=a.n(R),I=a(9588);function O(e,t){var a=r()(e);if(s()){var n=s()(e);t&&(n=l()(n).call(n,(function(t){return u()(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)m()(a=O(Object(n),!0)).call(a,(function(t){(0,T.Z)(e,t,n[t])}));else if(_())p()(e,_()(n));else{var r;m()(r=O(Object(n))).call(r,(function(t){v()(e,t,u()(n,t))}))}}return e}var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.T5;return function(){return function(){var a=(0,g.Z)(N().mark((function a(n,r,i){var s,o,l,c,u;return N().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.makeUrl(n),l=b()(s="".concat(t)).call(s,o),a.next=4,fetch(l,S({method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:i?k()(i):void 0},r));case 4:if((c=a.sent).ok){a.next=7;break}throw c;case 7:return a.next=9,c.json();case 9:return u=a.sent,a.abrupt("return",u);case 11:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}()}}},99819:(e,t,a)=>{a.d(t,{Tx:()=>d,Sh:()=>M,Ds:()=>p,fF:()=>v,vU:()=>f,aB:()=>c,VY:()=>g,_w:()=>A,aS:()=>B,yp:()=>o,Kn:()=>x,HD:()=>D,TY:()=>V,ZT:()=>N,Mv:()=>L,Zc:()=>u,Hn:()=>I,tO:()=>S,GR:()=>P,g0:()=>T});var n=a(20116),r=a.n(n),i=a(44431),s=a.n(i);function o(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.isFinite()&&!e.isNaN()&&e.isPositive()&&(!t||!e.isZero())}function l(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):""}function c(e,t){var a,n=function(e,t){var a=new(s())(e||0);return void 0!==t&&(a=a.shiftedBy(-t)),o(a)?a.toFixed().split("."):["0"]}(e,t);return r()(a=[l(n[0]),n[1]]).call(a,(function(e){return e})).join(".")}function u(e,t,a,n){return"0"!==a?new(s())(e).times(new(s())(t)).dividedBy(new(s())(a)).decimalPlaces(0,s().ROUND_DOWN).shiftedBy(-n).toFixed():"0"}function d(e){return e.replace(/[-_/](\w)/g,(function(e,t){return t?t.toUpperCase():""}))}var m=a(77766),h=a.n(m),_=a(33032),E=a.n(_);function p(e,t,a){var n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=function(){clearTimeout(n),a||e.apply(void 0,i)},l=a&&!n;clearTimeout(n),n=E()(o,t),l&&e.apply(void 0,i)}}function f(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];if("undefined"!=typeof console&&"function"==typeof console.error){var r=p((function(){var t,n;(t=console).error.apply(t,h()(n=[e]).call(n,a))}),0);r()}}function v(e){}function T(e,t){var a=new(s())(e||0);return o(a)?void 0!==t&&a.decimalPlaces()>t?a.dp(t,s().ROUND_DOWN).toFixed():a.toFixed():e}function g(e,t,a){return c(new(s())(e||0).plus(a||0).toFixed(),t)}function A(e){return new(s())(e||"0").lt("0")?-1:new(s())(e||"0").gt("0")?1:0}function N(){}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=new(s())(e||0).shiftedBy(t).dp(2);return a.gte("1e12")?"$".concat(a.div("1e9").toFixed(t),"B"):"$".concat(c(a.toFixed(),t)||"0.00")}var b,R=a(3649),k=a.n(R);function I(e){var t;return e?h()(t="".concat(null==e?void 0:k()(e).call(e,0,6),"...")).call(t,null==e?void 0:k()(e).call(e,-4)):""}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.LOCAL,t=window[e];try{var a="__storage_test__";return t.setItem(a,a),t.removeItem(a),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==t.length}}!function(e){e.LOCAL="localStorage",e.SESSION="sessionStorage"}(b||(b={}));var S={available:O,get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.LOCAL;if(O(t))try{return window[t].getItem(e)}catch(e){return null}return null},set:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.LOCAL;if(O(a))try{window[a].setItem(e,t)}catch(e){}},remove:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.LOCAL;if(O(t))try{window[t].removeItem(e)}catch(e){}}},y=a(93476),C=a.n(y);function P(e,t){var a=new(C())((function(e,a){var n=E()((function(){clearTimeout(n),a(new Error("Timed out in ".concat(t," ms.")))}),t)}));return C().race([e,a])}var w=a(19623),D=function(e){return"string"==typeof e},x=function(e){return"object"===(0,w.Z)(e)&&null!==e},M=(Boolean,function(e,t){var a;return e&&t?h()(a="".concat(e,"/")).call(a,t):e||t||""});function B(e,t,a,n){var r=new(s())(t).shiftedBy(-n).div(new(s())(e).shiftedBy(-a)).dp(n,s().ROUND_UP).shiftedBy(n);return o(r)?r.toFixed():"0"}var U=a(33938),F=a(63109),G=a.n(F),Z=a(81643),W=a.n(Z),V=function(e){var t=[],a=0;return(0,U.Z)(G().mark((function n(){var r,i,s,o=arguments;return G().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a+=1,t.push(a),r=a,n.next=5,e.apply(void 0,o);case 5:if(i=n.sent,!((s=W()(t).call(t,r))>-1&&s===t.length-1)){n.next=10;break}return t=[],n.abrupt("return",i);case 10:return n.abrupt("return",void 0);case 11:case"end":return n.stop()}}),n)})))}}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var i=a[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,e=[],n.O=(t,a,r,i)=>{if(!a){var s=1/0;for(u=0;u<e.length;u++){for(var[a,r,i]=e[u],o=!0,l=0;l<a.length;l++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](a[l])))?a.splice(l--,1):(o=!1,i<s&&(s=i));if(o){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,r,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={826:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,i,[s,o,l]=a,c=0;if(s.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)var u=l(n)}for(t&&t(a);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[s[c]]=0;return n.O(u)},a=self.webpackChunkdemetergift=self.webpackChunkdemetergift||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=n.O(void 0,[216,351],(()=>n(75794)));r=n.O(r)})();